scavenge_equip_start = {
	set_country_flag = is_scavenging
	add_manpower = -50
	if = {
		limit = {
			ROOT = {
				has_tech = standard_weaponry_tech
				NOT = { has_tech = basic_ballistic_weaponry }
				NOT = { has_tech = basic_laser_weaponry }
			}
		}
		add_equipment_to_stockpile = { type = infantry_equipment_1 amount = -50 }
		set_country_flag = infantry_equipment_1
	}
	if = {
		limit = {
			ROOT = {
				has_tech = blunt_weaponry
				NOT = { has_tech = slashing_weaponry }
				NOT = { has_tech = standard_weaponry_tech }
			}
		}
		add_equipment_to_stockpile = { type = melee_equipment_1 amount = -50 }
		set_country_flag = melee_equipment_1
	}
	if = {
		limit = {
			ROOT = {
				has_tech = slashing_weaponry
				NOT = { has_tech = powered_weaponry }
			}
		}
		add_equipment_to_stockpile = { type = melee_equipment_2 amount = -50 }
		set_country_flag = melee_equipment_2
	}
	if = {
		limit = {
			ROOT = {
				has_tech = powered_weaponry
				NOT = { has_tech = improved_ballistic_weaponry }
				NOT = { has_tech = basic_laser_weaponry }
			}
		}
		add_equipment_to_stockpile = { type = melee_equipment_3 amount = -50 }
		set_country_flag = melee_equipment_3
	}
	if = {
		limit = {
			ROOT = {
				has_tech = basic_ballistic_weaponry
				NOT = { has_tech = improved_ballistic_weaponry }
				NOT = { has_tech = basic_laser_weaponry }
			}
		}
		add_equipment_to_stockpile = { type = ballistic_equipment_1 amount = -50 }
		set_country_flag = ballistic_equipment_1
	}
	if = {
		limit = {
			ROOT = {
				has_tech = improved_ballistic_weaponry
				NOT = { has_tech = advanced_ballistic_weaponry }
				NOT = { has_tech = improved_laser_weaponry }
			}
		}
		add_equipment_to_stockpile = { type = ballistic_equipment_2 amount = -50 }
		set_country_flag = ballistic_equipment_2
	}
	if = {
		limit = {
			ROOT = {
				has_tech = advanced_ballistic_weaponry
				NOT = { has_tech = advanced_laser_weaponry }
			}
		}
		add_equipment_to_stockpile = { type = ballistic_equipment_3 amount = -50 }
		set_country_flag = ballistic_equipment_3
	}
	if = {
		limit = {
			ROOT = {
				has_tech = basic_laser_weaponry
				NOT = { has_tech = improved_ballistic_weaponry }
				NOT = { has_tech = improved_laser_weaponry }
			}
		}
		add_equipment_to_stockpile = { type = energy_equipment_1 amount = -50 }
		set_country_flag = energy_equipment_1
	}
	if = {
		limit = {
			ROOT = {
				has_tech = improved_laser_weaponry
				NOT = { has_tech = advanced_ballistic_weaponry }
				NOT = { has_tech = advanced_laser_weaponry }
			}
		}
		add_equipment_to_stockpile = { type = energy_equipment_2 amount = -50 }
		set_country_flag = energy_equipment_2
	}
	if = {
		limit = {
			ROOT = {
				has_tech = advanced_laser_weaponry
			}
		}
		add_equipment_to_stockpile = { type = energy_equipment_3 amount = -50 }
		set_country_flag = energy_equipment_3
	}
}
scavenge_equip_end = { # Triggered with scavenge_equip_end = yes
	clr_country_flag = is_scavenging
	if = {
		limit = {
			has_country_flag = infantry_equipment_1
		}
		if = {
			limit = { check_variable = { resolve_rng < 0.1 } }
			add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 50 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 50
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.3 } }
			add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 47 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 47
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.5 } }
			add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 42 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 42
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.7 } }
			add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 36 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 36
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.9 } }
			add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 30 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 30
			}
		}
		else_if = {
			add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 22 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 22
			}
		}
		clr_country_flag = infantry_equipment_1
	}
	if = {
		limit = {
			has_country_flag = melee_equipment_1
		}
		if = {
			limit = { check_variable = { resolve_rng < 0.1 } }
			add_equipment_to_stockpile = { type = melee_equipment_1 amount = 50 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 50
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.3 } }
			add_equipment_to_stockpile = { type = melee_equipment_1 amount = 47 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 47
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.5 } }
			add_equipment_to_stockpile = { type = melee_equipment_1 amount = 42 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 42
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.7 } }
			add_equipment_to_stockpile = { type = melee_equipment_1 amount = 36 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 36
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.9 } }
			add_equipment_to_stockpile = { type = melee_equipment_1 amount = 30 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 30
			}
		}
		else_if = {
			add_equipment_to_stockpile = { type = melee_equipment_1 amount = 22 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 22
			}
		}
		clr_country_flag = melee_equipment_1
	}
	if = {
		limit = {
			has_country_flag = melee_equipment_2
		}
		if = {
			limit = { check_variable = { resolve_rng < 0.1 } }
			add_equipment_to_stockpile = { type = melee_equipment_2 amount = 50 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 50
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.3 } }
			add_equipment_to_stockpile = { type = melee_equipment_2 amount = 47 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 47
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.5 } }
			add_equipment_to_stockpile = { type = melee_equipment_2 amount = 42 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 42
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.7 } }
			add_equipment_to_stockpile = { type = melee_equipment_2 amount = 36 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 36
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.9 } }
			add_equipment_to_stockpile = { type = melee_equipment_2 amount = 30 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 30
			}
		}
		else_if = {
			add_equipment_to_stockpile = { type = melee_equipment_2 amount = 22 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 22
			}
		}
		clr_country_flag = melee_equipment_2
	}
	if = {
		limit = {
			has_country_flag = melee_equipment_3
		}
		if = {
			limit = { check_variable = { resolve_rng < 0.1 } }
			add_equipment_to_stockpile = { type = melee_equipment_3 amount = 50 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 50
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.3 } }
			add_equipment_to_stockpile = { type = melee_equipment_3 amount = 47 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 47
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.5 } }
			add_equipment_to_stockpile = { type = melee_equipment_3 amount = 42 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 42
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.7 } }
			add_equipment_to_stockpile = { type = melee_equipment_3 amount = 36 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 36
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.9 } }
			add_equipment_to_stockpile = { type = melee_equipment_3 amount = 30 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 30
			}
		}
		else_if = {
			add_equipment_to_stockpile = { type = melee_equipment_3 amount = 22 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 22
			}
		}
		clr_country_flag = melee_equipment_3
	}
	if = {
		limit = {
			has_country_flag = ballistic_equipment_1
		}
		if = {
			limit = { check_variable = { resolve_rng < 0.1 } }
			add_equipment_to_stockpile = { type = ballistic_equipment_1 amount = 50 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 50
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.3 } }
			add_equipment_to_stockpile = { type = ballistic_equipment_1 amount = 47 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 47
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.5 } }
			add_equipment_to_stockpile = { type = ballistic_equipment_1 amount = 42 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 42
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.7 } }
			add_equipment_to_stockpile = { type = ballistic_equipment_1 amount = 36 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 36
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.9 } }
			add_equipment_to_stockpile = { type = ballistic_equipment_1 amount = 30 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 30
			}
		}
		else_if = {
			add_equipment_to_stockpile = { type = ballistic_equipment_1 amount = 22 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 22
			}
		}
		clr_country_flag = ballistic_equipment_1
	}
	if = {
		limit = {
			has_country_flag = ballistic_equipment_2
		}
		if = {
			limit = { check_variable = { resolve_rng < 0.1 } }
			add_equipment_to_stockpile = { type = ballistic_equipment_2 amount = 50 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 50
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.3 } }
			add_equipment_to_stockpile = { type = ballistic_equipment_2 amount = 47 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 47
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.5 } }
			add_equipment_to_stockpile = { type = ballistic_equipment_2 amount = 42 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 42
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.7 } }
			add_equipment_to_stockpile = { type = ballistic_equipment_2 amount = 36 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 36
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.9 } }
			add_equipment_to_stockpile = { type = ballistic_equipment_2 amount = 30 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 30
			}
		}
		else_if = {
			add_equipment_to_stockpile = { type = ballistic_equipment_2 amount = 22 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 22
			}
		}
		clr_country_flag = ballistic_equipment_2
	}
	if = {
		limit = {
			has_country_flag = ballistic_equipment_3
		}
		if = {
			limit = { check_variable = { resolve_rng < 0.1 } }
			add_equipment_to_stockpile = { type = ballistic_equipment_3 amount = 50 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 50
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.3 } }
			add_equipment_to_stockpile = { type = ballistic_equipment_3 amount = 47 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 47
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.5 } }
			add_equipment_to_stockpile = { type = ballistic_equipment_3 amount = 42 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 42
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.7 } }
			add_equipment_to_stockpile = { type = ballistic_equipment_3 amount = 36 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 36
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.9 } }
			add_equipment_to_stockpile = { type = ballistic_equipment_3 amount = 30 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 30
			}
		}
		else_if = {
			add_equipment_to_stockpile = { type = ballistic_equipment_3 amount = 22 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 22
			}
		}
		clr_country_flag = ballistic_equipment_3
	}
	if = {
		limit = {
			has_country_flag = energy_equipment_1
		}
		if = {
			limit = { check_variable = { resolve_rng < 0.1 } }
			add_equipment_to_stockpile = { type = energy_equipment_1 amount = 50 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 50
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.3 } }
			add_equipment_to_stockpile = { type = energy_equipment_1 amount = 47 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 47
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.5 } }
			add_equipment_to_stockpile = { type = energy_equipment_1 amount = 42 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 42
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.7 } }
			add_equipment_to_stockpile = { type = energy_equipment_1 amount = 36 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 36
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.9 } }
			add_equipment_to_stockpile = { type = energy_equipment_1 amount = 30 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 30
			}
		}
		else_if = {
			add_equipment_to_stockpile = { type = energy_equipment_1 amount = 22 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 22
			}
		}
		clr_country_flag = energy_equipment_1
	}
	if = {
		limit = {
			has_country_flag = energy_equipment_2
		}
		if = {
			limit = { check_variable = { resolve_rng < 0.1 } }
			add_equipment_to_stockpile = { type = energy_equipment_2 amount = 50 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 50
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.3 } }
			add_equipment_to_stockpile = { type = energy_equipment_2 amount = 47 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 47
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.5 } }
			add_equipment_to_stockpile = { type = energy_equipment_2 amount = 42 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 42
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.7 } }
			add_equipment_to_stockpile = { type = energy_equipment_2 amount = 36 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 36
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.9 } }
			add_equipment_to_stockpile = { type = energy_equipment_2 amount = 30 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 30
			}
		}
		else_if = {
			add_equipment_to_stockpile = { type = energy_equipment_2 amount = 22 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 22
			}
		}
		clr_country_flag = energy_equipment_2
	}
	if = {
		limit = {
			has_country_flag = energy_equipment_3
		}
		if = {
			limit = { check_variable = { resolve_rng < 0.1 } }
			add_equipment_to_stockpile = { type = energy_equipment_3 amount = 50 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 50
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.3 } }
			add_equipment_to_stockpile = { type = energy_equipment_3 amount = 47 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 47
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.5 } }
			add_equipment_to_stockpile = { type = energy_equipment_3 amount = 42 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 42
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.7 } }
			add_equipment_to_stockpile = { type = energy_equipment_3 amount = 36 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 36
			}
		}
		else_if = {
			limit = { check_variable = { resolve_rng < 0.9 } }
			add_equipment_to_stockpile = { type = energy_equipment_3 amount = 30 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 30
			}
		}
		else_if = {
			add_equipment_to_stockpile = { type = energy_equipment_3 amount = 22 }
			if = {
				limit = { NOT = { has_country_flag = scavenge_pa } }
				add_manpower = 22
			}
		}
		clr_country_flag = energy_equipment_3
	}
}
scavenge_pa_start = {
	if = {
		limit = {
			has_tech = power_armour
			NOT = { has_tech = power_armour_t45d }
			NOT = { has_tech = power_armour_t51b }
			NOT = { has_tech = power_armour_enclave1 }
			NOT = { has_tech = power_armour_enclave2 }
			NOT = { has_tech = power_armour_bos }
			NOT = { has_tech = power_armour_legion }
			NOT = { has_tech = power_armour_raider }
		}
		add_equipment_to_stockpile = { type = power_armor_equipment_1 amount = -50 }
		set_country_flag = scavenged_pa_1
	}
	if = {
		limit = {
			has_tech = power_armour_t45d
			NOT = { has_tech = power_armour_t51b }
			NOT = { has_tech = power_armour_enclave1 }
			NOT = { has_tech = power_armour_enclave2 }
			NOT = { has_tech = power_armour_bos }
			NOT = { has_tech = power_armour_legion }
			NOT = { has_tech = power_armour_raider }
		}
		add_equipment_to_stockpile = { type = power_armor_equipment_2 amount = -50 }
		set_country_flag = scavenged_pa_2
	}
	if = {
		limit = {
			has_tech = power_armour_t51b
			NOT = { has_tech = power_armour_enclave1 }
			NOT = { has_tech = power_armour_enclave2 }
			NOT = { has_tech = power_armour_bos }
			NOT = { has_tech = power_armour_legion }
			NOT = { has_tech = power_armour_raider }
		}
		add_equipment_to_stockpile = { type = power_armor_equipment_3 amount = -50 }
		set_country_flag = scavenged_pa_3
	}
	if = {
		limit = {
			has_tech = power_armour_enclave1
			NOT = { has_tech = power_armour_enclave2 }
		}
		add_equipment_to_stockpile = { type = enclave_power_armour_equipment_1 amount = -50 }
		set_country_flag = scavenged_pa_4
	}
	if = {
		limit = {
			has_tech = power_armour_enclave2
		}
		add_equipment_to_stockpile = { type = enclave_power_armour_equipment_2 amount = -50 }
		set_country_flag = scavenged_pa_5
	}
	if = {
		limit = {
			has_tech = power_armour_bos
		}
		add_equipment_to_stockpile = { type = bos_power_armour_equipment amount = -50 }
		set_country_flag = scavenged_pa_6
	}
	if = {
		limit = {
			has_tech = power_armour_legion
		}
		add_equipment_to_stockpile = { type = legion_power_armour_equipment amount = -50 }
		set_country_flag = scavenged_pa_7
	}
	if = {
		limit = {
			has_tech = power_armour_raider
		}
		add_equipment_to_stockpile = { type = raider_power_armour_equipment amount = -50 }
		set_country_flag = scavenged_pa_8
	}
}
scavenge_pa_end = {
	if = {
		limit = { check_variable = { resolve_rng < 0.5 } }
		add_manpower = 50
		if = {
			limit = {
				has_country_flag = scavenged_pa_1
			}
			add_equipment_to_stockpile = { type = power_armor_equipment_1 amount = 50 }
			clr_country_flag = scavenged_pa_1
		}
		if = {
			limit = {
				has_country_flag = scavenged_pa_2
			}
			add_equipment_to_stockpile = { type = power_armor_equipment_2 amount = 50 }
			clr_country_flag = scavenged_pa_2
		}
		if = {
			limit = {
				has_country_flag = scavenged_pa_3
			}
			add_equipment_to_stockpile = { type = power_armor_equipment_3 amount = 50 }
			clr_country_flag = scavenged_pa_3
		}
		if = {
			limit = {
				has_country_flag = scavenged_pa_4
			}
			add_equipment_to_stockpile = { type = enclave_power_armour_equipment_1 amount = 50 }
			clr_country_flag = scavenged_pa_4
		}
		if = {
			limit = {
				has_country_flag = scavenged_pa_5
			}
			add_equipment_to_stockpile = { type = enclave_power_armour_equipment_2 amount = 50 }
			clr_country_flag = scavenged_pa_5
		}
		if = {
			limit = {
				has_country_flag = scavenged_pa_6
			}
			add_equipment_to_stockpile = { type = bos_power_armour_equipment amount = 50 }
			clr_country_flag = scavenged_pa_6
		}
		if = {
			limit = {
				has_country_flag = scavenged_pa_7
			}
			add_equipment_to_stockpile = { type = legion_power_armour_equipment amount = 50 }
			clr_country_flag = scavenged_pa_7
		}
		if = {
			limit = {
				has_country_flag = scavenged_pa_8
			}
			add_equipment_to_stockpile = { type = raider_power_armour_equipment amount = 50 }
			clr_country_flag = scavenged_pa_8
		}
	}
	else_if = {
		limit = { check_variable = { resolve_rng < 0.7 } }
		add_manpower = 47
		if = {
			limit = {
				has_country_flag = scavenged_pa_1
			}
			add_equipment_to_stockpile = { type = power_armor_equipment_1 amount = 47 }
			clr_country_flag = scavenged_pa_1
		}
		if = {
			limit = {
				has_country_flag = scavenged_pa_2
			}
			add_equipment_to_stockpile = { type = power_armor_equipment_2 amount = 47 }
			clr_country_flag = scavenged_pa_2
		}
		if = {
			limit = {
				has_country_flag = scavenged_pa_3
			}
			add_equipment_to_stockpile = { type = power_armor_equipment_3 amount = 47 }
			clr_country_flag = scavenged_pa_3
		}
		if = {
			limit = {
				has_country_flag = scavenged_pa_4
			}
			add_equipment_to_stockpile = { type = enclave_power_armour_equipment_1 amount = 47 }
			clr_country_flag = scavenged_pa_4
		}
		if = {
			limit = {
				has_country_flag = scavenged_pa_5
			}
			add_equipment_to_stockpile = { type = enclave_power_armour_equipment_2 amount = 47 }
			clr_country_flag = scavenged_pa_5
		}
		if = {
			limit = {
				has_country_flag = scavenged_pa_6
			}
			add_equipment_to_stockpile = { type = bos_power_armour_equipment amount = 47 }
			clr_country_flag = scavenged_pa_6
		}
		if = {
			limit = {
				has_country_flag = scavenged_pa_7
			}
			add_equipment_to_stockpile = { type = legion_power_armour_equipment amount = 47 }
			clr_country_flag = scavenged_pa_7
		}
		if = {
			limit = {
				has_country_flag = scavenged_pa_8
			}
			add_equipment_to_stockpile = { type = raider_power_armour_equipment amount = 47 }
			clr_country_flag = scavenged_pa_8
		}
	}
	else_if = {
		limit = { check_variable = { resolve_rng < 0.9 } }
		add_manpower = 45
		if = {
			limit = {
				has_country_flag = scavenged_pa_1
			}
			add_equipment_to_stockpile = { type = power_armor_equipment_1 amount = 45 }
			clr_country_flag = scavenged_pa_1
		}
		if = {
			limit = {
				has_country_flag = scavenged_pa_2
			}
			add_equipment_to_stockpile = { type = power_armor_equipment_2 amount = 45 }
			clr_country_flag = scavenged_pa_2
		}
		if = {
			limit = {
				has_country_flag = scavenged_pa_3
			}
			add_equipment_to_stockpile = { type = power_armor_equipment_3 amount = 45 }
			clr_country_flag = scavenged_pa_3
		}
		if = {
			limit = {
				has_country_flag = scavenged_pa_4
			}
			add_equipment_to_stockpile = { type = enclave_power_armour_equipment_1 amount = 45 }
			clr_country_flag = scavenged_pa_4
		}
		if = {
			limit = {
				has_country_flag = scavenged_pa_5
			}
			add_equipment_to_stockpile = { type = enclave_power_armour_equipment_2 amount = 45 }
			clr_country_flag = scavenged_pa_5
		}
		if = {
			limit = {
				has_country_flag = scavenged_pa_6
			}
			add_equipment_to_stockpile = { type = bos_power_armour_equipment amount = 45 }
			clr_country_flag = scavenged_pa_6
		}
		if = {
			limit = {
				has_country_flag = scavenged_pa_7
			}
			add_equipment_to_stockpile = { type = legion_power_armour_equipment amount = 45 }
			clr_country_flag = scavenged_pa_7
		}
		if = {
			limit = {
				has_country_flag = scavenged_pa_8
			}
			add_equipment_to_stockpile = { type = raider_power_armour_equipment amount = 45 }
			clr_country_flag = scavenged_pa_8
		}
	}
	else_if = {
		add_manpower = 42
		if = {
			limit = {
				has_country_flag = scavenged_pa_1
			}
			add_equipment_to_stockpile = { type = power_armor_equipment_1 amount = 42 }
			clr_country_flag = scavenged_pa_1
		}
		if = {
			limit = {
				has_country_flag = scavenged_pa_2
			}
			add_equipment_to_stockpile = { type = power_armor_equipment_2 amount = 42 }
			clr_country_flag = scavenged_pa_2
		}
		if = {
			limit = {
				has_country_flag = scavenged_pa_3
			}
			add_equipment_to_stockpile = { type = power_armor_equipment_3 amount = 42 }
			clr_country_flag = scavenged_pa_3
		}
		if = {
			limit = {
				has_country_flag = scavenged_pa_4
			}
			add_equipment_to_stockpile = { type = enclave_power_armour_equipment_1 amount = 42 }
			clr_country_flag = scavenged_pa_4
		}
		if = {
			limit = {
				has_country_flag = scavenged_pa_5
			}
			add_equipment_to_stockpile = { type = enclave_power_armour_equipment_2 amount = 42 }
			clr_country_flag = scavenged_pa_5
		}
		if = {
			limit = {
				has_country_flag = scavenged_pa_6
			}
			add_equipment_to_stockpile = { type = bos_power_armour_equipment amount = 42 }
			clr_country_flag = scavenged_pa_6
		}
		if = {
			limit = {
				has_country_flag = scavenged_pa_7
			}
			add_equipment_to_stockpile = { type = legion_power_armour_equipment amount = 42 }
			clr_country_flag = scavenged_pa_7
		}
		if = {
			limit = {
				has_country_flag = scavenged_pa_8
			}
			add_equipment_to_stockpile = { type = raider_power_armour_equipment amount = 42 }
			clr_country_flag = scavenged_pa_8
		}
	}
}
scavenge_fly_start = {
	add_equipment_to_stockpile = { type = vb_transport_plane_equipment amount = -3 }
}
scavenge_fly_end = {
	if = {
		limit = { check_variable = { resolve_rng < 0.95 } }
		add_equipment_to_stockpile = { type = vb_transport_plane_equipment amount = 3 }
	}
	else_if = {
		add_equipment_to_stockpile = { type = vb_transport_plane_equipment amount = 2 }
	}
}
scavenge_vehicle_start = {
	if = {
		limit = {
			has_tech = bike_tech_1
			NOT = { has_tech = truck_tech_1 }
			NOT = { has_tech = truck_tech_2 }
		}
		add_equipment_to_stockpile = { type = motorbike_equipment_1 amount = -50 }
		set_country_flag = scavenge_vehicle_1
	}
	if = {
		limit = {
			has_tech = truck_tech_1
			NOT = { has_tech = truck_tech_2 }
		}
		add_equipment_to_stockpile = { type = truck_equipment_1 amount = -10 }
		set_country_flag = scavenge_vehicle_1
	}
	if = {
		limit = {
			has_tech = truck_tech_2
		}
		add_equipment_to_stockpile = { type = truck_equipment_2 amount = -10 }
		set_country_flag = scavenge_vehicle_1
	}
}
scavenge_vehicle_end = {
	if = {
		limit = { check_variable = { resolve_rng < 0.4 } }
		if = {
			limit = {
				has_country_flag = scavenge_vehicle_1
			}
			add_equipment_to_stockpile = { type = motorbike_equipment_1 amount = 50 }
			clr_country_flag = scavenge_vehicle_1
		}
		if = {
			limit = {
				has_country_flag = scavenge_vehicle_2
			}
			add_equipment_to_stockpile = { type = truck_equipment_1 amount = 10 }
			clr_country_flag = scavenge_vehicle_2
		}
		if = {
			limit = {
				has_country_flag = scavenge_vehicle_3
			}
			add_equipment_to_stockpile = { type = truck_equipment_2 amount = 10 }
			clr_country_flag = scavenge_vehicle_3
		}
	}
	else_if = {
		limit = { check_variable = { resolve_rng < 0.6 } }
		if = {
			limit = {
				has_country_flag = scavenge_vehicle_1
			}
			add_equipment_to_stockpile = { type = motorbike_equipment_1 amount = 42 }
			clr_country_flag = scavenge_vehicle_1
		}
		if = {
			limit = {
				has_country_flag = scavenge_vehicle_2
			}
			add_equipment_to_stockpile = { type = truck_equipment_1 amount = 9 }
			clr_country_flag = scavenge_vehicle_2
		}
		if = {
			limit = {
				has_country_flag = scavenge_vehicle_3
			}
			add_equipment_to_stockpile = { type = truck_equipment_2 amount = 9 }
			clr_country_flag = scavenge_vehicle_3
		}
	}
	else_if = {
		limit = { check_variable = { resolve_rng < 0.8 } }
		if = {
			limit = {
				has_country_flag = scavenge_vehicle_1
			}
			add_equipment_to_stockpile = { type = motorbike_equipment_1 amount = 39 }
			clr_country_flag = scavenge_vehicle_1
		}
		if = {
			limit = {
				has_country_flag = scavenge_vehicle_2
			}
			add_equipment_to_stockpile = { type = truck_equipment_1 amount = 8 }
			clr_country_flag = scavenge_vehicle_2
		}
		if = {
			limit = {
				has_country_flag = scavenge_vehicle_3
			}
			add_equipment_to_stockpile = { type = truck_equipment_2 amount = 8 }
			clr_country_flag = scavenge_vehicle_3
		}
	}
	else_if = {
		if = {
			limit = {
				has_country_flag = scavenge_vehicle_1
			}
			add_equipment_to_stockpile = { type = motorbike_equipment_1 amount = 35 }
			clr_country_flag = scavenge_vehicle_1
		}
		if = {
			limit = {
				has_country_flag = scavenge_vehicle_2
			}
			add_equipment_to_stockpile = { type = truck_equipment_1 amount = 7 }
			clr_country_flag = scavenge_vehicle_2
		}
		if = {
			limit = {
				has_country_flag = scavenge_vehicle_3
			}
			add_equipment_to_stockpile = { type = truck_equipment_2 amount = 7 }
			clr_country_flag = scavenge_vehicle_3
		}
	}
}
scavenge_randomiser = {
	## Determine number of rolls
	# Randomising base rolls between 5 and 10
	set_variable = { rolls = 10 }
	set_variable = { rand_int = random }
	multiply_variable = { rand_int = 10 }
	round_variable = rand_int
	add_to_variable = { rolls = rand_int }
	clear_variable = rand_int
	# Accounting for 'bonus rolls' from scavenging efficiency
	if = {
		limit = { check_variable = { scavenge_efficiency = 0 } }
		add_to_variable = { rolls = -3 }
	}
	else_if = {
		limit = { check_variable = { scavenge_efficiency = 10 } }
		add_to_variable = { rolls = -1 }
	}
	else_if = {
		limit = { check_variable = { scavenge_efficiency = 20 } }
		# No effect
	}
	else_if = {
		limit = { check_variable = { scavenge_efficiency = 30 } }
		add_to_variable = { rolls = 1 }
	}
	else_if = {
		limit = { check_variable = { scavenge_efficiency = 40 } }
		add_to_variable = { rolls = 2 }
	}
	else_if = {
		limit = { check_variable = { scavenge_efficiency = 50 } }
		add_to_variable = { rolls = 2 }
	}
	else_if = {
		limit = { check_variable = { scavenge_efficiency = 60 } }
		add_to_variable = { rolls = 1 }
	}
	else_if = {
		limit = { check_variable = { scavenge_efficiency = 70 } }
		# No effect
	}
	else_if = {
		limit = { check_variable = { scavenge_efficiency = 80 } }
		add_to_variable = { rolls = -1 }
	}
	else_if = {
		limit = { check_variable = { scavenge_efficiency = 90 } }
		add_to_variable = { rolls = -3 }
	}
	else_if = {
		limit = { check_variable = { scavenge_efficiency = 100 } }
		add_to_variable = { rolls = -4 }
	}
	else_if = {
		# No effect
		log = "Scavenge Efficiency for [Root.tag] (currently [?Root.scavenge_efficiency]) is either over 100 or not a multiple of 10 - this should never happen. Tell Happy."
	}
	## Linking rolls to loot tables
	if = {
		limit = { has_country_flag = equip_scav }
		equipment_loot_table = yes
		clr_country_flag = equip_scav
	}
	else_if = {
		limit = { has_country_flag = robot_scav }
		robot_loot_table = yes
		clr_country_flag = robot_scav
	}
	else_if = {
		limit = { has_country_flag = vehicle_scav }
		vehicle_loot_table = yes
		clr_country_flag = vehicle_scav
	}
	else_if = {
		# No effect
		log = "No loot table flag has been set - this should never happen. Tell Happy."
	}
	clear_variable = rolls
}
equipment_loot_table = {
	## Randomly selecting an entry from 1 to 80
	set_variable = { rand_int = random }
	multiply_variable = { rand_int = 80 }
	round_variable = rand_int
	## Linking the roll to the table
	if = { # 0 is blank because the chance to get it is half the chance for other numbers (except 40)
		limit = { check_variable = { rand_int = 0 } }
		# No effect
	}
	else_if = { # This first one is commented to explain it - the rest aren't except where there is a marked variation from this template
		limit = { # Occupies 5 entries
			AND = {
				check_variable = { rand_int > 0 }
				check_variable = { rand_int < 6 }
			}
		}
		if = { # Checks the roll meets the availability criteria
			limit = { check_variable = { scavenge_efficiency < 90 } }
			if = { # If this entry hasn't been rolled before, set the var to 1 - we're reaching nestled levels never seen before!
				limit = { NOT = { has_variable = s_pipe_guns } }
				set_variable = { s_pipe_guns = 1 }
			}
			else_if = { # Otherwise add 1 to the var
				add_to_variable = { s_pipe_guns = 1 }
			}
		}
		else_if = { # If we failed the criteria but our efficiency is 90 or 100, we regain the roll
			limit = { check_variable = { scavenge_efficiency > 90 } }
			add_to_variable = { rolls = 1 }
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entries 6 - 10
		limit = {
			AND = {
				check_variable = { rand_int > 5 }
				check_variable = { rand_int < 11 }
			}
		}
		if = {
			limit = { check_variable = { scavenge_efficiency < 90 } }
			if = {
				limit = { NOT = { has_variable = s_melee_e_1 } }
				set_variable = { s_melee_e_1 = 1 }
			}
			else_if = {
				add_to_variable = { s_melee_e_1 = 1 }
			}
		}
		else_if = {
			limit = { check_variable = { scavenge_efficiency > 90 } }
			add_to_variable = { rolls = 1 }
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entries 11 - 15
		limit = {
			AND = {
				check_variable = { rand_int > 10 }
				check_variable = { rand_int < 16 }
			}
		}
		if = {
			limit = { check_variable = { scavenge_efficiency < 90 } }
			if = {
				limit = { NOT = { has_variable = s_ballistic_e_1 } }
				set_variable = { s_ballistic_e_1 = 1 }
			}
			else_if = {
				add_to_variable = { s_ballistic_e_1 = 1 }
			}
		}
		else_if = {
			limit = { check_variable = { scavenge_efficiency > 90 } }
			add_to_variable = { rolls = 1 }
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entries 16 - 19
		limit = {
			AND = {
				check_variable = { rand_int > 15 }
				check_variable = { rand_int < 20 }
			}
		}
		if = {
			limit = { check_variable = { scavenge_efficiency < 90 } }
			if = {
				limit = { NOT = { has_variable = s_melee_2 } }
				set_variable = { s_melee_2 = 1 }
			}
			else_if = {
				add_to_variable = { s_melee_2 = 1 }
			}
		}
		else_if = {
			limit = { check_variable = { scavenge_efficiency > 90 } }
			add_to_variable = { rolls = 1 }
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entries 16 - 19
		limit = {
			AND = {
				check_variable = { rand_int > 15 }
				check_variable = { rand_int < 20 }
			}
		}
		if = {
			limit = { check_variable = { scavenge_efficiency < 90 } }
			if = {
				limit = { NOT = { has_variable = s_melee_2 } }
				set_variable = { s_melee_2 = 1 }
			}
			else_if = {
				add_to_variable = { s_melee_2 = 1 }
			}
		}
		else_if = {
			limit = { check_variable = { scavenge_efficiency > 90 } }
			add_to_variable = { rolls = 1 }
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entries 20 - 23
		limit = {
			AND = {
				check_variable = { rand_int > 19 }
				check_variable = { rand_int < 24 }
			}
		}
		if = {
			limit = { always = yes }
			if = {
				limit = { NOT = { has_variable = s_support_e } }
				set_variable = { s_support_e = 1 }
			}
			else_if = {
				add_to_variable = { s_support_e = 1 }
			}
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entries 24 - 26
		limit = {
			AND = {
				check_variable = { rand_int > 23 }
				check_variable = { rand_int < 27 }
			}
		}
		if = {
			limit = { always = yes }
			if = {
				limit = { NOT = { has_variable = s_pmgs } }
				set_variable = { s_pmgs = 1 }
			}
			else_if = {
				add_to_variable = { s_pmgs = 1 }
			}
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entries 27 - 29
		limit = {
			AND = {
				check_variable = { rand_int > 26 }
				check_variable = { rand_int < 30 }
			}
		}
		if = {
			limit = { always = yes }
			if = {
				limit = { NOT = { has_variable = s_dynamite } }
				set_variable = { s_dynamite = 1 }
			}
			else_if = {
				add_to_variable = { s_dynamite = 1 }
			}
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entries 30 - 32
		limit = {
			AND = {
				check_variable = { rand_int > 29 }
				check_variable = { rand_int < 33 }
			}
		}
		if = {
			limit = { always = yes }
			if = {
				limit = { NOT = { has_variable = s_energy_e_1 } }
				set_variable = { s_energy_e_1 = 1 }
			}
			else_if = {
				add_to_variable = { s_energy_e_1 = 1 }
			}
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entries 33 - 34
		limit = {
			AND = {
				check_variable = { rand_int > 32 }
				check_variable = { rand_int < 35 }
			}
		}
		if = {
			limit = { always = yes }
			if = {
				limit = { NOT = { has_variable = s_melee_3 } }
				set_variable = { s_melee_3 = 1 }
			}
			else_if = {
				add_to_variable = { s_melee_3 = 1 }
			}
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entries 35 - 36
		limit = {
			AND = {
				check_variable = { rand_int > 34 }
				check_variable = { rand_int < 37 }
			}
		}
		if = {
			limit = { check_variable = { scavenge_efficiency > 30 } }
			if = {
				limit = { NOT = { has_variable = s_ballistic_e_2 } }
				set_variable = { s_ballistic_e_2 = 1 }
			}
			else_if = {
				add_to_variable = { s_ballistic_e_2 = 1 }
			}
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entries 37 - 38
		limit = {
			AND = {
				check_variable = { rand_int > 36 }
				check_variable = { rand_int < 39 }
			}
		}
		if = {
			limit = { check_variable = { scavenge_efficiency > 30 } }
			if = {
				limit = { NOT = { has_variable = s_energy_e_2 } }
				set_variable = { s_energy_e_2 = 1 }
			}
			else_if = {
				add_to_variable = { s_energy_e_2 = 1 }
			}
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entries 39 - 40
		limit = {
			AND = {
				check_variable = { rand_int > 38 }
				check_variable = { rand_int < 41 }
			}
		}
		if = {
			limit = { check_variable = { scavenge_efficiency > 40 } }
			if = {
				limit = { NOT = { has_variable = s_flamer } }
				set_variable = { s_flamer = 1 }
			}
			else_if = {
				add_to_variable = { s_flamer = 1 }
			}
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entries 41 - 42
		limit = {
			AND = {
				check_variable = { rand_int > 40 }
				check_variable = { rand_int < 43 }
			}
		}
		if = {
			limit = { check_variable = { scavenge_efficiency > 40 } }
			if = {
				limit = { NOT = { has_variable = s_mortar } }
				set_variable = { s_mortar = 1 }
			}
			else_if = {
				add_to_variable = { s_mortar = 1 }
			}
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entries 43 - 44
		limit = {
			AND = {
				check_variable = { rand_int > 42 }
				check_variable = { rand_int < 45 }
			}
		}
		if = {
			limit = { check_variable = { scavenge_efficiency > 40 } }
			if = {
				limit = { NOT = { has_variable = s_scavenged_pa } }
				set_variable = { s_scavenged_pa = 1 }
			}
			else_if = {
				add_to_variable = { s_scavenged_pa = 1 }
			}
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entry 45
		limit = {
			AND = {
				check_variable = { rand_int = 45 }
			}
		}
		if = {
			limit = { check_variable = { scavenge_efficiency > 50 } }
			if = {
				limit = { NOT = { has_variable = s_energy_e_3 } }
				set_variable = { s_energy_e_3 = 1 }
			}
			else_if = {
				add_to_variable = { s_energy_e_3 = 1 }
			}
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entry 46
		limit = {
			AND = {
				check_variable = { rand_int = 46 }
			}
		}
		if = {
			limit = { check_variable = { scavenge_efficiency > 50 } }
			if = {
				limit = { NOT = { has_variable = s_ballistic_e_3 } }
				set_variable = { s_ballistic_e_3 = 1 }
			}
			else_if = {
				add_to_variable = { s_ballistic_e_3 = 1 }
			}
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entry 47
		limit = {
			AND = {
				check_variable = { rand_int = 47 }
			}
		}
		if = {
			limit = { check_variable = { scavenge_efficiency > 60 } }
			if = {
				limit = { NOT = { has_variable = s_t45d_pa } }
				set_variable = { s_t45d_pa = 1 }
			}
			else_if = {
				add_to_variable = { s_t45d_pa = 1 }
			}
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entry 48
		limit = {
			AND = {
				check_variable = { rand_int = 48 }
			}
		}
		if = {
			limit = { check_variable = { scavenge_efficiency > 70 } }
			if = {
				limit = { NOT = { has_variable = s_minigun } }
				set_variable = { s_minigun = 1 }
			}
			else_if = {
				add_to_variable = { s_minigun = 1 }
			}
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entry 49
		limit = {
			AND = {
				check_variable = { rand_int = 49 }
			}
		}
		if = {
			limit = { check_variable = { scavenge_efficiency > 70 } }
			if = {
				limit = { NOT = { has_variable = s_missile_launcher } }
				set_variable = { s_missile_launcher = 1 }
			}
			else_if = {
				add_to_variable = { s_missile_launcher = 1 }
			}
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entry 50
		limit = {
			AND = {
				check_variable = { rand_int = 50 }
			}
		}
		if = {
			limit = { check_variable = { scavenge_efficiency > 80 } }
			if = {
				limit = { NOT = { has_variable = s_gatling } }
				set_variable = { s_gatling = 1 }
			}
			else_if = {
				add_to_variable = { s_gatling = 1 }
			}
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entry 51
		limit = {
			AND = {
				check_variable = { rand_int = 51 }
			}
		}
		if = {
			limit = { check_variable = { scavenge_efficiency > 80 } }
			if = {
				limit = { NOT = { has_variable = s_incinerator } }
				set_variable = { s_incinerator = 1 }
			}
			else_if = {
				add_to_variable = { s_incinerator = 1 }
			}
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = {
		# No effect
	}
	## Clearing variables and removing one roll
	clear_variable = rand_int
	subtract_from_variable = { rolls = 1 }
	## Calling itself again if there are remaining rolls
	if = {
		limit = { NOT = { check_variable = { rolls = 0 } } }
		equipment_loot_table = yes
	}
}
robot_loot_table = {
	## Randomly selecting an entry from 0 to 10
	set_variable = { rand_int = random }
	multiply_variable = { rand_int = 10 }
	round_variable = rand_int
	## Linking the roll to the table
	if = { # 0 is blank because the chance to get it is half the chance for other numbers (except 40)
		limit = { check_variable = { rand_int = 0 } }
		# No effect
	}
	else_if = { # Entry 1
		limit = {
			AND = {
				check_variable = { rand_int = 1 }
			}
		}
		if = {
			limit = { always = yes }
			if = {
				limit = { NOT = { has_variable = s_lr_1 } }
				set_variable = { s_lr_1 = 1 }
			}
			else_if = {
				add_to_variable = { s_lr_1 = 1 }
			}
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entry 2
		limit = {
			AND = {
				check_variable = { rand_int = 2 }
			}
		}
		if = {
			limit = { always = yes }
			if = {
				limit = { NOT = { has_variable = s_lr_2 } }
				set_variable = { s_lr_2 = 1 }
			}
			else_if = {
				add_to_variable = { s_lr_2 = 1 }
			}
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entry 3
		limit = {
			AND = {
				check_variable = { rand_int = 3 }
			}
		}
		if = {
			limit = { always = yes }
			if = {
				limit = { NOT = { has_variable = s_mr_2 } }
				set_variable = { s_mr_2 = 1 }
			}
			else_if = {
				add_to_variable = { s_mr_2 = 1 }
			}
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entry 4
		limit = {
			AND = {
				check_variable = { rand_int = 4 }
			}
		}
		if = {
			limit = { check_variable = { scavenge_efficiency > 50 } }
			if = {
				limit = { NOT = { has_variable = s_mr_3 } }
				set_variable = { s_mr_3 = 1 }
			}
			else_if = {
				add_to_variable = { s_mr_3 = 1 }
			}
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entry 5
		limit = {
			AND = {
				check_variable = { rand_int = 5 }
			}
		}
		if = {
			limit = { check_variable = { scavenge_efficiency > 60 } }
			if = {
				limit = { NOT = { has_variable = s_hr_2 } }
				set_variable = { s_hr_2 = 1 }
			}
			else_if = {
				add_to_variable = { s_hr_2 = 1 }
			}
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entry 5
		limit = {
			AND = {
				check_variable = { rand_int = 6 }
			}
		}
		if = {
			limit = { check_variable = { scavenge_efficiency > 80 } }
			if = {
				limit = { NOT = { has_variable = s_hr_3 } }
				set_variable = { s_hr_3 = 1 }
			}
			else_if = {
				add_to_variable = { s_hr_3 = 1 }
			}
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = {
		# No effect
	}
	## Clearing variables and removing one roll
	clear_variable = rand_int
	subtract_from_variable = { rolls = 1 }
	## Calling itself again if there are remaining rolls
	if = {
		limit = { NOT = { check_variable = { rolls = 0 } } }
		robot_loot_table = yes
	}
}
vehicle_loot_table = {
	## Randomly selecting an entry from 0 to 20
	set_variable = { rand_int = random }
	multiply_variable = { rand_int = 20 }
	round_variable = rand_int
	## Linking the roll to the table
	if = { # 0 is blank because the chance to get it is half the chance for other numbers (except 40)
		limit = { check_variable = { rand_int = 0 } }
		# No effect
	}
	else_if = { # Entry 1
		limit = {
			AND = {
				check_variable = { rand_int = 1 }
			}
		}
		if = {
			limit = { always = yes }
			if = {
				limit = { NOT = { has_variable = s_motorbike_1 } }
				set_variable = { s_motorbike_1 = 1 }
			}
			else_if = {
				add_to_variable = { s_motorbike_1 = 1 }
			}
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entry 2
		limit = {
			AND = {
				check_variable = { rand_int = 2 }
			}
		}
		if = {
			limit = { always = yes }
			if = {
				limit = { NOT = { has_variable = s_motorbike_2 } }
				set_variable = { s_motorbike_2 = 1 }
			}
			else_if = {
				add_to_variable = {s_motorbike_2 = 1 }
			}
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entry 3
		limit = {
			AND = {
				check_variable = { rand_int = 3 }
			}
		}
		if = {
			limit = { always = yes }
			if = {
				limit = { NOT = { has_variable = s_car_1 } }
				set_variable = { s_car_1 = 1 }
			}
			else_if = {
				add_to_variable = { s_car_1 = 1 }
			}
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entry 4
		limit = {
			AND = {
				check_variable = { rand_int = 4 }
			}
		}
		if = {
			limit = { check_variable = { scavenge_efficiency > 50 } }
			if = {
				limit = { NOT = { has_variable = s_car_2 } }
				set_variable = { s_car_2 = 1 }
			}
			else_if = {
				add_to_variable = { s_car_2 = 1 }
			}
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entry 5
		limit = {
			AND = {
				check_variable = { rand_int = 5 }
			}
		}
		if = {
			limit = { check_variable = { scavenge_efficiency > 60 } }
			if = {
				limit = { NOT = { has_variable = s_truck_1 } }
				set_variable = { s_truck_1 = 1 }
			}
			else_if = {
				add_to_variable = { s_truck_1 = 1 }
			}
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entry 6
		limit = {
			AND = {
				check_variable = { rand_int = 6 }
			}
		}
		if = {
			limit = { check_variable = { scavenge_efficiency > 60 } }
			if = {
				limit = { NOT = { has_variable = s_car_3 } }
				set_variable = { s_car_3 = 1 }
			}
			else_if = {
				add_to_variable = { s_car_3 = 1 }
			}
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entry 7
		limit = {
			AND = {
				check_variable = { rand_int = 7 }
			}
		}
		if = {
			limit = { check_variable = { scavenge_efficiency > 70 } }
			if = {
				limit = { NOT = { has_variable = s_truck_2 } }
				set_variable = { s_truck_2 = 1 }
			}
			else_if = {
				add_to_variable = { s_truck_2 = 1 }
			}
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entry 8
		limit = {
			AND = {
				check_variable = { rand_int = 8 }
			}
		}
		if = {
			limit = { check_variable = { scavenge_efficiency > 70 } }
			if = {
				limit = { NOT = { has_variable = s_apc_1 } }
				set_variable = { s_apc_1 = 1 }
			}
			else_if = {
				add_to_variable = { s_apc_1 = 1 }
			}
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entry 9
		limit = {
			AND = {
				check_variable = { rand_int = 9 }
			}
		}
		if = {
			limit = { check_variable = { scavenge_efficiency > 80 } }
			if = {
				limit = { NOT = { has_variable = s_tank_1 } }
				set_variable = { s_tank_1 = 1 }
			}
			else_if = {
				add_to_variable = { s_tank_1 = 1 }
			}
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = { # Entry 10
		limit = {
			AND = {
				check_variable = { rand_int = 10 }
			}
		}
		if = {
			limit = { check_variable = { scavenge_efficiency > 90 } }
			if = {
				limit = { NOT = { has_variable = s_apc_2 } }
				set_variable = { s_apc_2 = 1 }
			}
			else_if = {
				add_to_variable = { s_apc_2 = 1 }
			}
		}
		else_if = { # Otherwise we yield no loot from this loot
		}
	}
	else_if = {
		# No effect
	}
	## Clearing variables and removing one roll
	clear_variable = rand_int
	subtract_from_variable = { rolls = 1 }
	## Calling itself again if there are remaining rolls
	if = {
		limit = { NOT = { check_variable = { rolls = 0 } } }
		vehicle_loot_table = yes
	}
}
resolve_expedition = {
	scavenge_equip_end = yes
	if = {
		limit = {
			has_country_flag = scavenge_normal
		}
		clr_country_flag = scavenge_normal
	}
	if = {
		limit = {
			has_country_flag = scavenge_pa
		}
		scavenge_pa_end = yes
		clr_country_flag = scavenge_pa
	}
	if = {
		limit = {
			has_country_flag = scavenge_fly
		}
		scavenge_fly_end = yes
		clr_country_flag = scavenge_fly
	}
	if = {
		limit = {
			has_country_flag = scavenge_vroom_vroom
		}
		scavenge_vehicle_end = yes
		clr_country_flag = scavenge_vroom_vroom
	}
	clr_country_flag = is_scavenging
	clear_variable = resolve_rng
}
resolve_equip_loot = {
	if = {
		limit = {
			has_variable = s_pipe_guns
		}
		if = {
			limit = { has_tech = standard_weaponry_tech }
			add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 200 }
			subtract_from_variable = { s_pipe_guns = 1 }
			if = {
				limit = { check_variable = { s_pipe_guns = 0 } }
				clear_variable = s_pipe_guns
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = standard_weaponry_tech }
					has_country_flag = standard_weaponry_tech
				}
			}
			army_experience = 5
			clear_variable = s_pipe_guns
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = standard_weaponry_tech
			}
			set_country_flag = standard_weaponry_tech
			clear_variable = s_pipe_guns
		}
	}
	if = {
		limit = {
			has_variable = s_melee_e_1
		}
		if = {
			limit = { has_tech = melee_weaponry_tech_1 }
			add_equipment_to_stockpile = { type = melee_equipment_1 amount = 200 producer = USA }
			subtract_from_variable = { s_melee_e_1 = 1 }
			if = {
				limit = { check_variable = { s_melee_e_1 = 0 } }
				clear_variable = s_melee_e_1
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = melee_weaponry_tech_1 }
					has_country_flag = blunt_weaponry
				}
			}
			army_experience = 5
			clear_variable = s_melee_e_1
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = melee_weaponry_tech_2
			}
			set_country_flag = blunt_weaponry
			clear_variable = s_melee_e_1
		}
	}
	if = {
		limit = {
			has_variable = s_ballistic_e_1
		}
		if = {
			limit = { has_tech = basic_ballistic_weaponry }
			add_equipment_to_stockpile = { type = ballistic_equipment_1 amount = 200 producer = USA }
			subtract_from_variable = { s_ballistic_e_1 = 1 }
			if = {
				limit = { check_variable = { s_ballistic_e_1 = 0 } }
				clear_variable = s_ballistic_e_1
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = basic_ballistic_weaponry }
					has_country_flag = basic_ballistic_weaponry
				}
			}
			army_experience = 5
			clear_variable = s_ballistic_e_1
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = basic_ballistic_weaponry
			}
			set_country_flag = basic_ballistic_weaponry
			clear_variable = s_ballistic_e_1
		}
	}
	if = {
		limit = {
			has_variable = s_melee_2
		}
		if = {
			limit = { has_tech = melee_weaponry_tech_2 }
			add_equipment_to_stockpile = { type = melee_equipment_2 amount = 100 producer = USA }
			subtract_from_variable = { s_melee_2 = 1 }
			if = {
				limit = { check_variable = { s_melee_2 = 0 } }
				clear_variable = s_melee_2
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = melee_weaponry_tech_2 }
					has_country_flag = slashing_weaponry
				}
			}
			army_experience = 5
			clear_variable = s_melee_2
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = melee_weaponry_tech_3
			}
			set_country_flag = slashing_weaponry
			clear_variable = s_melee_2
		}
	}
	if = {
		limit = {
			has_variable = s_support_e
		}
		if = {
			limit = { has_tech = support_weaponry }
			add_equipment_to_stockpile = { type = support_equipment amount = 100 producer = USA }
			subtract_from_variable = { s_support_e = 1 }
			if = {
				limit = { check_variable = { s_support_e = 0 } }
				clear_variable = s_support_e
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = support_weaponry }
					has_country_flag = support_weaponry
				}
			}
			army_experience = 5
			clear_variable = s_support_e
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = support_weaponry
			}
			set_country_flag = support_weaponry
			clear_variable = s_support_e
		}
	}
	if = {
		limit = {
			has_variable = s_pmgs
		}
		if = {
			limit = { has_tech = anti_personnel_tech }
			add_equipment_to_stockpile = { type = anti_personnel_equipment_1 amount = 50 producer = USA }
			subtract_from_variable = { s_pmgs = 1 }
			if = {
				limit = { check_variable = { s_pmgs = 0 } }
				clear_variable = s_pmgs
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = anti_personnel_tech }
					has_country_flag = anti_personnel_tech
				}
			}
			army_experience = 5
			clear_variable = s_pmgs
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = anti_personnel_tech
			}
			set_country_flag = anti_personnel_tech
			clear_variable = s_pmgs
		}
	}
	if = {
		limit = {
			has_variable = s_dynamite
		}
		if = {
			limit = { has_tech = explosive_tech }
			add_equipment_to_stockpile = { type = explosive_equipment_1 amount = 50 producer = USA }
			subtract_from_variable = { s_dynamite = 1 }
			if = {
				limit = { check_variable = { s_dynamite = 0 } }
				clear_variable = s_dynamite
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = explosive_tech }
					has_country_flag = explosive_tech
				}
			}
			army_experience = 5
			clear_variable = s_dynamite
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = explosive_tech
			}
			set_country_flag = explosive_tech
			clear_variable = s_dynamite
		}
	}
	if = {
		limit = {
			has_variable = s_energy_e_1
		}
		if = {
			limit = { has_tech = basic_laser_weaponry }
			add_equipment_to_stockpile = { type = energy_equipment_1 amount = 50 producer = USA }
			subtract_from_variable = { s_energy_e_1 = 1 }
			if = {
				limit = { check_variable = { s_energy_e_1 = 0 } }
				clear_variable = s_energy_e_1
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = basic_laser_weaponry }
					has_country_flag = basic_laser_weaponry
				}
			}
			army_experience = 5
			clear_variable = s_energy_e_1
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = basic_laser_weaponry
			}
			set_country_flag = basic_laser_weaponry
			clear_variable = s_energy_e_1
		}
	}
	if = {
		limit = {
			has_variable = s_melee_3
		}
		if = {
			limit = { has_tech = powered_weaponry }
			add_equipment_to_stockpile = { type = melee_equipment_3 amount = 50 producer = USA }
			subtract_from_variable = { s_melee_3 = 1 }
			if = {
				limit = { check_variable = { s_melee_3 = 0 } }
				clear_variable = s_melee_3
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = powered_weaponry }
					has_country_flag = powered_weaponry
				}
			}
			army_experience = 5
			clear_variable = s_melee_3
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = powered_weaponry
			}
			set_country_flag = powered_weaponry
			clear_variable = s_melee_3
		}
	}
	if = {
		limit = {
			has_variable = s_ballistic_e_2
		}
		if = {
			limit = { has_tech = improved_ballistic_weaponry }
			add_equipment_to_stockpile = { type = ballistic_equipment_2 amount = 50 producer = USA }
			subtract_from_variable = { s_ballistic_e_2 = 1 }
			if = {
				limit = { check_variable = { s_ballistic_e_2 = 0 } }
				clear_variable = s_ballistic_e_2
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = improved_ballistic_weaponry }
					has_country_flag = improved_ballistic_weaponry
				}
			}
			army_experience = 5
			clear_variable = s_ballistic_e_2
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = improved_ballistic_weaponry
			}
			set_country_flag = improved_ballistic_weaponry
			clear_variable = s_ballistic_e_2
		}
	}
	if = {
		limit = {
			has_variable = s_energy_e_2
		}
		if = {
			limit = { has_tech = energy_weaponry_tech_3 }
			add_equipment_to_stockpile = { type = energy_equipment_2 amount = 50 producer = USA }
			subtract_from_variable = { s_energy_e_2 = 1 }
			if = {
				limit = { check_variable = { s_energy_e_2 = 0 } }
				clear_variable = s_energy_e_2
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = energy_weaponry_tech_3 }
					has_country_flag = improved_laser_weaponry
				}
			}
			army_experience = 5
			clear_variable = s_energy_e_2
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = custom_built_capacitors
			}
			set_country_flag = improved_laser_weaponry
			clear_variable = s_energy_e_2
		}
	}
	if = {
		limit = {
			has_variable = s_flamer
		}
		if = {
			limit = { has_tech = flamer_tech_3 }
			add_equipment_to_stockpile = { type = flamer_equipment_2 amount = 50 producer = USA }
			subtract_from_variable = { s_flamer = 1 }
			if = {
				limit = { check_variable = { s_flamer = 0 } }
				clear_variable = s_flamer
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = flamer_tech_3 }
					has_country_flag = flamer_tech_3
				}
			}
			army_experience = 5
			clear_variable = s_flamer
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = flamer_tech_3
			}
			set_country_flag = flamer_tech_3
			clear_variable = s_flamer
		}
	}
	if = {
		limit = {
			has_variable = s_mortar
		}
		if = {
			limit = { has_tech = explosive_tech_3 }
			add_equipment_to_stockpile = { type = explosive_equipment_2 amount = 50 producer = USA }
			subtract_from_variable = { s_mortar = 1 }
			if = {
				limit = { check_variable = { s_mortar = 0 } }
				clear_variable = s_mortar
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = explosive_tech_3 }
					has_country_flag = explosive_tech_3
				}
			}
			army_experience = 5
			clear_variable = s_mortar
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = explosive_tech_3
			}
			set_country_flag = explosive_tech_3
			clear_variable = s_mortar
		}
	}
	if = {
		limit = {
			has_variable = s_scavenged_pa
		}
		if = {
			limit = { has_tech = power_armour }
			add_equipment_to_stockpile = { type = power_armor_equipment_1 amount = 5 producer = USA }
			subtract_from_variable = { s_scavenged_pa = 1 }
			if = {
				limit = { check_variable = { s_scavenged_pa = 0 } }
				clear_variable = s_scavenged_pa
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = power_armour }
					has_country_flag = power_armour
				}
			}
			army_experience = 5
			clear_variable = s_scavenged_pa
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = power_armour
			}
			set_country_flag = power_armour
			clear_variable = s_scavenged_pa
		}
	}
	if = {
		limit = {
			has_variable = s_energy_e_3
		}
		if = {
			limit = { has_tech = advanced_laser_weaponry }
			add_equipment_to_stockpile = { type = energy_equipment_3 amount = 30 producer = USA }
			subtract_from_variable = { s_energy_e_3 = 1 }
			if = {
				limit = { check_variable = { s_energy_e_3 = 0 } }
				clear_variable = s_energy_e_3
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = advanced_laser_weaponry }
					has_country_flag = advanced_laser_weaponry
				}
			}
			army_experience = 5
			clear_variable = s_energy_e_3
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = advanced_laser_weaponry
			}
			set_country_flag = advanced_laser_weaponry
			clear_variable = s_energy_e_3
		}
	}
	if = {
		limit = {
			has_variable = s_ballistic_e_3
		}
		if = {
			limit = { has_tech = advanced_ballistic_weaponry }
			add_equipment_to_stockpile = { type = ballistic_equipment_3 amount = 30 producer = USA }
			subtract_from_variable = { s_ballistic_e_3 = 1 }
			if = {
				limit = { check_variable = { s_ballistic_e_3 = 0 } }
				clear_variable = s_ballistic_e_3
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = advanced_ballistic_weaponry }
					has_country_flag = advanced_ballistic_weaponry
				}
			}
			army_experience = 5
			clear_variable = s_ballistic_e_3
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = advanced_ballistic_weaponry
			}
			set_country_flag = advanced_ballistic_weaponry
			clear_variable = s_ballistic_e_3
		}
	}
	if = {
		limit = {
			has_variable = s_t45d_pa
		}
		if = {
			limit = { has_tech = power_armour_t45d }
			add_equipment_to_stockpile = { type = power_armor_equipment_2 amount = 5 producer = USA }
			subtract_from_variable = { s_t45d_pa = 1 }
			if = {
				limit = { check_variable = { s_t45d_pa = 0 } }
				clear_variable = s_t45d_pa
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = power_armour_t45d }
					has_country_flag = power_armour_t45d
				}
			}
			army_experience = 5
			clear_variable = s_t45d_pa
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = power_armour_t45d
			}
			set_country_flag = power_armour_t45d
			clear_variable = s_t45d_pa
		}
	}
	if = {
		limit = {
			has_variable = s_minigun
		}
		if = {
			limit = { has_tech = anti_personnel_tech_5 }
			add_equipment_to_stockpile = { type = anti_personnel_equipment_3 amount = 10 producer = USA }
			subtract_from_variable = { s_minigun = 1 }
			if = {
				limit = { check_variable = { s_minigun = 0 } }
				clear_variable = s_minigun
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = anti_personnel_tech_5 }
					has_country_flag = anti_personnel_tech_5
				}
			}
			army_experience = 5
			clear_variable = s_minigun
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = anti_personnel_tech_5
			}
			set_country_flag = anti_personnel_tech_5
			clear_variable = s_minigun
		}
	}
	if = {
		limit = {
			has_variable = s_missile_launcher
		}
		if = {
			limit = { has_tech = anti_tank_tech_5 }
			add_equipment_to_stockpile = { type = anti_tank_equipment_3 amount = 10 producer = USA }
			subtract_from_variable = { s_missile_launcher = 1 }
			if = {
				limit = { check_variable = { s_missile_launcher = 0 } }
				clear_variable = s_missile_launcher
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = anti_tank_tech_5 }
					has_country_flag = anti_tank_tech_5
				}
			}
			army_experience = 5
			clear_variable = s_missile_launcher
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = anti_tank_tech_5
			}
			set_country_flag = anti_tank_tech_5
			clear_variable = s_missile_launcher
		}
	}
	if = {
		limit = {
			has_variable = s_gatling
		}
		if = {
			limit = { has_tech = laser_tech_5 }
			add_equipment_to_stockpile = { type = laser_equipment_3 amount = 5 producer = USA }
			subtract_from_variable = { s_gatling = 1 }
			if = {
				limit = { check_variable = { s_gatling = 0 } }
				clear_variable = s_gatling
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = laser_tech_5 }
					has_country_flag = laser_tech_5
				}
			}
			army_experience = 5
			clear_variable = s_gatling
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = laser_tech_5
			}
			set_country_flag = laser_tech_5
			clear_variable = s_gatling
		}
	}
	if = {
		limit = {
			has_variable = s_incinerator
		}
		if = {
			limit = { has_tech = flamer_tech_5 }
			add_equipment_to_stockpile = { type = flamer_equipment_3 amount = 5 producer = USA }
			subtract_from_variable = { s_incinerator = 1 }
			if = {
				limit = { check_variable = { s_incinerator = 0 } }
				clear_variable = s_incinerator
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = flamer_tech_5 }
					has_country_flag = flamer_tech_5
				}
			}
			army_experience = 5
			clear_variable = s_incinerator
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = flamer_tech_5
			}
			set_country_flag = flamer_tech_5
			clear_variable = s_incinerator
		}
	}
	hidden_effect = {
		if = {
			limit = {
				has_country_flag = reroll
			}
			clr_country_flag = reroll
			resolve_equip_loot = yes
		}
		# Contingency clearing
		clear_variable = s_incinerator
		clear_variable = s_gatling
		clear_variable = s_missile_launcher
		clear_variable = s_minigun
		clear_variable = s_t45d_pa
		clear_variable = s_ballistic_e_3
		clear_variable = s_ballistic_e_2
		clear_variable = s_ballistic_e_1
		clear_variable = s_energy_e_3
		clear_variable = s_energy_e_2
		clear_variable = s_energy_e_1
		clear_variable = s_scavenged_pa
		clear_variable = s_mortar
		clear_variable = s_flamer
		clear_variable = s_melee_3
		clear_variable = s_melee_2
		clear_variable = s_melee_1
		clear_variable = s_dynamite
		clear_variable = s_pmgs
		clear_variable = s_support_e
		clear_variable = s_pipe_guns
	}
}
resolve_robot_loot = {
	if = {
		limit = {
			has_variable = s_lr_1
		}
		if = {
			limit = { has_tech = commercial_protectron }
			add_equipment_to_stockpile = { type = light_robot_equipment_1 amount = 20 producer = USA }
			subtract_from_variable = { s_lr_1 = 1 }
			if = {
				limit = { check_variable = { s_lr_1 = 0 } }
				clear_variable = s_lr_1
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = commercial_protectron }
					has_country_flag = commercial_protectron
				}
			}
			army_experience = 5
			clear_variable = s_lr_1
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = commercial_protectron
			}
			set_country_flag = commercial_protectron
			clear_variable = s_lr_1
		}
	}
	if = {
		limit = {
			has_variable = s_lr_2
		}
		if = {
			limit = { has_tech = security_protectron_tech }
			add_equipment_to_stockpile = { type = light_robot_equipment_2 amount = 20 producer = USA }
			subtract_from_variable = { s_lr_2 = 1 }
			if = {
				limit = { check_variable = { s_lr_2 = 0 } }
				clear_variable = s_lr_2
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = security_protectron_tech }
					has_country_flag = security_protectron_tech
				}
			}
			army_experience = 5
			clear_variable = s_lr_2
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = security_protectron_tech
			}
			set_country_flag = security_protectron_tech
			clear_variable = s_lr_2
		}
	}
	if = {
		limit = {
			has_variable = s_mr_2
		}
		if = {
			limit = { has_tech = mr_handy_tech }
			add_equipment_to_stockpile = { type = medium_robot_equipment_1 amount = 10 producer = USA }
			subtract_from_variable = { s_mr_2 = 1 }
			if = {
				limit = { check_variable = { s_mr_2 = 0 } }
				clear_variable = s_mr_2
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = mr_handy_tech }
					has_country_flag = mr_handy_tech
				}
			}
			army_experience = 5
			clear_variable = s_mr_2
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = mr_handy_tech
			}
			set_country_flag = mr_handy_tech
			clear_variable = s_mr_2
		}
	}
	if = {
		limit = {
			has_variable = s_mr_3
		}
		if = {
			limit = { has_tech = mr_gutsy_tech }
			add_equipment_to_stockpile = { type = medium_robot_equipment_2 amount = 10 producer = USA }
			subtract_from_variable = { s_mr_3 = 1 }
			if = {
				limit = { check_variable = { s_mr_3 = 0 } }
				clear_variable = s_mr_3
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = mr_gutsy_tech }
					has_country_flag = mr_gutsy_tech
				}
			}
			army_experience = 5
			clear_variable = s_mr_3
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = mr_gutsy_tech
			}
			set_country_flag = mr_gutsy_tech
			clear_variable = s_mr_3
		}
	}
	if = {
		limit = {
			has_variable = s_hr_2
		}
		if = {
			limit = { has_tech = robo_brain_tech }
			add_equipment_to_stockpile = { type = heavy_robot_equipment_1 amount = 5 producer = USA }
			subtract_from_variable = { s_hr_2 = 1 }
			if = {
				limit = { check_variable = { s_hr_2 = 0 } }
				clear_variable = s_hr_2
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = robo_brain_tech }
					has_country_flag = robo_brain_tech
				}
			}
			army_experience = 5
			clear_variable = s_hr_2
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = robo_brain_tech
			}
			set_country_flag = robo_brain_tech
			clear_variable = s_hr_2
		}
	}
	if = {
		limit = {
			has_variable = s_hr_3
		}
		if = {
			limit = { has_tech = sentry_bot_tech }
			add_equipment_to_stockpile = { type = heavy_robot_equipment_2 amount = 5 producer = USA }
			subtract_from_variable = { s_hr_3 = 1 }
			if = {
				limit = { check_variable = { s_hr_3 = 0 } }
				clear_variable = s_hr_3
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = sentry_bot_tech }
					has_country_flag = sentry_bot_tech
				}
			}
			army_experience = 5
			clear_variable = s_hr_3
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = sentry_bot_tech
			}
			set_country_flag = sentry_bot_tech
			clear_variable = s_hr_3
		}
	}
	hidden_effect = {
		if = {
			limit = {
				has_country_flag = reroll
			}
			clr_country_flag = reroll
			resolve_robot_loot = yes
		}
		# Contingency Clearing
		clear_variable = s_hr_3
		clear_variable = s_hr_2
		clear_variable = s_mr_3
		clear_variable = s_mr_2
		clear_variable = s_lr_2
		clear_variable = s_lr_1
	}	
}
resolve_vehicle_loot = {
	if = {
		limit = {
			has_variable = s_motorbike_1
		}
		if = {
			limit = { has_tech = bike_tech_1 }
			add_equipment_to_stockpile = { type = motorbike_equipment_1 amount = 30 producer = USA }
			subtract_from_variable = { s_motorbike_1 = 1 }
			if = {
				limit = { check_variable = {s_motorbike_1 = 0 } }
				clear_variable = s_motorbike_1
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = bike_tech_1 }
					has_country_flag = bike_tech_1
				}
			}
			army_experience = 5
			clear_variable = s_motorbike_1
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = bike_tech_1
			}
			set_country_flag = bike_tech_1
			clear_variable = s_motorbike_1
		}
	}
	if = {
		limit = {
			has_variable = s_motorbike_2
		}
		if = {
			limit = { has_tech = bike_tech_2 }
			add_equipment_to_stockpile = { type = motorbike_equipment_2 amount = 20 producer = USA }
			subtract_from_variable = { s_motorbike_2 = 1 }
			if = {
				limit = { check_variable = {s_motorbike_2 = 0 } }
				clear_variable = s_motorbike_2
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = bike_tech_2 }
					has_country_flag = bike_tech_2
				}
			}
			army_experience = 5
			clear_variable = s_motorbike_2
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = bike_tech_2
			}
			set_country_flag = bike_tech_2
			clear_variable = s_motorbike_2
		}
	}
	if = {
		limit = {
			has_variable = s_car_1
		}
		if = {
			limit = { has_tech = car_tech_1 }
			add_equipment_to_stockpile = { type = car_equipment_1 amount = 15 producer = USA }
			subtract_from_variable = { s_car_1 = 1 }
			if = {
				limit = { check_variable = { s_car_1 = 0 } }
				clear_variable = s_car_1
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = car_tech_1 }
					has_country_flag = car_tech_1
				}
			}
			army_experience = 5
			clear_variable = s_car_1
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = car_tech_1
			}
			set_country_flag = car_tech_1
			clear_variable = s_car_1
		}
	}
	if = {
		limit = {
			has_variable = s_car_2
		}
		if = {
			limit = { has_tech = car_tech_2 }
			add_equipment_to_stockpile = { type = car_equipment_2 amount = 10 producer = USA }
			subtract_from_variable = { s_car_2 = 1 }
			if = {
				limit = { check_variable = { s_car_2 = 0 } }
				clear_variable = s_car_2
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = car_tech_2 }
					has_country_flag = car_tech_2
				}
			}
			army_experience = 5
			clear_variable = s_car_2
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = car_tech_2
			}
			set_country_flag = car_tech_2
			clear_variable = s_car_2
		}
	}
	if = {
		limit = {
			has_variable = s_car_3
		}
		if = {
			limit = { has_tech = car_tech_3 }
			add_equipment_to_stockpile = { type = car_equipment_3 amount = 5 producer = USA }
			subtract_from_variable = { s_car_3 = 1 }
			if = {
				limit = { check_variable = { s_car_3 = 0 } }
				clear_variable = s_car_3
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = car_tech_3 }
					has_country_flag = car_tech_3
				}
			}
			army_experience = 5
			clear_variable = s_car_3
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = car_tech_3
			}
			set_country_flag = car_tech_3
			clear_variable = s_car_3
		}
	}
	if = {
		limit = {
			has_variable = s_truck_1
		}
		if = {
			limit = { has_tech = truck_tech_1 }
			add_equipment_to_stockpile = { type = truck_equipment_1 amount = 10 producer = USA }
			subtract_from_variable = { s_truck_1 = 1 }
			if = {
				limit = { check_variable = { s_truck_1 = 0 } }
				clear_variable = s_truck_1
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = truck_tech_1 }
					has_country_flag = truck_tech_1
				}
			}
			army_experience = 5
			clear_variable = s_truck_1
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = truck_tech_1
			}
			set_country_flag = truck_tech_1
			clear_variable = s_truck_1
		}
	}
	if = {
		limit = {
			has_variable = s_truck_2
		}
		if = {
			limit = { has_tech = truck_tech_2 }
			add_equipment_to_stockpile = { type = truck_equipment_2 amount = 5 producer = USA }
			subtract_from_variable = { s_truck_2 = 1 }
			if = {
				limit = { check_variable = { s_truck_2 = 0 } }
				clear_variable = s_truck_2
			}
			else_if = {
				set_country_flag = reroll
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = truck_tech_2 }
					has_country_flag = truck_tech_2
				}
			}
			army_experience = 5
			clear_variable = s_truck_2
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = truck_tech_2
			}
			set_country_flag = truck_tech_2
			clear_variable = s_truck_2
		}
	}
	if = {
		limit = {
			has_variable = s_apc_1
		}
		if = {
			limit = { has_tech = apc_tech_1 }
			add_equipment_to_stockpile = { type = apc_equipment_1 amount = 5 producer = USA }
			subtract_from_variable = { s_apc_1 = 1 }
			if = {
				limit = { check_variable = { s_apc_1 = 0 } }
				clear_variable = s_apc_1
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = apc_tech_1 }
					has_country_flag = apc_tech_1
				}
			}
			army_experience = 5
			clear_variable = s_apc_1
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = apc_tech_1
			}
			set_country_flag = apc_tech_1
			clear_variable = s_apc_1
		}
	}
	if = {
		limit = {
			has_variable = s_apc_2
		}
		if = {
			limit = { has_tech = apc_tech_2 }
			add_equipment_to_stockpile = { type = apc_equipment_2 amount = 5 producer = USA }
			subtract_from_variable = { s_apc_2 = 1 }
			if = {
				limit = { check_variable = { s_apc_2 = 0 } }
				clear_variable = s_apc_2
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = apc_tech_2 }
					has_country_flag = apc_tech_2
				}
			}
			army_experience = 5
			clear_variable = s_apc_2
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = apc_tech_2
			}
			set_country_flag = apc_tech_2
			clear_variable = s_apc_2
		}
	}
	if = {
		limit = {
			has_variable = s_tank_1
		}
		if = {
			limit = { has_tech = tank_tech_1 }
			add_equipment_to_stockpile = { type = tank_equipment_1 amount = 3 producer = USA }
			subtract_from_variable = { s_tank_1 = 1 }
			if = {
				limit = { check_variable = { s_tank_1 = 0 } }
				clear_variable = s_tank_1
			}
		}
		else_if = {
			limit = {
				OR = {
					has_tech_bonus = { technology = tank_tech_1 }
					has_country_flag = tank_tech_1
				}
			}
			army_experience = 5
			clear_variable = s_tank_1
		}
		else_if = {
			add_tech_bonus = {
				bonus = 0.1
				uses = 1
				technology = tank_tech_1
			}
			set_country_flag = tank_tech_1
			clear_variable = s_tank_1
		}
	}
	hidden_effect = {
		if = {
			limit = {
				has_country_flag = reroll
			}
			clr_country_flag = reroll
			resolve_vehicle_loot = yes
		}
		# Contingency Clearing
		clear_variable = s_motorbike_1
		clear_variable = s_motorbike_2
		clear_variable = s_car_1
		clear_variable = s_car_2
		clear_variable = s_car_3
		clear_variable = s_apc_1
		clear_variable = s_apc_2
		clear_variable = s_tank_1
		clear_variable = s_truck_1
		clear_variable = s_truck_2
	}
}
old_world_tech_randomiser = {
	set_variable = { rng_owt_value = random }
	if = {
		limit = { check_variable = { rng_owt_value < 0.1 } }
		if = {
			limit = {
				NOT = { has_idea = scavenging_old_world_computer }
			}
			# No need for a reroll
		}
		else_if = {
			hidden_effect = {
				set_country_flag = scav_loop
			}
			custom_effect_tooltip = scavenging_will_reroll
		}
	}
	else_if = {
		limit = { check_variable = { rng_owt_value < 0.2 } }
		if = {
			limit = {
				NOT = { has_idea = scavenging_old_world_tactics }
			}
		}
		else_if = {
			hidden_effect = {
				set_country_flag = scav_loop
			}
			custom_effect_tooltip = scavenging_will_reroll
		}
	}
	else_if = {
		limit = { check_variable = { rng_owt_value < 0.3 } }
		if = {
			limit = {
				NOT = { has_idea = scavenging_old_world_loudspeakers }
			}
		}
		else_if = {
			hidden_effect = {
				set_country_flag = scav_loop
			}
			custom_effect_tooltip = scavenging_will_reroll
		}
	}
	else_if = {
		limit = { check_variable = { rng_owt_value < 0.4 } }
		if = {
			limit = {
				NOT = { has_idea = scavenging_old_world_spybook }
			}
		}
		else_if = {
			hidden_effect = {
				set_country_flag = scav_loop
			}
			custom_effect_tooltip = scavenging_will_reroll
		}
	}
	else_if = {
		limit = { check_variable = { rng_owt_value < 0.5 } }
		if = {
			limit = {
				NOT = { has_idea = scavenging_old_world_weapon_schematics }
			}
		}
		else_if = {
			hidden_effect = {
				set_country_flag = scav_loop
			}
			custom_effect_tooltip = scavenging_will_reroll
		}
	}
	else_if = {
		limit = { check_variable = { rng_owt_value < 0.6 } }
		if = {
			limit = {
				NOT = { has_idea = scavenging_old_world_factory_schematics }
			}
		}
		else_if = {
			hidden_effect = {
				set_country_flag = scav_loop
			}
			custom_effect_tooltip = scavenging_will_reroll
		}
	}
	else_if = {
		limit = { check_variable = { rng_owt_value < 0.7 } }
		if = {
			limit = {
				NOT = { has_idea = scavenging_old_world_naval_targeting_system }
			}
		}
		else_if = {
			hidden_effect = {
				set_country_flag = scav_loop
			}
			custom_effect_tooltip = scavenging_will_reroll
		}
	}
	else_if = {
		limit = { check_variable = { rng_owt_value < 0.8 } }
		if = {
			limit = {
				NOT = { has_idea = scavenging_old_world_radar_system }
			}
		}
		else_if = {
			hidden_effect = {
				set_country_flag = scav_loop
			}
			custom_effect_tooltip = scavenging_will_reroll
		}
	}
	else_if = {
		limit = { check_variable = { rng_owt_value < 0.9 } }
		if = {
			limit = {
				NOT = { has_idea = scavenging_old_world_planning_system }
			}
		}
		else_if = {
			hidden_effect = {
				set_country_flag = scav_loop
			}
			custom_effect_tooltip = scavenging_will_reroll
		}
	}
	else_if = {
		if = {
			limit = {
				NOT = { has_idea = scavenging_old_world_political_guide }
			}
		}
		else_if = {
			hidden_effect = {
				set_country_flag = scav_loop
			}
			custom_effect_tooltip = scavenging_will_reroll
		}
	}
	if = {
		limit = {
			has_country_flag = scav_loop
		}
		clr_country_flag = scav_loop
		set_variable = { rng_owt_value = random }
		old_world_tech_randomiser = yes
	}
}
old_world_tech = {
	if = {
		limit = { check_variable = { rng_owt_value < 0.1 } }
		add_timed_idea = { idea = scavenging_old_world_computer days = 120 }
	}
	else_if = {
		limit = { check_variable = { rng_owt_value < 0.2 } }
		add_timed_idea = { idea = scavenging_old_world_tactics days = 120 }
	}
	else_if = {
		limit = { check_variable = { rng_owt_value < 0.3 } }
		add_timed_idea = { idea = scavenging_old_world_loudspeakers days = 120 }
	}
	else_if = {
		limit = { check_variable = { rng_owt_value < 0.4 } }
		add_timed_idea = { idea = scavenging_old_world_spybook days = 120 }
	}
	else_if = {
		limit = { check_variable = { rng_owt_value < 0.5 } }
		add_timed_idea = { idea = scavenging_old_world_weapon_schematics days = 120 }
	}
	else_if = {
		add_timed_idea = { idea = scavenging_old_world_factory_schematics days = 120 }
	}
	else_if = {
		limit = { check_variable = { rng_owt_value < 0.7 } }
		add_timed_idea = { idea = scavenging_old_world_naval_targeting_system days = 120 }
	}
	else_if = {
		limit = { check_variable = { rng_owt_value < 0.8 } }
		add_timed_idea = { idea = scavenging_old_world_radar_system days = 120 }
	}
	else_if = {
		limit = { check_variable = { rng_owt_value < 0.9 } }
		add_timed_idea = { idea = scavenging_old_world_planning_system days = 120 }
	}
	else_if = {
		add_timed_idea = { idea = scavenging_old_world_political_guide days = 120 }
	}
	clear_variable = rng_owt_value
}