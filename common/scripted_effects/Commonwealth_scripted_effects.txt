

COR_spawn_revolutionary_militia = {
	140 = {
		create_unit = {
			division = "name = \"Militia\" division_template = \"Vermillionist Militia\" start_experience_factor = 0.1" 
			owner = COR
		}
	}
	COR = { 
		subtract_from_variable = {
			var = COR_revolution_militia
			value = 1
		}
	}
	IF = {
		limit = {  check_variable = { COR_revolution_militia > 0 } }
		COR = { COR_spawn_revolutionary_militia = yes }
	}
}

COR_spawn_revolutionary_guard = {
	140 = {
		create_unit = {
			division = "name = \"Vermillion Guard\" division_template = \"Revolutionary Army Division\" start_experience_factor = 0.3" 
			owner = COR
		}
	}
	COR = { 
		subtract_from_variable = {
			var = COR_revolution_regiments
			value = 1
		}
	}
	IF = {
		limit = {  COR = { check_variable = { COR_revolution_regiments > 0 } } }
		COR = { COR_spawn_revolutionary_guard = yes }
	}
}

COM_spawn_royal_militia = {
	267 = {
		create_unit = {
			division = "name = \"Militia\" division_template = \"Royalist Militia\" start_experience_factor = 0.1" 
			owner = COM
		}
	}
	COM = { 
		subtract_from_variable = {
			var = COM_loyalist_militia
			value = 1
		}
	}
	IF = {
		limit = {  check_variable = { COM_loyalist_militia > 0 } }
		COM = { COM_spawn_royal_militia = yes }
	}
}

COM_spawn_royal_guard = {
	267 = {
		create_unit = {
			division = "name = \"Loyalist Guard Regiment\" division_template = \"KucykÃ³wi Army Division\" start_experience_factor = 0.4" 
			owner = COM
		}
	}
	COM = { 
		subtract_from_variable = {
			var = COM_loyalist_regiments
			value = 1
		}
	}
	IF = {
		limit = {  COM = { check_variable = { COM_loyalist_regiments > 0 } } }
		COM = { COM_spawn_royal_guard = yes }
	}
}

COC_spawn_cossack_militia = {
	422 = {
		create_unit = {
			division = "name = \"Militia\" division_template = \"Cossack Militia\" start_experience_factor = 0.4" 
			owner = COC
		}
	}
	COC = { 
		subtract_from_variable = {
			var = COC_cossack_militia
			value = 1
		}
	}
	IF = {
		limit = {  check_variable = { COC_cossack_militia > 0 } }
		COC = { COC_spawn_cossack_militia = yes }
	}
}

COL_spawn_experiment = {
	318 = {
		create_unit = {
			division = "name = \"Experiments\" division_template = \"Experimental Subjects\" start_experience_factor = 0.5" 
			owner = COL
		}
	}
	COL = { 
		subtract_from_variable = {
			var = COL_freedom_of_research
			value = 1
		}
	}
	IF = {
		limit = {  check_variable = { COL_freedom_of_research > 0 } }
		COL = { COL_spawn_experiment = yes }
	}
}

COL_lower_aftermath = {
	IF = {
		limit = { has_idea = COL_civil_war_devastation_max }
		swap_ideas = { remove_idea = COL_civil_war_devastation_max add_idea = COL_civil_war_devastation_5 }
	}
	ELSE_IF = {
		limit = { has_idea = COL_civil_war_devastation_5 }
		swap_ideas = { remove_idea = COL_civil_war_devastation_5 add_idea = COL_civil_war_devastation_4 }
	}
	ELSE_IF = {
		limit = { has_idea = COL_civil_war_devastation_4 }
		swap_ideas = { remove_idea = COL_civil_war_devastation_4 add_idea = COL_civil_war_devastation_3 }
	}
	ELSE_IF = {
		limit = { has_idea = COL_civil_war_devastation_3 }
		swap_ideas = { remove_idea = COL_civil_war_devastation_3 add_idea = COL_civil_war_devastation_2 }
	}
	ELSE_IF = {
		limit = { has_idea = COL_civil_war_devastation_2 }
		swap_ideas = { remove_idea = COL_civil_war_devastation_2 add_idea = COL_civil_war_devastation_1 }
	}
	ELSE_IF = {
		limit = { has_idea = COL_civil_war_devastation_1 }
		remove_ideas = COL_civil_war_devastation_1
	}
	ELSE = {
		One_random_industrial_complex = yes
		One_random_arms_factory = yes
	}
}

COL_lower_discontent = {
	IF = {
		limit = { has_idea = COL_discontent_4_idea }
		swap_ideas = { remove_idea = COL_discontent_4_idea add_idea = COL_discontent_3_idea }
	}
	ELSE_IF = {
		limit = { has_idea = COL_discontent_3_idea }
		swap_ideas = { remove_idea = COL_discontent_3_idea add_idea = COL_discontent_2_idea }
	}
	ELSE_IF = {
		limit = { has_idea = COL_discontent_2_idea }
		swap_ideas = { remove_idea = COL_discontent_2_idea add_idea = COL_discontent_1_idea }
	}
	ELSE_IF = {
		limit = { has_idea = COL_discontent_1_idea }
		remove_ideas = COL_discontent_1_idea
	}
	ELSE = {
		add_political_power = 50
		add_stability = 0.05
	}
}

COC_lower_ruin = {
	if = {
		limit = { has_idea = COC_economic_ruin_4 }
		swap_ideas = {
			remove_idea = COC_economic_ruin_4
			add_idea = COC_economic_ruin_3
		}
	}
	else_if = {
		limit = { has_idea = COC_economic_ruin_3 }
		swap_ideas = {
			remove_idea = COC_economic_ruin_3
			add_idea = COC_economic_ruin_2
		}
	}
	else_if = {
		limit = { has_idea = COC_economic_ruin_2 }
		swap_ideas = {
			remove_idea = COC_economic_ruin_2
			add_idea = COC_economic_ruin_1
		}
	}
	else_if = {
		limit = { has_idea = COC_economic_ruin_1 }
		swap_ideas = {
			remove_idea = COC_economic_ruin_1
			add_idea = COC_burgeoning_economy
		}
	}
	else_if = {
		limit = { has_idea = COC_burgeoning_economy }
		One_random_industrial_complex = yes
	}
	
}

COC_lower_emnity = {
	if = {
		limit = { has_idea = COC_cultural_emnity_4 }
		swap_ideas = {
			remove_idea = COC_cultural_emnity_4
			add_idea = COC_cultural_emnity_3
		}
	}
	else_if = {
		limit = { has_idea = COC_cultural_emnity_3 }
		swap_ideas = {
			remove_idea = COC_cultural_emnity_3
			add_idea = COC_cultural_emnity_2
		}
	}
	else_if = {
		limit = { has_idea = COC_cultural_emnity_2 }
		swap_ideas = {
			remove_idea = COC_cultural_emnity_2
			add_idea = COC_cultural_emnity_1
		}
	}
	else_if = {
		limit = { has_idea = COC_cultural_emnity_1 }
		remove_ideas = COC_cultural_emnity_1
	}
	else = {
		add_stability = 0.05
	}
	
}

COC_recalculate_federation = {
	set_variable = { COC_federalized_military = num_faction_members }
	IF = {
		limit = {COC = {has_idea = COC_gnf_trade_block_idea}}
		all_allied_country = {
			limit = {NOT = {has_idea = COC_gnf_trade_block_idea}}
			add_ideas = COC_gnf_trade_block_idea
		}
	}
}

