focus_tree = {
	id = MAS_init_focus_tree
	country = {
		factor = 0
		modifier = {
			add = 10
			original_tag = MAS
		}
	}
	default = no
	continuous_focus_position = { x = 0 y = 0 }
	shared_focus = MAS_Photo
}
focus_tree = {
	id = MAS_inner_struggle_focus_tree
	country = {
		factor = 0
	}
	default = no
	continuous_focus_position = { x = 0 y = 0 }
	#shared_focus = MAS_Photo
	shared_focus = MAS_P2S
}
focus_tree = {
    id = MAS_Mystery_focus_tree
	country = {
		factor = 0
		modifier = {
			add = 10
			original_tag = MAS
			ruling_party = continuation
		}
	}
	default = no
	continuous_focus_position = { x = 0 y = 0 }
	#shared_focus = MAS_Photo
	shared_focus = MAS_P2S
	shared_focus = MAS_P3MS
}
focus_tree = {
    id = MAS_focus_tree_MysteryMil
	country = {
		factor = 0
	}
	default = no
	continuous_focus_position = { x = 0 y = 0 }
	#shared_focus = MAS_Photo
	shared_focus = MAS_P2S
	shared_focus = MAS_P3MS
	shared_focus = MAS_ArmyOfDetectives
}
focus_tree = {
    id = MAS_Tough_focus_tree
	country = {
		factor = 0
	}
	default = no
	continuous_focus_position = { x = 0 y = 0 }
	#shared_focus = MAS_Photo
	#shared_focus = MAS_P2S
	shared_focus = MAS_P3TS
}
focus_tree = {
    id = MAS_Horny_focus_tree
   	country = {
   		factor = 0
   	}
   	default = no
   	continuous_focus_position = { x = 0 y = 0 }
   	#shared_focus = MAS_Photo
   	shared_focus = MAS_P2S
   	shared_focus = MAS_P3HS
}
focus_tree = {
    id = MAS_Pre_Unicornia_focus_tree
    country = {
    	factor = 0
    }
    default = no
    continuous_focus_position = { x = 0 y = 0 }
    shared_focus = MAS_P4PUS
}
focus_tree = {
    id = MAS_Unicornia_focus_tree
    country = {
    	factor = 0
		modifier = {
			add = 15
			original_tag = MAS
			has_country_leader = {
			name = "Prince Horny Miracle"
			ruling_only = yes
			}
		}
    }
    default = no
    continuous_focus_position = { x = 0 y = 0 }
    shared_focus = MAS_Unicornia_begins
}
###############
### FOCUSES ###
###############
#TODO mark for navigation.
### Phase 1 ###
shared_focus = {
	id = MAS_Photo
	icon = GFX_focus_MAS_Photo
	x = 14
	y = 0
	cost = 1.0
	ai_will_do = {
		factor = 1000
	}
	completion_reward = {
		country_event = { id = masevent.100 }
		add_stability = -0.1
	}
}
shared_focus = {
	id = MAS_Chase
	icon = GFX_focus_MAS_Chase
	x = 0
	y = 1
	relative_position_id = MAS_Photo
	cost = 10.0
	prerequisite = {
		focus = MAS_Photo
	}
	ai_will_do = {
		factor = 1000
	}
	completion_reward = {
		#country_event = { id = masevent.101 }
		#add_stability = -0.2
		#add_war_support = 0.1
		custom_effect_tooltip = MAS_Chase_tt
	}
}
shared_focus = {
	id = MAS_Lockdown
	icon = GFX_focus_MAS_Lockdown
	x = 0
	y = 1
	relative_position_id = MAS_Chase
	cost = 3.0
	prerequisite = {
		focus = MAS_Chase
	}
	ai_will_do = {
		factor = 1000
	}
	completion_reward = {
		hidden_effect = {
			load_focus_tree = MAS_inner_struggle_focus_tree
		}
		if = {
			limit = {
				NOT = { has_country_flag = MAS_blossom_dead }
			}
			country_event = { id = masevent.1101}
		}
		add_war_support = -0.2
	}
}
### Phase 2 ###
#TODO mark for navigation.
shared_focus = { #First step towards order.
	id = MAS_P2S
	icon = GFX_focus_MAS_P2S
	x = 0
	y = 5 #Temporary.
	cost = 5
	ai_will_do = {
		factor = 1000
	}
	#completion_reward = {
	#	if = {
	#		limit = {
	#			has_country_flag = MAS_blossom_dead
	#		}
	#		#country_event = { id = masevent.150 } #Mysterious letter.
	#	}
	#	add_stability = 0.05
	#}
}
shared_focus = { #Chaos rises!
    id = MAS_P2F1
    icon = GFX_focus_MAS_P2F1
    prerequisite = {
        focus = MAS_P2S
    }
    relative_position_id = MAS_P2S
    x = 0
    y = 1
    cost = 3
    ai_will_do = {
        factor = 1000
    }
    completion_reward = {
        set_country_flag = MAS_chaos
        custom_effect_tooltip = MAS_Chaos_Rises_tt
        hidden_effect = {
            set_variable = {
                var = MAS_C_Score
                value = 0
            }
            set_variable = {
                var = MAS_A_Score
                value = 0
            }
        }
    }
}
shared_focus = { #New cabinets.
    id = MAS_P2F2C1
    icon = GFX_focus_MAS_P2F2C1
    prerequisite = {
        focus = MAS_P2F1
    }
    mutually_exclusive = {
        focus = MAS_P2F2C2
    }
    relative_position_id = MAS_P2F1
    x = -1
    y = 1
    cost = 5
    ai_will_do = {
        factor = 1
        modifier = {
            factor = 0
            is_historical_focus_on  = yes
        }
    }
    completion_reward = {
		custom_effect_tooltip = MAS_raise_C_tt
		custom_effect_tooltip = MAS_lower_A_tt
        add_political_power = 50
        add_stability = 0.05
        add_to_variable = {
            var = MAS_C_Score
            value = 1
        }
        add_to_variable = {
            var = MAS_A_Score
            value = -1
        }
    }
}
shared_focus = { #New military facility.
    id = MAS_P2F2C2
    icon = GFX_focus_MAS_P2F2C2
    prerequisite = {
        focus = MAS_P2F1
    }
    mutually_exclusive = {
        focus = MAS_P2F2C1
    }
    relative_position_id = MAS_P2F1
    x = 1
    y = 1
    cost = 5
    ai_will_do = {
        factor = 1
        modifier = {
            factor = 1000
            is_historical_focus_on  = yes
        }
    }
    completion_reward = {
		custom_effect_tooltip = MAS_raise_A_tt
		custom_effect_tooltip = MAS_lower_C_tt
        one_random_arms_factory = yes
        add_to_variable = {
            var = MAS_C_Score
            value = -1
        }
        add_to_variable = {
            var = MAS_A_Score
            value = 1
        }
        add_war_support = 0.05
    }
}
shared_focus = { #Volunteers.
    id = MAS_P2F3
    icon = GFX_focus_MAS_P2F3
    prerequisite = {
        focus = MAS_P2F2C1
        focus = MAS_P2F2C2
    }
    relative_position_id = MAS_P2F1
    x = 0
    y = 2
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        country_event = { id = masevent.151 }
    }
}
shared_focus = { #Dinner com..
#Word "committee" is still one my greatest enemies, that's why in future it will be referred as "Mystery" or "com.".
    id = MAS_P2F4C1
    icon = GFX_focus_MAS_P2F4C1
    prerequisite = {
        focus = MAS_P2F3
    }
    mutually_exclusive = {
        focus = MAS_P2F4C2
    }
    relative_position_id = MAS_P2F3
    x = -2
    y = 1
    cost = 5
    ai_will_do = {
        factor = 1
        modifier = {
            factor = 0
            is_historical_focus_on  = yes
        }
    }
    completion_reward = {
		custom_effect_tooltip = MAS_raise_C_tt
        country_event = { id = masevent.1521 days = 1 }
        add_stability = 0.02
        add_war_support = -0.03
        add_to_variable = {
            var = MAS_C_Score
            value = 1
        }
    }
}
shared_focus = { #Dinner - Army.
    id = MAS_P2F4C2
    icon = GFX_focus_MAS_P2F4C2
    prerequisite = {
        focus = MAS_P2F3
    }
    mutually_exclusive = {
        focus = MAS_P2F4C1
    }
    relative_position_id = MAS_P2F3
    x = 2
    y = 1
    cost = 5
    ai_will_do = {
        factor = 1
        modifier = {
            factor = 1000
            is_historical_focus_on  = yes
        }
    }
    completion_reward = {
		custom_effect_tooltip = MAS_raise_A_tt
        country_event = { id = masevent.1522 days = 1 }
        add_stability = -0.03
        add_war_support = 0.02
        add_to_variable = {
            var = MAS_A_Score
            value = 1
        }
    }
}
shared_focus = { #One supreme commander.
    id = MAS_P2F5C1
    icon = GFX_focus_MAS_P2F5C1
    prerequisite = {
        focus = MAS_P2F4C1
        focus = MAS_P2F4C2
    }
    relative_position_id = MAS_P2F3
    x = -3
    y = 2
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        country_event = { id = masevent.153 }
    }
}
shared_focus = { #Close production.
    id = MAS_P2F5C2
    icon = GFX_focus_MAS_P2F5C2
    prerequisite = {
        focus = MAS_P2F4C1
        focus = MAS_P2F4C2
    }
    relative_position_id = MAS_P2F3
    x = -1
    y = 2
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        country_event = { id = masevent.154 }
    }
}
shared_focus = { #Robot question.
    id = MAS_P2F5C3
    icon = GFX_focus_MAS_P2F5C3
    prerequisite = {
        focus = MAS_P2F4C1
        focus = MAS_P2F4C2
    }
    relative_position_id = MAS_P2F3
    x = 1
    y = 2
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        country_event = { id = masevent.155 }
    }
}
shared_focus = { #Servants.
    id = MAS_P2F5C4
    icon = GFX_focus_MAS_P2F5C4
    prerequisite = {
        focus = MAS_P2F4C1
        focus = MAS_P2F4C2
    }
    relative_position_id = MAS_P2F3
    x = 3
    y = 2
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        country_event = { id = masevent.156 }
    }
}
shared_focus = { #Magic competition.
    id = MAS_P2F6C1
    icon = GFX_focus_MAS_P2F6C1
    prerequisite = {
        focus = MAS_P2F5C1
    }
    prerequisite = {
        focus = MAS_P2F5C3
    }
    prerequisite = {
        focus = MAS_P2F5C4
    }
    prerequisite = {
        focus = MAS_P2F5C2
    }
    mutually_exclusive = {
        focus = MAS_P2F6C2
    }
    relative_position_id = MAS_P2F3
    x = -1
    y = 3
    cost = 5
    ai_will_do = {
        factor = 1
        modifier = {
            factor = 0
            is_historical_focus_on  = yes
        }
    }
    completion_reward = {
        custom_effect_tooltip = MAS_raise_C_tt
		country_event = { id = masevent.157 }
        add_to_variable = {
            var = MAS_C_Score
            value = 1
        }
    }
}
shared_focus = { #War games.
    id = MAS_P2F6C2
    icon = GFX_focus_MAS_P2F6C2
    prerequisite = {
        focus = MAS_P2F5C1
    }
    prerequisite = {
        focus = MAS_P2F5C3
    }
    prerequisite = {
        focus = MAS_P2F5C4
    }
    prerequisite = {
        focus = MAS_P2F5C2
    }
    mutually_exclusive = {
        focus = MAS_P2F6C1
    }
    relative_position_id = MAS_P2F3
    x = 1
    y = 3
    cost = 5
    ai_will_do = {
        factor = 1
        modifier = {
            factor = 1000
            is_historical_focus_on  = yes
        }
    }
    completion_reward = {
		custom_effect_tooltip = MAS_raise_A_tt
        country_event = { id = masevent.158 }
        add_to_variable = {
            var = MAS_A_Score
            value = 1
        }
    }
}
shared_focus = { #Only strong.
    id = MAS_P2F7C1
    icon = GFX_focus_MAS_P2F7C1
    prerequisite = {
        focus = MAS_P2F6C1
        focus = MAS_P2F6C2
    }
    mutually_exclusive = {
        focus = MAS_P2F7C2
    }
    relative_position_id = MAS_P2F3
    x = -1
    y = 4
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
    custom_effect_tooltip = MAS_P2F7C1_tt
    }
}
shared_focus = { #Every caster count.
    id = MAS_P2F7C2
    icon = GFX_focus_MAS_P2F7C2
    prerequisite = {
        focus = MAS_P2F6C1
        focus = MAS_P2F6C2
    }
    mutually_exclusive = {
        focus = MAS_P2F7C1
    }
    relative_position_id = MAS_P2F3
    x = 1
    y = 4
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        swap_ideas = {
            remove_idea = MAS_magic_army_MagicalSupremacy_idea
            add_idea = MAS_magic_army_CapableMages_idea
        }
    }
}
#FINAL#
shared_focus = { #Final meeting.
    id = MAS_P2F8
    icon = GFX_focus_MAS_P2F8
    prerequisite = {
        focus = MAS_P2F7C1
        focus = MAS_P2F7C2
    }
    relative_position_id = MAS_P2F3
    x = 0
    y = 5
    cost = 1
    ai_will_do = {
        factor = 1
        
    }
    completion_reward = {
        hidden_effect = {
            country_event = { id = masevent.159 }
        }
        custom_effect_tooltip = MAS_Final_Meeting_tt
        remove_ideas = MAS_ArmyVCommittee_idea
    }
}
shared_focus = { #Ministry is safe.
    id = MAS_P2F9
    icon = GFX_focus_MAS_P2F9
    prerequisite = {
        focus = MAS_P2F8
    }
    available = {
        hidden_trigger = {
            has_country_flag = MAS_Stabilized
        }
    }
    relative_position_id = MAS_P2F3
    x = 0
    y = 6
    cost = 1
    ai_will_do = {
        factor = 1
       
    }
    completion_reward = {
        load_focus_tree = MAS_Horny_focus_tree
    }
}
############# P2 ENDS HERE #################
###############
### MYSTERY ###
###############
#TODO mark for navigation.
shared_focus = { #Now it's my turn.
    id = MAS_P3MS
    icon = GFX_focus_MAS_P3MS
    x = 0
    y = 1
    relative_position_id = MAS_P2F9
    cost = 1
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
		country_event = { id = masevent.160 }
		hidden_effect = {
			set_country_flag = MAS_bravepaperunlocked
			set_country_flag = MAS_metallwallunlocked
			if = {
				limit = { NOT = { has_country_flag = MAS_blossom_dead } }
				set_country_flag = MAS_magicblossomunlocked
			}
			set_country_flag = MAS_industrialwayunlocked
        }
    }
}
shared_focus = { #Deal with Horny.
    id = MAS_P3M1C1
    icon = GFX_focus_MAS_P3M1C1
    prerequisite = {
        focus = MAS_P3MS
    }
    x = -2
    y = 2
    relative_position_id = MAS_P2F9
    cost = 3
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
		add_ideas = MAS_Horny_Imprisoned_idea
		country_event = { id = masevent.205 }
    }
}
shared_focus = { #Committee seizes control.
    id = MAS_P3M1C2
    icon = GFX_focus_MAS_P3M1C2
    prerequisite = {
        focus = MAS_P3MS
    }
    x = 0
    y = 2
    relative_position_id = MAS_P2F9
    cost = 3
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        add_war_support = -0.05
        add_stability = 0.15
    }
}
shared_focus = { #Everypony is in place.
    id = MAS_P3M1C3
    icon = GFX_focus_MAS_P3M1C3
    prerequisite = {
        focus = MAS_P3MS
    }
    x = 2
    y = 2
    relative_position_id = MAS_P2F9
    cost = 3
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
		add_stability = 0.4
        remove_unit_leader = 80

        if = {
            limit = {
                has_country_flag = MAS_Cursed_Soul_retired_flag
            }
            create_field_marshal = {
                name = "Cursed Soul"
                picture = "CursedSoul.tga"
                traits = { MAS_comitee_leader_trait }
                id = 81
                skill = 2
                attack_skill = 2
                defense_skill = 2
                planning_skill = 3
                logistics_skill = 2
            }
        }

        hidden_effect = {
            clr_country_flag = MAS_Iron_replacement_retired_flag
            set_country_flag = MAS_Tough_Iron_retired_flag
        }
	}
}
shared_focus = { #Protect the Knowledge.
    id = MAS_P3M2C1
    icon = GFX_focus_MAS_P3M2C1
    prerequisite = {
        focus = MAS_P3M1C1
    }
    prerequisite = {
        focus = MAS_P3M1C3
    }
    prerequisite = {
        focus = MAS_P3M1C2
    }
    x = 0
    y = 3
    relative_position_id = MAS_P2F9
    cost = 7
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        load_focus_tree = MAS_focus_tree_MysteryMil
        add_ideas = MAS_MysteryDefence_idea
	add_ideas = civilian_economy
    }
}
########################
### MYSTERY MILITARY ###
########################
#TODO mark for navigation.
shared_focus = {
	id = MAS_ArmyOfDetectives
	icon = GFX_focus_MAS_ArmyOfDetectives
	x = 0
	y = 1
	relative_position_id = MAS_P3M2C1
	cost = 10.0
	ai_will_do = {
		factor = 10
	}
	completion_reward = {
		add_ideas = MAS_MysteryDetectives_idea
	}
}
shared_focus = {
	id = MAS_IncreaceMilBudget
	icon = GFX_focus_MAS_IncreaceMilBudget
	x = -2
	y = 1
	relative_position_id = MAS_ArmyOfDetectives
	cost = 10.0
	prerequisite = {
		focus = MAS_ArmyOfDetectives
	}
	ai_will_do = {
		factor = 10
	}
	completion_reward = {
		527 = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
		}
	}
}
shared_focus = {
	id = MAS_FortificationsForAnyCase
	icon = GFX_focus_MAS_FortificationsForAnyCase
	x = 0
	y = 1
	relative_position_id = MAS_IncreaceMilBudget
	cost = 10.0
	prerequisite = {
		focus = MAS_IncreaceMilBudget
	}
	ai_will_do = {
		factor = 10
	}
	completion_reward = {
		527 = {
			add_building_construction = {
				type = bunker
				province = 270
				level = 2
				instant_build = yes
			}
		}
        527 = {
            add_building_construction = {
                type = bunker2
                province = 270
                level = 1
                instant_build = yes
            }
        }
	}
}
shared_focus = {
	id = MAS_ExpandTheStable
	icon = GFX_focus_MAS_ExpandTheStable
	x = 0
	y = 1
	relative_position_id = MAS_FortificationsForAnyCase
	cost = 10.0
	prerequisite = {
		focus = MAS_FortificationsForAnyCase
	}
	ai_will_do = {
		factor = 10
	}
	completion_reward = {
		527 = {
			add_extra_state_shared_building_slots = 4
			add_building_construction = {
				type = infrastructure
				level = 2
				instant_build = yes
			}
		}
	}
}
shared_focus = {
	id = MAS_NewMachineries
	icon = GFX_focus_MAS_NewMachineries
	x = 0
	y = 1
	relative_position_id = MAS_ExpandTheStable
	cost = 10.0
	prerequisite = {
		focus = MAS_ExpandTheStable
	}
	ai_will_do = {
		factor = 10
	}
	completion_reward = {
		527 = {
			add_extra_state_shared_building_slots = 6
			add_building_construction = {
				type = industrial_complex
				level = 3
				instant_build = yes
			}
			add_building_construction = {
				type = arms_factory
				level = 3
				instant_build = yes
			}
		}
	}
}
shared_focus = {
	id = MAS_ExpandTheArmyOfMages
	icon = GFX_focus_MAS_ExpandTheArmyOfMages
	x = 0
	y = 1
	relative_position_id = MAS_ArmyOfDetectives
	cost = 10.0
	prerequisite = {
		focus = MAS_ArmyOfDetectives
	}
	ai_will_do = {
		factor = 10
	}
	completion_reward = {
		if = {
            Limit = { has_idea = MAS_magic_army_MagicalSupremacy_idea }
            swap_ideas = {
		        remove_idea = MAS_magic_army_MagicalSupremacy_idea
			    add_idea = MAS_magic_army_MagicalSupremacyMystery_idea
		    }
        }
        else = {
            swap_ideas = {
                remove_idea = MAS_magic_army_CapableMages_idea
                add_idea = MAS_magic_army_MagicalSupremacyMystery_idea
            }
        }
	}
}
shared_focus = {
	id = MAS_MoreCarefulLook
	icon = GFX_focus_MAS_MoreCarefulLook
	x = 0
	y = 1
	relative_position_id = MAS_ExpandTheArmyOfMages
	cost = 10.0
	prerequisite = {
		focus = MAS_ExpandTheArmyOfMages
	}
	ai_will_do = {
		factor = 10
	}
	completion_reward = {
		add_manpower = 300
        swap_ideas = {
            remove_idea = MAS_IncapableAsServants_idea
            add_idea = MAS_IncapableAsServantsMystery_idea
        }
	}
}
shared_focus = {
	id = MAS_FillOurStockpiles
	icon = GFX_focus_MAS_FillOurStockpiles
	x = 0
	y = 1
	relative_position_id = MAS_MoreCarefulLook
	cost = 10.0
	prerequisite = {
		focus = MAS_MoreCarefulLook
	}
	ai_will_do = {
		factor = 10
	}
	completion_reward = {
		add_equipment_to_stockpile = {
			type = energy_equipment_1
			amount = 200
            producer = OWE
		}
	}
}
shared_focus = {
	id = MAS_BuildAASystem
	icon = GFX_focus_MAS_BuildAASystem
	x = 0
	y = 1
	relative_position_id = MAS_FillOurStockpiles
	cost = 10.0
	prerequisite = {
		focus = MAS_FillOurStockpiles
	}
	ai_will_do = {
		factor = 10
	}
	completion_reward = {
		527 = {
			add_building_construction = {
				type = anti_air_building
				level = 5
				instant_build = yes
			}
		}
	}
}
shared_focus = {
	id = MAS_BetterTacticsBetterSolutions
	icon = GFX_focus_MAS_BetterTacticsBetterSolutions
	x = 2
	y = 1
	relative_position_id = MAS_ArmyOfDetectives
	cost = 10.0
	prerequisite = {
		focus = MAS_ArmyOfDetectives
	}
	ai_will_do = {
		factor = 10
	}
	completion_reward = {
		add_tech_bonus = {
			bonus = 1
			uses = 1
			category = land_doctrine
		}
	}
}
shared_focus = {
	id = MAS_PreventForeignResearch
	icon = GFX_focus_MAS_PreventForeignResearch
	x = 0
	y = 1
	relative_position_id = MAS_BetterTacticsBetterSolutions
	cost = 10.0
	prerequisite = {
		focus = MAS_BetterTacticsBetterSolutions
	}
	ai_will_do = {
		factor = 10
	}
	completion_reward = {
		add_ideas = MAS_CounterEspionage_idea
	}
}
shared_focus = {
	id = MAS_IndustryIsNessesary
	icon = GFX_focus_MAS_IndustryIsNessesary
	x = 0
	y = 1
	relative_position_id = MAS_PreventForeignResearch
	cost = 10.0
	prerequisite = {
		focus = MAS_PreventForeignResearch
	}
	ai_will_do = {
		factor = 10
	}
	completion_reward = {
		add_tech_bonus = {
			bonus = 1
			uses = 2
			category = industry
		}
		527 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
        527 = {
            add_extra_state_shared_building_slots = 2
            add_building_construction = {
                type = industrial_complex
                level = 2
                instant_build = yes
            }
        }
	}
}
shared_focus = {
	id = MAS_ImproveOurSkills
	icon = GFX_focus_MAS_ImproveOurSkills
	x = 0
	y = 1
	relative_position_id = MAS_IndustryIsNessesary
	cost = 10.0
	prerequisite = {
		focus = MAS_IndustryIsNessesary
	}
	ai_will_do = {
		factor = 10
	}
	completion_reward = {
		add_tech_bonus = {
			bonus = 1
			uses = 2
			category = land_doctrine
		}
	}
}
shared_focus = {
	id = MAS_AgentsAreWatching
	icon = GFX_focus_MAS_AgentsAreWatching
	x = -1
	y = 1
	relative_position_id = MAS_BuildAASystem
	cost = 10.0
	prerequisite = {
		focus = MAS_NewMachineries
	}
	prerequisite = {
		focus = MAS_BuildAASystem
	}
	ai_will_do = {
		factor = 10
	}
	completion_reward = {
		
        swap_ideas = {
            remove_idea = MAS_MysteryDetectives_idea
            add_idea = MAS_MysteryDetectives_idea1
        }
	}
}
shared_focus = {
	id = MAS_ContinueOurTrainings
	icon = GFX_focus_MAS_ContinueOurTrainings
	x = 1
	y = 1
	relative_position_id = MAS_BuildAASystem
	cost = 10.0
	prerequisite = {
		focus = MAS_ImproveOurSkills
	}
	prerequisite = {
		focus = MAS_BuildAASystem
	}
	ai_will_do = {
		factor = 10
	}
	completion_reward = {
		add_tech_bonus = {
			bonus = 1
			uses = 1
			category = land_doctrine
		}
	}
}
shared_focus = {
	id = MAS_PreparedAndReady
	icon = GFX_focus_MAS_PreparedAndReady
	x = 1
	y = 1
	relative_position_id = MAS_AgentsAreWatching
	cost = 10.0
	prerequisite = {
		focus = MAS_AgentsAreWatching
	}
	prerequisite = {
		focus = MAS_ContinueOurTrainings
	}
	ai_will_do = {
		factor = 10
	}
	completion_reward = {
		527 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		swap_ideas = {
			remove_idea = MAS_CounterEspionage_idea
			add_idea = MAS_CounterEspionage2_idea
		}
        swap_ideas = {
            remove_idea = closed_stable_society
            add_idea = open_stable_society
        }
	}
}
#############
### TOUGH ###
#############
#TODO mark for navigation.
shared_focus = { #Why are we still here?
    id = MAS_P3TS
    icon = GFX_focus_MAS_P3TS
    x = 0
    y = 5
    cost = 1
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        custom_effect_tooltip = MAS_please_come_back_later
        set_politics = {
            ruling_party = destruction
        }
    }
}
shared_focus = { #Just to suffer?
    id = MAS_P3T1
    icon = GFX_focus_MAS_P3T1
    x = 0
    y = 1
	prerequisite = {
		focus = MAS_P3TS
	}
    relative_position_id = MAS_P3TS
    cost = 1
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        custom_effect_tooltip = MAS_please_come_back_later
    }
}
shared_focus = { #Every night, I can feel my leg…
    id = MAS_P3T2C1
    icon = GFX_focus_MAS_P3T2C1
    x = -2
    y = 1
	prerequisite = {
		focus = MAS_P3T1
	}
    relative_position_id = MAS_P3T1
    cost = 1
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        custom_effect_tooltip = MAS_please_come_back_later
    }
}
shared_focus = { #and my arm…
    id = MAS_P3T2C2
    icon = GFX_focus_MAS_P3T2C2
    x = 0
    y = 1
	prerequisite = {
		focus = MAS_P3T1
	}
    relative_position_id = MAS_P3T1
    cost = 1
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        custom_effect_tooltip = MAS_please_come_back_later
    }
}
shared_focus = { #even my fingers.
    id = MAS_P3T2C3
    icon = GFX_focus_MAS_P3T2C3
    x = 2
    y = 1
	prerequisite = {
		focus = MAS_P3T1
	}
    relative_position_id = MAS_P3T1
    cost = 1
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        custom_effect_tooltip = MAS_please_come_back_later
    }
}
shared_focus = { #The body I’ve lost…
    id = MAS_P3T3C1
    icon = GFX_focus_MAS_P3T3C1
    x = -2
    y = 2
	prerequisite = {
		focus = MAS_P3T2C1
	}
	prerequisite = {
		focus = MAS_P3T2C3
	}
	prerequisite = {
		focus = MAS_P3T2C2
	}
    relative_position_id = MAS_P3T1
    cost = 1
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        custom_effect_tooltip = MAS_please_come_back_later
    }
}
shared_focus = { #the comrades I’ve lost…
    id = MAS_P3T3C2
    icon = GFX_focus_MAS_P3T3C2
    x = 0
    y = 2
	prerequisite = {
		focus = MAS_P3T2C1
	}
	prerequisite = {
		focus = MAS_P3T2C3
	}
	prerequisite = {
		focus = MAS_P3T2C2
	}
    relative_position_id = MAS_P3T1
    cost = 1
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        custom_effect_tooltip = MAS_please_come_back_later
    }
}
shared_focus = { #won’t stop hurting…
    id = MAS_P3T3C3
    icon = GFX_focus_MAS_P3T3C3
    x = 2
    y = 2
	prerequisite = {
		focus = MAS_P3T2C1
	}
	prerequisite = {
		focus = MAS_P3T2C3
	}
	prerequisite = {
		focus = MAS_P3T2C2
	}
    relative_position_id = MAS_P3T1
    cost = 1
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        custom_effect_tooltip = MAS_please_come_back_later
    }
}
shared_focus = { #It’s like they’re all still there.
    id = MAS_P3T4
    icon = GFX_focus_MAS_P3T4
    x = 0
    y = 3
	prerequisite = {
		focus = MAS_P3T3C1
	}
	prerequisite = {
		focus = MAS_P3T3C3
	}
	prerequisite = {
		focus = MAS_P3T3C2
	}
    relative_position_id = MAS_P3T1
    cost = 1
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        custom_effect_tooltip = MAS_please_come_back_later
    }
}
shared_focus = { #You feel it, too, don’t you?
    id = MAS_P3T5
    icon = GFX_focus_MAS_P3T5
    x = 0
    y = 4
	prerequisite = {
		focus = MAS_P3T4
	}
    relative_position_id = MAS_P3T1
    cost = 1
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        custom_effect_tooltip = MAS_please_come_back_later
    }
}
#############
### HORNY ###
#############
#TODO mark for navigation.
shared_focus = { #Back to work.
    id = MAS_P3HS
    icon = GFX_focus_MAS_P3HS
    x = 0
    y = 1
    relative_position_id = MAS_P2F9
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        
        if = {
            limit = {
                has_country_flag = MAS_RobotsInArmy
            }
            custom_effect_tooltip = MAS_1_robot_tt
            hidden_effect = {
                load_oob = MAS_1_robot
            }
        }
        add_ideas = old_world_society
	add_ideas = partial_economic_mobilisation
        hidden_effect = {
            set_country_flag = MAS_metallwallunlocked
            set_country_flag = MAS_bloodystormunlocked
            set_country_flag = MAS_industrialwayunlocked
            if = {
            	limit = { NOT = { has_country_flag = MAS_blossom_dead } }
            	set_country_flag = MAS_magicblossomunlocked
            }
        }
    }
}
shared_focus = { #We are legitimate government.
    id = MAS_P3H1
    icon = GFX_focus_MAS_P3H1
    prerequisite = {
        focus = MAS_P3HS
    }
    x = 0
    y = 1
    relative_position_id = MAS_P3HS
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        add_war_support = 0.15
        add_stability = 0.1
        add_political_power = 100
    }
}
shared_focus = { #We will take equestria back.
    id = MAS_P3H2
    icon = GFX_focus_MAS_P3H2
    prerequisite = {
        focus = MAS_P3H1
    }
    x = 0
    y = 1
    relative_position_id = MAS_P3H1
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        one_random_arms_factory = yes
		add_equipment_to_stockpile = {
			type = magx_equipment_gun
			amount = 150
		}
    }
}
shared_focus = { #Ultimatum to neighbor.
    id = MAS_P3H3
    icon = GFX_focus_MAS_P3H3
    prerequisite = {
        focus = MAS_P3H2
    }
    x = 0
    y = 1
    relative_position_id = MAS_P3H2
    cost = 5
    ai_will_do = {
        factor = 1
    }
    bypass = {
        NOT = { country_exists = LIT }
    }
    will_lead_to_war_with = LIT
    completion_reward = { #Let's hope it will work. I tried to make this part as unbreakable as it should be.
        if = {
            limit = {
                AND = {
                    LIT = { owns_state = 33 }
                    LIT = { owns_state = 34 }
                }
            }
            LIT = {
                country_event = { id = masevent.040 days = 1 }
            }
        }
        if = {
            limit = {
                NOT = {
                    AND = {
                        LIT = { owns_state = 33 }
                        LIT = { owns_state = 34 }
                    }
                }
            }
            create_wargoal = {
                type = annex_everything
                target = 33.owner
            }
            create_wargoal = {
                type = annex_everything
                target = 34.owner
            }
        }
    }
}
shared_focus = { #Raiders no more.
    id = MAS_P3H4C1
    icon = GFX_focus_MAS_P3H4C1
    available = {
        has_war = no
    }
    prerequisite = {
        focus = MAS_P3H3
    }
    bypass = { NOT = { country_exists = PBN }}
    x = -1
    y = 1
    relative_position_id = MAS_P3H3
    cost = 2
    ai_will_do = {
        factor = 1
    }
    will_lead_to_war_with = PBN
    completion_reward = {
        create_wargoal = { type = puppet_wargoal_focus target = PBN }
    }
}
shared_focus = { #CB on Georgetown.
    id = MAS_P3H4C2
    icon = GFX_focus_MAS_P3H4C2
    prerequisite = {
        focus = MAS_P3H4C1
        focus = MAS_P3H4C3
    }
    available = {
        AND = {
            OR= {
                NOT = { country_exists = FTA }
                NOT = { country_exists = PBN }
                    PBN = {is_puppet_of = ROOT}
                }
            }
    }
    bypass = { NOT = { country_exists = GOR }}
    x = 0
    y = 2
    relative_position_id = MAS_P3H3
    cost = 2
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        create_wargoal = { type = puppet_wargoal_focus target = GOR }
    }
}
shared_focus = { #CB on FTA.
    id = MAS_P3H4C3
    icon = GFX_focus_MAS_P3H4C3
    prerequisite = {
        focus = MAS_P3H3
    }
    available = {
        has_war = no
    }
    bypass = { NOT = { country_exists = FTA } }
    x = 1
    y = 1
    relative_position_id = MAS_P3H3
    cost = 2
    ai_will_do = {
        factor = 1
    }
    will_lead_to_war_with = FTA
    completion_reward = {
        create_wargoal = { type = annex_everything target = FTA }
    }
}
shared_focus = { #Offer to Old Apple.
    id = MAS_P3H5
    icon = GFX_focus_MAS_P3H5
    prerequisite = {
        focus = MAS_P3H4C2
    }
    available = {
        AND = {
            NOT = { country_exists = FTA }
            OR = {
            NOT = { country_exists = PBN }
                PBN = {is_puppet_of = ROOT}
            }
            OR = {
            NOT = { country_exists = GOR }
                GOR = {is_puppet_of = ROOT}
            }
        }
    }
    bypass = {
        NOT = { country_exists = OAP }
    }
    x = 0
    y = 3
    relative_position_id = MAS_P3H3
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        OAP = {
            country_event = { id = masevent.300 }
        }
    }
}
shared_focus = { #Lebensraum.
    id = MAS_P3H6C1
    icon = GFX_focus_MAS_P3H6C1
    prerequisite = {
        focus = MAS_P3H5
    }
    x = -2
    y = 1
    relative_position_id = MAS_P3H5
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        hidden_effect = {
            if = {
                limit = { NOT = { has_idea = MAS_unhappy_wastelanders } }
                add_ideas = MAS_unhappy_wastelanders
            }
			if = {limit = { 33 = {is_owned_by = LIT}} transfer_state = 33}
			if = {limit = { 34 = {is_owned_by = LIT}} transfer_state = 34}
        }
        34 = {
            add_core_of = MAS
        }
        33 = {
            add_core_of = MAS
        }
    }
}
shared_focus = { #Eradicate chaos.
    id = MAS_P3H6C2
    icon = GFX_focus_MAS_P3H6C2
    prerequisite = {
        focus = MAS_P3H5
    }
    available = {
#        AND = {
#            GOR = { has_capitulated = yes }
#            FTA = { has_capitulated = yes }
#            PBN = { has_capitulated = yes }
            has_idea = MAS_IncompetentSlavers_idea
#        }
    }
    x = 0
    y = 1
    relative_position_id = MAS_P3H5
    cost = 7
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        hidden_effect = {
            if = {
                limit = { NOT = { has_idea = MAS_unhappy_wastelanders } }
                add_ideas = MAS_unhappy_wastelanders
            }
        }
        add_political_power = 50
    }
}
shared_focus = { #Wave of conscription.
    id = MAS_P3H6C3
    icon = GFX_focus_MAS_P3H6C3
    prerequisite = {
        focus = MAS_P3H5
    }
#    available = {
#        AND = {
#            GOR = { has_capitulated = yes }
#            FTA = { has_capitulated = yes }
#            PBN = { has_capitulated = yes }
#        }
#    }
    x = 2
    y = 1
    relative_position_id = MAS_P3H5
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        hidden_effect = {
            if = {
                limit = { NOT = { has_idea = MAS_unhappy_wastelanders } }
                add_ideas = MAS_unhappy_wastelanders
            }
        }
        custom_effect_tooltip = MAS_2_DF_tt
        hidden_effect = {
            load_oob = MAS_2_DF
        }
        527 = {
            add_manpower = -250
        }
    }
}
shared_focus = { #Fight the resistance.
    id = MAS_P3H7
    icon = GFX_focus_MAS_P3H7
    prerequisite = {
        focus = MAS_P3H6C1
    }
    prerequisite = {
        focus = MAS_P3H6C3
    }
    prerequisite = {
        focus = MAS_P3H6C2
    }
    x = 0
    y = 2
    relative_position_id = MAS_P3H5
    cost = 17
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        remove_ideas = MAS_unhappy_wastelanders
    }
}
shared_focus = { #Ministry Slavery.
    id = MAS_P3H8
    icon = GFX_focus_MAS_P3H8
    prerequisite = {
        focus = MAS_P3H7
    }
    x = 0
    y = 1
    relative_position_id = MAS_P3H7
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        swap_ideas = { remove_idea = MAS_IncompetentSlavers_idea add_idea = MAS_XenoSlaves0_idea }
    }
}
shared_focus = { #Question about magic.
    id = MAS_P3H9C1
    icon = GFX_focus_MAS_P3H9C1
    prerequisite = {
        focus = MAS_P3H8
    }
    x = -2
    y = 1
    relative_position_id = MAS_P3H8
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        set_country_flag = MAS_HornyArmyDecisionsUnlocked
        custom_effect_tooltip = MAS_P3H9C1_tt
    }
}
shared_focus = { #No unicorn serwants.
    id = MAS_P3H9C2
    icon = GFX_focus_MAS_P3H9C2
    prerequisite = {
        focus = MAS_P3H8
    }
    x = 0
    y = 1
    relative_position_id = MAS_P3H8
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        remove_ideas = MAS_IncapableAsServants_idea
        country_event = { id = masevent.303 }
    }
}
shared_focus = { #Industrial re-planning.
    id = MAS_P3H9C3
    icon = GFX_focus_MAS_P3H9C3
    prerequisite = {
        focus = MAS_P3H8
    }
    x = 2
    y = 1
    relative_position_id = MAS_P3H8
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        one_random_arms_factory = yes
        one_random_arms_factory = yes
        one_random_arms_factory = yes
        one_random_industrial_complex = yes
        one_random_industrial_complex = yes
        one_random_industrial_complex = yes
    }
}
shared_focus = { #Former government?
    id = MAS_P3HF
    icon = GFX_focus_MAS_P3HF
    prerequisite = {
        focus = MAS_P3H9C1
    }
    prerequisite = {
        focus = MAS_P3H9C3
    }
    prerequisite = {
        focus = MAS_P3H9C2
    }
    x = 0
    y = 2
    relative_position_id = MAS_P3H8
    cost = 3
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        hidden_effect = {
            load_focus_tree = MAS_Pre_Unicornia_focus_tree
        }
        country_event = { id = masevent.304 }
    }
}
#####################
### PRE-UNICORNIA ###
#####################
#TODO mark for navigation.
shared_focus = { #Dream.
    id = MAS_P4PUS
    icon = GFX_focus_MAS_P4PUS
    x = 15
    y = 0
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        add_political_power = 200
        country_event = { id = masevent.305 }
    }
}
shared_focus = { #Steel hoof of ministry.
    id = MAS_P4PU1
    icon = GFX_focus_MAS_P4PU1
    prerequisite = {
        focus = MAS_P4PUS
    }
    x = 15
    y = 1
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        one_random_arms_factory = yes
        
        if = {
            limit = {
                has_tech = tank_tech_1 = 1
            }
        }
        else = {    
            set_technology = { tank_tech_1 = 1}
        }
        
    }
}
shared_focus = { #Grand military parade.
    id = MAS_P4PU2C1
    icon = GFX_focus_MAS_P4PU2C1
    prerequisite = {
        focus = MAS_P4PU1
    }
    x = 13
    y = 2
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        add_stability = 0.1
        add_war_support = 0.1
    }
}
shared_focus = { #Medical investments.
    id = MAS_P4PU2C2
    icon = GFX_focus_MAS_P4PU2C2
    prerequisite = {
        focus = MAS_P4PU1
    }
    x = 15
    y = 2
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        add_tech_bonus = {
            category = medical_tech
            bonus = 1
            uses = 2
        }
    }
}
shared_focus = { #Magical weapons.
    id = MAS_P4PU2C3
    icon = GFX_focus_MAS_P4PU2C3
    prerequisite = {
        focus = MAS_P4PU1
    }
    x = 17
    y = 2
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        add_timed_idea = {
            idea = MAS_RifleProduction_idea
            days = 365
        }
    }
}
shared_focus = { #CB on Unity.
    id = MAS_P4PU3
    icon = GFX_focus_MAS_P4PU3
    prerequisite = {
        focus = MAS_P4PU2C1
    }
    prerequisite = {
        focus = MAS_P4PU2C3
    }
    prerequisite = {
        focus = MAS_P4PU2C2
    }
    bypass = {
        OR = {
            NOT = { country_exists = UNI }
            has_war_with = UNI
        }
    }
    x = 15
    y = 3
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
		create_wargoal = { #UNI
            type = annex_everything
            target = 486.owner
        }
    }
}
shared_focus = { #Alliance to NCR.
    id = MAS_P4PU4
    icon = GFX_focus_MAS_P4PU4
    prerequisite = {
        focus = MAS_P4PU3
    }
    available = {
        SHA = {
            has_completed_focus = NCR_make_republic_official
        }
    }        
    bypass = {
        NOT = { country_exists = SHA }
    }
    mutually_exclusive = {
        focus = MAS_P4PU4A1
    }
    mutually_exclusive = {
        focus = MAS_P4PU4A2
    }
    x = 15
    y = 4
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        SHA = {
            country_event = { id = masevent.306 days = 1 }
        }
    }
}

shared_focus = { #Alliance to FSR.
    id = MAS_P4PU4A1
    icon = GFX_focus_MAS_P4PU4
    prerequisite = {
        focus = MAS_P4PU3
    }
    available = {
    }        
    bypass = {
        NOT = { country_exists = FSR }
    }
    mutually_exclusive = {
        focus = MAS_P4PU4
    }
    mutually_exclusive = {
        focus = MAS_P4PU4A2
    }
    x = 17
    y = 4
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        FSR = {
            country_event = { id = masevent.309 days = 1 }
        }
    }
}

shared_focus = { #Alliance to RED.
    id = MAS_P4PU4A2
    icon = GFX_focus_MAS_P4PU4
    prerequisite = {
        focus = MAS_P4PU3
    }
    available = {
    }        
    bypass = {
        NOT = { country_exists = RED }
    }
    mutually_exclusive = {
        focus = MAS_P4PU4A1
    }
    mutually_exclusive = {
        focus = MAS_P4PU4
    }
    x = 13
    y = 4
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        RED = {
            country_event = { id = masevent.310 days = 1 }
        }
    }
}

shared_focus = { #Forward to Victory!
    id = MAS_P4PU5C1
    icon = GFX_focus_MAS_P4PU5C1
    prerequisite = {
        focus = MAS_P4PU4
        focus = MAS_P4PU4A1
        focus = MAS_P4PU4A2
    }
    x = 14
    y = 5
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        custom_effect_tooltip = MAS_5_DF_tt
        hidden_effect = {
            load_oob = MAS_5_DF
        }
        527 = {
            add_manpower = -625
        }
    }
}
shared_focus = { #Preparations on secret plan.
    id = MAS_P4PU5C2
    icon = GFX_focus_MAS_P4PU5C2
    prerequisite = {
        focus = MAS_P4PU4
        focus = MAS_P4PU4A1
        focus = MAS_P4PU4A2
    }
    x = 16
    y = 5
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
         526 = {
            add_extra_state_shared_building_slots = 1
            add_building_construction = {
                type = industrial_complex
                level = 3
                instant_build = yes
            }
            add_building_construction = {
                type = arms_factory
                level = 1
                instant_build = yes
            }
        }
    }
}
shared_focus = { #Evacuation.
    id = MAS_P4PU6
    icon = GFX_focus_MAS_P4PU6
    prerequisite = {
        focus = MAS_P4PU5C1
    }
    prerequisite = {
        focus = MAS_P4PU5C2
    }
    available = {
        NOT = { country_exists = UNI }
    }
    x = 15
    y = 6
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        527 = { remove_core_of = MAS add_manpower = -9000}
        33 = { remove_core_of = MAS }
        34 = { remove_core_of = MAS }
        526 = { add_core_of = MAS add_manpower = 8500}
        set_capital = 526
        add_research_slot = -1
        if = {limit = {FTA = {is_puppet_of = ROOT}}annex_country = {target = FTA transfer_troops = no}}
        hidden_effect = {
            load_oob = MAS_tanks
        }
        custom_effect_tooltip = MAS_tanks_tt
        add_ideas = MAS_disrupted_reasearch_idea
        hidden_effect = {
            add_manpower = -200
        }
    }
}
shared_focus = { #Canterlot is mine!
    id = MAS_P4PU7
    icon = GFX_focus_MAS_P4PU7
    prerequisite = {
        focus = MAS_P4PU6
    }
    x = 15
    y = 7
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        create_wargoal = { #CAL
            type = annex_everything
            target = 234.owner
        }
        create_wargoal = { #GLY
            type = annex_everything
            target = 415.owner
        }
        create_wargoal = { #SCI
            type = annex_everything
            target = 180.owner
        }
        create_wargoal = { #SPV
            type = annex_everything
            target = 797.owner
        }
        create_wargoal = { #PRA
            type = annex_everything
            target = 65.owner
        }
    }
}
shared_focus = { #Next evac point.
    id = MAS_P4PU8C1
    icon = GFX_focus_MAS_P4PU8C1
    prerequisite = {
        focus = MAS_P4PU7
    }
    x = 14
    y = 8
	available = {
		OR = {
			owns_state = 486
			SPV = {is_puppet_of = MAS}
		}
	}
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        load_oob = MAS_3_DF
        486 = {
            add_core_of = MAS
			add_manpower = 8000
        }
        set_capital = 486
        526 = {
            remove_core_of = MAS
			add_manpower = -8000
        }
		if = {limit = {SPV = {is_puppet_of = ROOT}}annex_country = {target = SPV transfer_troops = no}}
		hidden_effect = {
			add_manpower = -200
		}
    }
}
shared_focus = { #My glorious city!
    id = MAS_P4PU8C2
    icon = GFX_focus_MAS_P4PU8C2
    prerequisite = {
        focus = MAS_P4PU5C1
    }
    prerequisite = {
        focus = MAS_P4PU5C2
    }

    x = 16
    y = 8
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        set_country_flag = MAS_HornyMissionUnlock
        #Canterlot rebuilding decisions.
        #234, 415, 801, 180
        #add_state_core = 234
        #add_state_core = 415
        #add_state_core = 801
        #add_state_core = 180
    }
}
shared_focus = { #The last evac point.
    id = MAS_P4PU9
    icon = GFX_focus_MAS_P4PU9
    prerequisite = {
        focus = MAS_P4PU8C1
    }
    prerequisite = {
        focus = MAS_P4PU8C2
    }
    available = {
        has_country_flag = MAS_415_Cleared
    }
    x = 15
    y = 9
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        add_research_slot = -1
        set_capital = 415
		486 = {
            remove_core_of = MAS
			add_manpower = -7500
        }
		415 = {
            add_core_of = MAS
			add_manpower = 7500
        }
    }
}
shared_focus = { #I achieved an imposable goal.
    id = MAS_P4PUF
    icon = GFX_focus_MAS_P4PUF
    prerequisite = {
        focus = MAS_P4PU9
    }
    available = {
        has_country_flag = MAS_234_cleared
    }
    x = 15
    y = 10
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        hidden_effect = {
            if = {
                limit = {
                    country_exists = SHA
                }
                SHA = { country_event = { id = masevent.350 } } #CB on MAS.
            }
			retire_country_leader = yes
			create_country_leader = {
				name = "Prince Horny Miracle"
				picture = "PrinceHornyMiracle.tga"
				expire = "1965.1.1"
				ideology = rebuilder
				traits = {
		
				}
			}
			load_focus_tree = MAS_Unicornia_focus_tree
        }
        create_faction = "Summerdale Axis"
		remove_ideas = MAS_disrupted_reasearch_idea
        set_cosmetic_tag = MAS_Unicornia
        set_capital = 234
		415 = { add_manpower = -5000}
        234 = { add_manpower = 5000}
        if = {
            limit = {
                LIT = {
                    is_puppet_of = MAS
                }
            }
            end_puppet = LIT
            MAS = {
                add_to_faction = LIT
            }
            LIT = {
                set_state_owner = 802
                set_state_owner = 527
				set_state_owner = 33
				set_state_owner = 34
				set_state_owner = 161
				set_state_owner = 526
            }
        }
    }
}

shared_focus = { 
    id = MAS_Unicornia_begins
    icon = GFX_focus_MAS_Unicornia_begins
    
    x = 15
    y = 0
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        country_event = masevent.311
		remove_ideas = MAS_disrupted_reasearch_idea
    }
}

shared_focus = { 
    id = MAS_Unicornia_our_prince
    icon = GFX_focus_MAS_Unicornia_our_prince
    relative_position_id = MAS_Unicornia_begins
    x = 0
    y = 1
	prerequisite = { focus = MAS_Unicornia_begins }
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
		custom_effect_tooltip = MAS_unicornia_prince_tt
		add_country_leader_trait = MAS_unicornia_prince
    }
}

shared_focus = { 
    id = MAS_Unicornia_call_unicorns
    icon = GFX_focus_MAS_Unicornia_call_unicorns
    relative_position_id = MAS_Unicornia_begins
    x = -2
    y = 2
	prerequisite = { focus = MAS_Unicornia_our_prince }
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        add_manpower = 200
		custom_effect_tooltip = MAS_unlocks_manpower_decision_tt
    }
}

shared_focus = { 
    id = MAS_Unicornia_royal_guard
    icon = GFX_focus_MAS_Unicornia_royal_guard
    relative_position_id = MAS_Unicornia_begins
    x = 0
    y = 2
	prerequisite = { focus = MAS_Unicornia_our_prince }
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        custom_effect_tooltip = MAS_roayal_guard_tt
		hidden_effect = {
			division_template = {
			name = "Royal Guard"
			priority = 2
			is_locked = yes
			regiments = {
			infantry = { x = 0 y = 0 }
			infantry = { x = 0 y = 1 }
			infantry = { x = 0 y = 2 }
			infantry = { x = 1 y = 0 }
			infantry = { x = 1 y = 1 }
			infantry = { x = 0 y = 3 }
			infantry = { x = 0 y = 4 }
			infantry = { x = 1 y = 2 }
			fireteam_infantry = { x = 1 y = 3 }
			fireteam_infantry = { x = 1 y = 4 }
			}
			support = {
				medical_chem_company = 1
				logistics_company = 1
				unicorn_company = 1
			}
			}
			234 = {
				create_unit = {
					division = "name = \"1. Royal Guard\" division_template = \"Royal Guard\" start_experience_factor = 0.8" 
					owner = MAS
				}
				create_unit = {
					division = "name = \"2. Royal Guard\" division_template = \"Royal Guard\" start_experience_factor = 0.8" 
					owner = MAS
				}
			}
		}
    }
}

shared_focus = { 
    id = MAS_Unicornia_protect_domain
    icon = GFX_focus_MAS_Unicornia_protect_domain
    relative_position_id = MAS_Unicornia_begins
    x = 2
    y = 2
	prerequisite = { focus = MAS_Unicornia_our_prince }
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        add_ideas = MAS_protecting_canterlot_idea
		234 = {
				add_building_construction = {
				type = bunker
				province = 8719
				level = 3
				instant_build = yes
				}
				add_building_construction = {
				type = bunker
				province = 8738
				level = 3
				instant_build = yes
				}
			}
    }
}

shared_focus = { 
    id = MAS_Unicornia_holy_kingdom
    icon = GFX_focus_MAS_Unicornia_holy_kingdom
    relative_position_id = MAS_Unicornia_begins
    x = -4
    y = 3
	prerequisite = { focus = MAS_Unicornia_call_unicorns }
	prerequisite = { focus = MAS_Unicornia_protect_domain }
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        country_event = masevent.312
    }
}

shared_focus = { 
    id = MAS_Unicornia_beauty_of_home
    icon = GFX_focus_MAS_Unicornia_beauty_of_home
    relative_position_id = MAS_Unicornia_begins
    x = -7
    y = 4
	prerequisite = { focus = MAS_Unicornia_holy_kingdom }
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        234 = {
			add_extra_state_shared_building_slots = 4 add_building_construction = { type = industrial_complex instant_build = yes level = 3}
		}
    }
}

shared_focus = { 
    id = MAS_Unicornia_trains
    icon = GFX_focus_MAS_Unicornia_trains
    relative_position_id = MAS_Unicornia_begins
    x = -8
    y = 5
	prerequisite = { focus = MAS_Unicornia_beauty_of_home }
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        234 = {
			set_building_level = {
					type = infrastructure
					level = 10
				}
		}
		415 = {add_building_construction = { type = infrastructure instant_build = yes level = 2}}
    }
}

shared_focus = { 
    id = MAS_Unicornia_industry_kind
    icon = GFX_focus_MAS_Unicornia_industry_kind
    relative_position_id = MAS_Unicornia_begins
    x = -6
    y = 5
	prerequisite = { focus = MAS_Unicornia_beauty_of_home }
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        one_random_industrial_complex = yes
		one_random_industrial_complex = yes
		one_random_industrial_complex = yes
    }
}

shared_focus = { 
    id = MAS_Unicornia_R_and_D
    icon = GFX_focus_MAS_Unicornia_R_and_D
    relative_position_id = MAS_Unicornia_begins
    x = -7
    y = 6
	prerequisite = { focus = MAS_Unicornia_trains }
	prerequisite = { focus = MAS_Unicornia_industry_kind }
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        add_research_slot = 1
    }
}

shared_focus = { 
    id = MAS_Unicornia_brave_army
    icon = GFX_focus_MAS_Unicornia_brave_army
    relative_position_id = MAS_Unicornia_begins
    x = 4
    y = 3
	prerequisite = { focus = MAS_Unicornia_call_unicorns }
	prerequisite = { focus = MAS_Unicornia_protect_domain }
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
		add_ideas = MAS_army_Unicornia_idea
		custom_effect_tooltip = MAS_trash_old_army_tt
		hidden_effect = {
        remove_ideas = MAS_CombArms_idea
		remove_ideas = MAS_GrandArmy_idea
		remove_ideas = MAS_StrongCom_idea
		remove_ideas = MAS_magic_army_MagicalSupremacy_idea
		remove_ideas = MAS_magic_army_CapableMages_idea
		remove_ideas = MAS_magic_army_BasicMagicalTraining_idea
		remove_ideas = MAS_magic_army_MagicalOfficers_idea
		clr_country_flag = MAS_HornyArmyDecisionsUnlocked
		}
    }
}

shared_focus = { 
    id = MAS_Unicornia_seize_STA
    icon = GFX_focus_MAS_Unicornia_seize_STA
    relative_position_id = MAS_Unicornia_begins
    x = 4
    y = 4
	prerequisite = { focus = MAS_Unicornia_brave_army }
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        STA = {
				ROOT = {
					grant_wargoals_on_core_states_of_prev = yes
				}
			}
    }
}

shared_focus = { 
    id = MAS_Unicornia_into_canter_mountains
    icon = GFX_focus_MAS_Unicornia_into_canter_mountains
    relative_position_id = MAS_Unicornia_begins
    x = 6
    y = 4
	prerequisite = { focus = MAS_Unicornia_brave_army }
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        CCD = {
				ROOT = {
					grant_wargoals_on_core_states_of_prev = yes
				}
			}
    }
}

shared_focus = { 
    id = MAS_Unicornia_unite_the_holy_lands
    icon = GFX_focus_MAS_Unicornia_unite_the_holy_lands
    relative_position_id = MAS_Unicornia_begins
    x = 5
    y = 5
	prerequisite = { focus = MAS_Unicornia_into_canter_mountains }
	prerequisite = { focus = MAS_Unicornia_seize_STA }
	available = {
		owns_state = 735
		owns_state = 65
		owns_state = 475
		owns_state = 74
	}
    cost = 8.58
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        Core_original_CCD = yes
		Core_original_STA = yes
		Core_original_PRA = yes
    }
}

shared_focus = { 
    id = MAS_Unicornia_unicorns_rule
    icon = GFX_focus_MAS_Unicornia_unicorns_rule
    relative_position_id = MAS_Unicornia_begins
    x = 0
    y = 3
	prerequisite = { focus = MAS_Unicornia_call_unicorns }
	prerequisite = { focus = MAS_Unicornia_protect_domain }
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        add_ideas = MAS_unicorns_rule_idea
    }
}

shared_focus = { 
    id = MAS_Unicornia_racial_conclusion
    icon = GFX_focus_MAS_Unicornia_racial_conclusion
    relative_position_id = MAS_Unicornia_begins
    x = 2
    y = 4
	prerequisite = { focus = MAS_Unicornia_unicorns_rule }
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        swap_ideas = {remove_idea = MAS_XenoSlaves0_idea add_idea = MAS_XenoSlaves1_idea}
    }
}

shared_focus = { 
    id = MAS_Unicornia_old_friends
    icon = GFX_focus_MAS_Unicornia_old_friends
    relative_position_id = MAS_Unicornia_begins
    x = 2
    y = 5
	prerequisite = { focus = MAS_Unicornia_racial_conclusion }
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
       TEN = { country_event = masevent.316 }
    }
}

shared_focus = { 
    id = MAS_Unicornia_axis_expansion
    icon = GFX_focus_MAS_Unicornia_axis_expansion
    relative_position_id = MAS_Unicornia_begins
    x = 2
    y = 6
	prerequisite = { focus = MAS_Unicornia_old_friends }
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        TEN = { country_event = masevent.313 }
    }
}

shared_focus = { 
    id = MAS_Unicornia_past_heroes
    icon = GFX_focus_MAS_Unicornia_past_heroes
    relative_position_id = MAS_Unicornia_begins
    x = -2
    y = 4
	prerequisite = { focus = MAS_Unicornia_unicorns_rule }
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        army_experience = 25
    }
}

shared_focus = { 
    id = MAS_Unicornia_tanks_tanks_tanks
    icon = GFX_focus_MAS_Unicornia_tanks_tanks_tanks
    relative_position_id = MAS_Unicornia_begins
    x = -1
    y = 5
	prerequisite = { focus = MAS_Unicornia_past_heroes }
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        add_tech_bonus = {
			name = tank_bonus
			bonus = 0.8
			uses = 2
			category = tank_tech
			}
    }
}

shared_focus = { 
    id = MAS_Unicornia_military_academy
    icon = GFX_focus_MAS_Unicornia_military_academy
    relative_position_id = MAS_Unicornia_begins
    x = -1
    y = 6
	prerequisite = { focus = MAS_Unicornia_tanks_tanks_tanks }
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        add_research_slot = 1
    }
}

shared_focus = { 
    id = MAS_Unicornia_unicorns_on_wheels
    icon = GFX_focus_MAS_Unicornia_unicorns_on_wheels
    relative_position_id = MAS_Unicornia_begins
    x = -1
    y = 7
	prerequisite = { focus = MAS_Unicornia_military_academy }
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        add_tech_bonus = {
			name = truck_bonus
			bonus = 0.8
			uses = 3
			category = truck_tech
			}
    }
}

shared_focus = { 
    id = MAS_Unicornia_restore_canterlot_ships
    icon = GFX_focus_MAS_Unicornia_restore_canterlot_ships
    relative_position_id = MAS_Unicornia_begins
    x = -4
    y = 5
	prerequisite = { focus = MAS_Unicornia_past_heroes }
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        one_random_arms_factory = yes
		one_random_arms_factory = yes
		one_random_arms_factory = yes
    }
}

shared_focus = { 
    id = MAS_Unicornia_aeroplanes
    icon = GFX_focus_MAS_Unicornia_aeroplanes
    relative_position_id = MAS_Unicornia_begins
    x = -5
    y = 6
	prerequisite = { focus = MAS_Unicornia_restore_canterlot_ships }
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
         add_tech_bonus = {
			name = fighter_tech
			bonus = 0.8
			uses = 2
			category = fighter_tech
			}
    }
}

shared_focus = { 
    id = MAS_Unicornia_airships
    icon = GFX_focus_MAS_Unicornia_airships
    relative_position_id = MAS_Unicornia_begins
    x = -3
    y = 6
	prerequisite = { focus = MAS_Unicornia_restore_canterlot_ships }
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        add_tech_bonus = {
			name = airship_tech
			bonus = 0.8
			uses = 2
			category = airship_tech
			}
    }
}

shared_focus = { 
    id = MAS_Unicornia_protect_city
    icon = GFX_focus_MAS_Unicornia_protect_city
    relative_position_id = MAS_Unicornia_begins
    x = -4
    y = 7
	prerequisite = { focus = MAS_Unicornia_airships }
	prerequisite = { focus = MAS_Unicornia_aeroplanes }
    cost = 5
    ai_will_do = {
        factor = 1
    }
    completion_reward = {
        180 = { 
				add_building_construction = {
					type = anti_air_building
					level = 5
					instant_build = yes
				} 
			}
		234 = { 
				add_building_construction = {
					type = anti_air_building
					level = 5
					instant_build = yes
				} 
			}
		415 = { 
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				} 
			}
    }
}