scripted_gui = {
	ncg_invest_gui = {
        window_name = "ncg_invest_window"
        context_type = player_context
    
        visible = {
            check_variable = { ncg_gui_var = 1 }
        }
    
        effects = {
            close_button_click = {
                set_variable = { ncg_gui_var = 0 }
            }
			ncg_mil_invest_button1_click = {
                add_to_variable = {
				var = NCG_mil_invest
				value = 1
				}
				add_manpower = [?NCG_mil_merc_count]
            }
			ncg_mil_invest_button2_click = {
                add_to_variable = {
				var = NCG_mil_invest
				value = 1
				}
				add_equipment_to_stockpile = { type = infantry_equipment_4 amount = 300 producer = OWE }
            }
			ncg_mil_invest_button3_click = {
                add_to_variable = {
				var = NCG_mil_invest
				value = 1
				}
				add_offsite_building = { type = arms_factory level = 1 }
            }
			ncg_mil_invest_button4_click = {
                add_to_variable = {
				var = NCG_mil_invest
				value = 1
				}
				###add_idea = XXX
            }
			ncg_mil_invest_button5_click = {
                ###add_idea = XXX
            }
			ncg_civ_invest_button1_click = {
                add_to_variable = {
				var = NCG_civ_invest
				value = 1
				}
				fixed_random_seed = no
				747 = {add_resource = {type = metal amount = 2}add_resource = {type = energy amount = 1}}
				random_list = {
					14 = { 747 = {add_resource = {type = water amount = 4}} }
					15 = { 747 = {add_resource = {type = energy amount = 4}} }
					15 = { 747 = {add_resource = {type = metal amount = 4}} }
					14 = { 747 = {add_resource = {type = composites amount = 4}} }
					14 = { 747 = {add_resource = {type = circuitry amount = 4}} }
					14 = { 747 = {add_resource = {type = advanced amount = 4}} }
					14 = { 747 = {add_resource = {type = crystals amount = 4}} }
				}
            }
			ncg_civ_invest_button2_click = {
                add_to_variable = {
				var = NCG_civ_invest
				value = 1
				}
				one_random_infrastructure = yes
				one_random_infrastructure = yes
				one_random_infrastructure = yes
				one_random_infrastructure = yes
				random_owned_controlled_state = {
					limit = {
						is_core = yes
						free_building_slots = {
						building = arms_factory
						size < 4
						include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 4
				}
            }
			ncg_civ_invest_button3_click = {
                add_to_variable = {
				var = NCG_civ_invest
				value = 1
				}
				add_offsite_building = { type = industrial_complex level = 1 }
            }
			ncg_civ_invest_button4_click = {
                add_to_variable = {
				var = NCG_civ_invest
				value = 1
				}
				###add_idea = XXX
            }
			ncg_civ_invest_button5_click = {
                ###add_idea = XXX
            }
			ncg_rnd_invest_button1_click = {
                add_tech_bonus = {
					name = robotics_tech
					bonus = 1.0
					uses = 1
					category = robotics_tech
					}
            }
			ncg_rnd_invest_button2_click = {
                ###random high-tech equipment
            }
			ncg_rnd_invest_button3_click = {
                ###random niche-event
            }
			ncg_rnd_invest_button4_click = {
                ###add_idea = XXX
            }
			ncg_rnd_invest_button5_click = {
                ###add_idea = XXX
            }
			
        }
    
        triggers = {
			ncg_mil_invest_button1_click_enabled = {
				check_variable = { NCG_free_invest > 0 }
				check_variable = { NCG_mil_invest < 10 }
			}
			ncg_mil_invest_button2_click_enabled = {
				check_variable = { NCG_free_invest > 0 }
				check_variable = { NCG_mil_invest < 10 }
			}
			ncg_mil_invest_button3_click_enabled = {
				check_variable = { NCG_free_invest > 0 }
				check_variable = { NCG_mil_invest < 10 }
			}
			ncg_mil_invest_button4_click_enabled = {
				check_variable = { NCG_free_invest > 0 }
				check_variable = { NCG_mil_invest < 10 }
			}
			ncg_mil_invest_button5_click_enabled = {
				check_variable = { NCG_mil_invest = 10 }
			}
			ncg_civ_invest_button1_click_enabled = {
				check_variable = { NCG_free_invest > 0 }
				check_variable = { NCG_civ_invest < 10 }
			}
			ncg_civ_invest_button2_click_enabled = {
				check_variable = { NCG_free_invest > 0 }
				check_variable = { NCG_civ_invest < 10 }
			}
			ncg_civ_invest_button3_click_enabled = {
				check_variable = { NCG_free_invest > 0 }
				check_variable = { NCG_civ_invest < 10 }
			}
			ncg_civ_invest_button4_click_enabled = {
				check_variable = { NCG_free_invest > 0 }
				check_variable = { NCG_civ_invest < 10 }
			}
			ncg_civ_invest_button5_click_enabled = {
				check_variable = { NCG_civ_invest = 10 }
			}
			ncg_rnd_invest_button1_click_enabled = {
				check_variable = { NCG_free_invest > 0 }
				check_variable = { NCG_rnd_invest < 10 }
			}
			ncg_rnd_invest_button2_click_enabled = {
				check_variable = { NCG_free_invest > 0 }
				check_variable = { NCG_rnd_invest < 10 }
			}
			ncg_rnd_invest_button3_click_enabled = {
				check_variable = { NCG_free_invest > 0 }
				check_variable = { NCG_rnd_invest < 10 }
			}
			ncg_rnd_invest_button4_click_enabled = {
				check_variable = { NCG_free_invest > 0 }
				check_variable = { NCG_rnd_invest < 10 }
			}
			ncg_rnd_invest_button5_click_enabled = {
				check_variable = { NCG_rnd_invest = 10 }
			}
        }
    
        dynamic_lists = {
        }
    
        properties = {
        }
    
        ai_enabled = {
            always = no
        }
    
        ai_test_interval = 290  # The higher, the long it takes the ai to do actions
        ai_test_variance = 0.5
    
        ai_check = {
        }
    
        ai_check_scope = {
        }
    
        ai_weights = {
        }
    }
	
	ncg_investment_opener = {
        window_name = "ncg_invest_button_window"
        context_type = player_context
        parent_window_token = politics_tab
    
        visible = {
            tag = NCG
        }
    
        effects = {
           ncg_invest_button_click = {
                if = {
                    limit = { check_variable = { ncg_gui_var = 1 } }
                    ROOT = {
                        set_variable = { ncg_gui_var = 0 }
                    }
                }
                else_if = {
                    limit = { 
                        NOT { check_variable = { ncg_gui_var = 1 } }
                        check_variable = { ncg_gui_var > 0 } 
                    }
                    ROOT = {
                        set_variable = { ncg_gui_var = 1 }
                    }
                }
                else = {
                    ROOT = {
                        set_variable = { ncg_gui_var = 1 }
                    }
                } 
            }

        }

        triggers = {
            
        }
    
        dynamic_lists = {
        }
    
        properties = {
        }
    
        ai_enabled = {
            always = no
        }
    
        #ai_test_interval = 290  # The higher, the long it takes the ai to do actions
        #ai_test_variance = 0.5
    
        ai_check = {
        }
    
        ai_check_scope = {
        }
    
        ai_weights = {
        }
    }
}
