on_actions = {
	on_weekly_EYE = {
		effect = {
			log = "[GetDateText]: ROOT: [Root.GetName] on_weekly_EYE"
			if = {
				limit = {
					has_country_flag = EYE_3_part_army_flag
				}

				### Loyalty

					#Talon Loyalty
					if = {
						limit = {
							NOT = { has_idea = EYE_positive_1_weekly_talon_influence }
							check_variable = { EYE_talon_loyalty_var < EYE_talon_loyalty_equilibrium_var }
						}
						remove_ideas = EYE_negative_1_weekly_talon_influence
						add_ideas = EYE_positive_1_weekly_talon_influence
					}
					if = {
						limit = {
							NOT = { has_idea = EYE_negative_1_weekly_talon_influence }
							check_variable = { EYE_talon_loyalty_var > EYE_talon_loyalty_equilibrium_var }
						}
						remove_ideas = EYE_positive_1_weekly_talon_influence
						add_ideas = EYE_negative_1_weekly_talon_influence
					}
					if = {
						limit = {
							NOT {
								check_variable = { EYE_talon_loyalty_var = EYE_talon_loyalty_equilibrium_var }
							}
							
						}
						set_temp_variable = { t_ERA_talon_change = modifier@EYE_weekly_talon_influence }
					}

					#Raider Loyalty
					if = {
						limit = {
							NOT = { has_idea = EYE_positive_1_weekly_raider_influence }
							check_variable = { EYE_raider_loyalty_var < EYE_raider_loyalty_equilibrium_var }
						}
						remove_ideas = EYE_negative_1_weekly_raider_influence
						add_ideas = EYE_positive_1_weekly_raider_influence
					}
					if = {
						limit = {
							NOT = { has_idea = EYE_negative_1_weekly_raider_influence }
							check_variable = { EYE_raider_loyalty_var > EYE_raider_loyalty_equilibrium_var }
						}
						remove_ideas = EYE_positive_1_weekly_raider_influence
						add_ideas = EYE_negative_1_weekly_raider_influence
					}
					if = {
						limit = {
							NOT {
								check_variable = { EYE_raider_loyalty_var = EYE_raider_loyalty_equilibrium_var }
							}
							
						}
						set_temp_variable = { t_ERA_raider_change = modifier@EYE_weekly_raider_influence }
					}

					#Slave Loyalty
					if = {
						limit = {
							NOT = { has_idea = EYE_positive_1_weekly_slave_influence }
							check_variable = { EYE_slave_loyalty_var < EYE_slave_loyalty_equilibrium_var }
						}
						remove_ideas = EYE_negative_1_weekly_slave_influence
						add_ideas = EYE_positive_1_weekly_slave_influence
					}
					if = {
						limit = {
							NOT = { has_idea = EYE_negative_1_weekly_slave_influence }
							check_variable = { EYE_slave_loyalty_var > EYE_slave_loyalty_equilibrium_var }
						}
						remove_ideas = EYE_positive_1_weekly_slave_influence
						add_ideas = EYE_negative_1_weekly_slave_influence
					}
					if = {
						limit = {
							NOT {
								check_variable = { EYE_slave_loyalty_var = EYE_slave_loyalty_equilibrium_var }
							}
							
						}
						set_temp_variable = { t_ERA_slave_change = modifier@EYE_weekly_slave_influence }
					}

				ERA_weekly_loyalty_change = yes
			}
		}
	}

}