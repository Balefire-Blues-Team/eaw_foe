###Ponyville Raider Events
###By Krano

add_namespace = PonyvilleEvent

country_event={
    immediate = {log = "[GetDateText]: [Root.GetName]: event PonyvilleEvent.0"}
 	id = PonyvilleEvent.0
 	title = PonyvilleEvent.0.t
 	desc = PonyvilleEvent.0.d
	picture = GFX_event_test
	is_triggered_only = yes
 	fire_only_once = no
	option = {
        name = PonyvilleEvent.0.a
		ai_chance = { factor = 0}

		complete_national_focus = PRA_Freedom_to_Live

	}
    option = {
        name = PonyvilleEvent.0.b
		ai_chance = { factor = 100 }

        complete_national_focus = PRA_Crazy_Mayor

		hidden_effect = {

			retire_character = PRA_char_The_Mayor

			add_country_leader_role = {
  				character = PRA_char_Chainfire
  				promote_leader = yes
  				country_leader = {
    				ideology = raider
    				expire = “1965.1.1.1”
    				traits = { war_industrialist }
				}
  			}

			country_event = { 
				id = PonyvilleEvent.14
				days = 5
			}
		}
	}
}

country_event={
    immediate = {log = "[GetDateText]: [Root.GetName]: event PonyvilleEvent.1"}
 	id = PonyvilleEvent.1
 	title = PonyvilleEvent.1.t
 	desc = PonyvilleEvent.1.d
	picture = GFX_event_test
	is_triggered_only = yes
 	fire_only_once = no
	option = {
        name = PonyvilleEvent.1.a
		ai_chance = { factor = 10}
		
        PRA = {
            set_country_flag = Ponyville_Raider_Empire
        }  

	}
    option = {
        name = PonyvilleEvent.1.b
		ai_chance = { factor = 90 }

        PRA = {
            set_country_flag = Ponyville_Raider_Faction
        }
	}
}

country_event={
    immediate = {log = "[GetDateText]: [Root.GetName]: event PonyvilleEvent.0"}
 	id = PonyvilleEvent.2
 	title = PonyvilleEvent.2.t
 	desc = PonyvilleEvent.2.d
	picture = GFX_event_test
	is_triggered_only = yes
 	fire_only_once = no
	option = {
        name = PonyvilleEvent.2.a
		ai_chance = { factor = 10}
		
        PRA = {
            set_cosmetic_tag = PRA_Empire
        }  

	}
    option = {
        name = PonyvilleEvent.2.b
		ai_chance = { factor = 90 }

        PRA = {
           set_cosmetic_tag = PRA_Bloodletter_Clan
        }
	}
}

country_event={
    immediate = {log = "[GetDateText]: [Root.GetName]: event PonyvilleEvent.0"}
 	id = PonyvilleEvent.3
 	title = PonyvilleEvent.3.t
 	desc = PonyvilleEvent.3.d
	picture = GFX_event_test
	is_triggered_only = yes
 	fire_only_once = no
	option = {
        name = PonyvilleEvent.3.a
		ai_chance = { factor = 10}
		
        PRA = {
            set_cosmetic_tag = PRA_Raidertown
        }  

	}
    option = {
        name = PonyvilleEvent.3.b
		ai_chance = { factor = 90 }

        PRA = {
           set_cosmetic_tag = PRA_Bloodletter_Clan
        }
	}
}


country_event={
    immediate = {log = "[GetDateText]: [Root.GetName]: event PonyvilleEvent.0"}
 	id = PonyvilleEvent.4
 	title = PonyvilleEvent.4.t
 	desc = PonyvilleEvent.4.d
	picture = GFX_event_test
	is_triggered_only = yes
 	fire_only_once = no
	option = {
        name = PonyvilleEvent.4.a
		ai_chance = { factor = 10}

		PRA = {
            set_country_flag = Ponyville_Outsiders
        }

	}

    option = {
        name = PonyvilleEvent.4.b
		ai_chance = { factor = 90 }

        PRA = {
            set_country_flag = Ponyville_Strength_Bonds
        }
	}

	option = {
        name = PonyvilleEvent.4.c
		ai_chance = { factor = 90 }

        PRA = {
            set_country_flag = Ponyville_Slave_Army
        }
	}
}

country_event={
    immediate = {log = "[GetDateText]: [Root.GetName]: event PonyvilleEvent.0"}
 	id = PonyvilleEvent.5
 	title = PonyvilleEvent.5.t
 	desc = PonyvilleEvent.5.d
	picture = GFX_event_test
	is_triggered_only = yes
 	fire_only_once = no
	option = {
        name = PonyvilleEvent.5.a
		ai_chance = { factor = 10}

		PRA = {
            add_ideas = Slavers_deal_Shining
			add_popularity = {
				ideology = destruction
				popularity = -0.15
			}
			add_popularity = {
				ideology = visionary
				popularity = 0.075
			}
			add_popularity = {
				ideology = continuation
				popularity = 0.075
			}
        }

	}

    option = {
        name = PonyvilleEvent.5.b
		ai_chance = { factor = 90 }

        PRA = {
            add_ideas = Slavers_deal_Mayor
			add_popularity {
				ideology = destruction
				popularity = .10
			}
        }
	}
}

country_event={
    immediate = {log = "[GetDateText]: [Root.GetName]: event PonyvilleEvent.0"}
 	id = PonyvilleEvent.6
 	title = PonyvilleEvent.6.t
 	desc = PonyvilleEvent.6.d
	picture = GFX_event_test
	is_triggered_only = yes
 	fire_only_once = no
	option = {
        name = PonyvilleEvent.6.a
		ai_chance = { factor = 10}

		PRA = {
            add_ideas = Church_Velvet_PRA
			add_popularity = {
				ideology = survivalism
				popularity = 0.10
			}
			add_popularity = {
				ideology = destruction
				popularity = -0.10
			}
            add_manpower = -5
        }

	}

    option = {
        name = PonyvilleEvent.6.b
		ai_chance = { factor = 90 }

        PRA = {
            add_ideas = Raider_Velvet_PRA
            add_manpower = -5
            add_stability = -0.05
			add_popularity = {
				ideology = survivalism
				popularity = -0.05
			}
			add_popularity = {
				ideology = destruction
				popularity = 0.05
			}
        }
	}
}

country_event={
    immediate = {log = "[GetDateText]: [Root.GetName]: event PonyvilleEvent.0"}
 	id = PonyvilleEvent.7
 	title = PonyvilleEvent.7.t
 	desc = PonyvilleEvent.7.d
	picture = GFX_event_test
	is_triggered_only = yes
 	fire_only_once = no
	option = {
        name = PonyvilleEvent.7.a
		ai_chance = { factor = 10}

		PRA = {
            add_ideas = More_Slave_Sacrifices
            add_manpower = -25
        }

	}

    option = {
        name = PonyvilleEvent.7.b
		ai_chance = { factor = 90 }

        PRA = {
            add_ideas = Less_Slave_Sacrifices
            add_manpower = 10
        }
	}
}

country_event={
    immediate = {log = "[GetDateText]: [Root.GetName]: event PonyvilleEvent.0"}
 	id = PonyvilleEvent.8
 	title = PonyvilleEvent.8.t
 	desc = PonyvilleEvent.8.d
	picture = GFX_event_test
	is_triggered_only = yes
 	fire_only_once = no
	option = {
        name = PonyvilleEvent.8.a
		ai_chance = { factor = 10}

		PRA = {
            add_ideas = Littlepip_Raider
            add_manpower = -10
			add_stability = -0.15
        }

	}

    option = {
        name = PonyvilleEvent.8.b
		ai_chance = { factor = 90 }

        PRA = {
            add_ideas = Littlepip_Cult
            add_manpower = -20
			add_stability = -0.15
        }
	}

	option = {
        name = PonyvilleEvent.8.c
		ai_chance = { factor = 90 }

        PRA = {
            add_ideas = Shining_Littlepip
            add_manpower = -10
			add_stability = -0.15
        }
	}
	
	option = {
        name = PonyvilleEvent.8.d
		ai_chance = { factor = 90 }

        PRA = {
            add_ideas = Rusty_Littlepip
            add_manpower = -10
			add_stability = -0.15
        }
	}
}

country_event={
    immediate = {log = "[GetDateText]: [Root.GetName]: event PonyvilleEvent.9"}
 	id = PonyvilleEvent.9
 	title = PonyvilleEvent.9.t
 	desc = PonyvilleEvent.9.d
	picture = GFX_event_test
	is_triggered_only = yes
 	fire_only_once = no
	option = {
        name = PonyvilleEvent.9.a
		ai_chance = { factor = 10 }

		PRA = {
			country_event = { id = PonyvilleEvent.12 }
		}
		
		WOT = { change_tag_from = PRA }

		hidden_effect = {
			PRA = {

				retire_character = PRA_char_Prophet_Owt
				retire_character = PRA_char_Rusty_Chains
				retire_character = PRA_char_Shinning_Edge
				retire_character = PRA_char_Chainfire

				65 = {
    				transfer_state_to = WOT
  				}

				set_party_name = {
					ideology = survivalism
					long_name = PRA_Ponyville_Mayor_Survivalism_Party_name_Long
					name = PRA_Ponyville_Mayor_Survivalism_Party_name
				}

				set_party_name = {
					ideology = visionary
					long_name = PRA_Mayor_Visionary_Party_name_Long
					name = PRA_Mayor_Visionary_Party_name
				}

				set_party_name = {
					ideology = continuation
					long_name = PRA_Mayor_continuation_party_name_Long
					name = PRA_Mayor_continuation_party_name
				}

				add_popularity = {
					ideology = destruction
					popularity = 1
				}

				add_popularity = {
					ideology = visionary
					popularity = -1
				}

				add_popularity = {
					ideology = survivalism
					popularity = -1
				}

				add_popularity = {
					ideology = continuation
					popularity = -1
				}

				add_corps_commander_role = {
  						Character = PRA_char_The_Mayor
						traits = { charismatic_trait intelligent_trait pony_race_trait }
  						skill = 3
 						attack_skill = 2
  						defense_skill = 2
  						planning_skill = 4
  						logistics_skill = 4
					}
			}  

			WOT = {
				recruit_character = PRA_char_Shinning_Edge
				recruit_character = PRA_char_Rusty_Chains
				recruit_character = PRA_char_Prophet_Owt
				recruit_character = PRA_char_Chainfire

				PRA_char_Shinning_Edge = {
					promote_character = {
						ideology = despotism
					}
				}

				PRA_char_Rusty_Chains = {
					promote_character = {
						ideology = community
					}
				}

				PRA_char_Prophet_Owt = {
					promote_character = {
						ideology = democratic_surv
					}
				}

				add_country_leader_role = {
  					character = PRA_char_Chainfire
  					promote_leader = yes
  					country_leader = {
    					ideology = raider
    					expire = “1965.1.1.1”
    					traits = { war_industrialist }
					}
  				}

				set_party_name = {
					ideology = destruction
					long_name = PRA_Raider_party_name_long
					name = PRA_Raider_party_name
				}

				set_party_name = {
					ideology = survivalism
					long_name = PRA_Ponyville_Cult_Party_Name_Long
					name = PRA_Ponyville_Cult_Party_name
				}

				set_party_name = {
					ideology = visionary
					long_name = PRA_Knight_Party_Name_Long
					name = PRA_Knight_Party_name
				}

				set_party_name = {
					ideology = continuation
					long_name = PRA_Royal_Guard_Party_Name_Long
					name = PRA_Royal_Guard_Party_name
				}
			}
		} 
    }
}

country_event={
    immediate = {log = "[GetDateText]: [Root.GetName]: event PonyvilleEvent.10"}
 	id = PonyvilleEvent.10
 	title = PonyvilleEvent.10.t
 	desc = PonyvilleEvent.10.d
	picture = GFX_event_test
	is_triggered_only = yes
 	fire_only_once = no
	option = {
        name = PonyvilleEvent.10.a
		ai_chance = { factor = 10 }

		PRA = {
			country_event = { id = PonyvilleEvent.11 }
		}
		
		PVG = { change_tag_from = PRA }

		hidden_effect = {
			PRA = {

				retire_character = PRA_char_Prophet_Owt
				retire_character = PRA_char_Rusty_Chains
				retire_character = PRA_char_Shinning_Edge
				retire_character = PRA_char_Chainfire

				476 = {
    				transfer_state_to = PVG
  				}

				set_party_name = {
					ideology = survivalism
					long_name = PRA_Ponyville_Mayor_Survivalism_Party_name_Long
					name = PRA_Ponyville_Mayor_Survivalism_Party_name
				}

				set_party_name = {
					ideology = visionary
					long_name = PRA_Mayor_Visionary_Party_name_Long
					name = PRA_Mayor_Visionary_Party_name
				}

				set_party_name = {
					ideology = continuation
					long_name = PRA_Mayor_continuation_party_name_Long
					name = PRA_Mayor_continuation_party_name
				}

				add_popularity = {
					ideology = destruction
					popularity = 1
				}

				add_popularity = {
					ideology = visionary
					popularity = -1
				}

				add_popularity = {
					ideology = survivalism
					popularity = -1
				}

				add_popularity = {
					ideology = continuation
					popularity = -1
				}

				add_corps_commander_role = {
  						Character = PRA_char_The_Mayor
						traits = { charismatic_trait intelligent_trait pony_race_trait }
  						skill = 3
 						attack_skill = 2
  						defense_skill = 2
  						planning_skill = 4
  						logistics_skill = 4
					}
			}  

			PVG = {
				recruit_character = PRA_char_Shinning_Edge
				recruit_character = PRA_char_Rusty_Chains
				recruit_character = PRA_char_Prophet_Owt
				recruit_character = PRA_char_Chainfire

				PRA_char_Shinning_Edge = {
					promote_character = {
						ideology = despotism
					}
				}

				PRA_char_Rusty_Chains = {
					promote_character = {
						ideology = community
					}
				}

				PRA_char_Prophet_Owt = {
					promote_character = {
						ideology = democratic_surv
					}
				}

				add_country_leader_role = {
  					character = PRA_char_Chainfire
  					promote_leader = yes
  					country_leader = {
    					ideology = raider
    					expire = “1965.1.1.1”
    					traits = { war_industrialist }
					}
  				}

				set_party_name = {
					ideology = destruction
					long_name = PRA_Raider_party_name_long
					name = PRA_Raider_party_name
				}

				set_party_name = {
					ideology = survivalism
					long_name = PRA_Ponyville_Cult_Party_Name_Long
					name = PRA_Ponyville_Cult_Party_name
				}

				set_party_name = {
					ideology = visionary
					long_name = PRA_Knight_Party_Name_Long
					name = PRA_Knight_Party_name
				}

				set_party_name = {
					ideology = continuation
					long_name = PRA_Royal_Guard_Party_Name_Long
					name = PRA_Royal_Guard_Party_name
				}

				if = {
    				limit = {
        				has_idea = PVG_Shinning_Field_Comander
    				}

    				add_field_marshal_role = {
  						character = PRA_char_Shinning_Edge
						traits = { charismatic_trait perceptive_trait pony_race_trait }
  						skill = 4
  						attack_skill = 2
  						defense_skill = 4
  						planning_skill = 2
  						logistics_skill = 3
					}

					add_corps_commander_role = {
  						Character = PRA_char_Rusty_Chains
						traits = { strong_trait intelligent_trait pony_race_trait } 
  						skill = 3
 						attack_skill = 4
  						defense_skill = 2
  						planning_skill = 2
  						logistics_skill = 3
					}
				}
				else = {
    				add_field_marshal_role = {
  						character = PRA_char_Rusty_Chains
						traits = { strong_trait intelligent_trait pony_race_trait } 
  						skill = 4
  						attack_skill = 4
  						defense_skill = 2
  						planning_skill = 2
  						logistics_skill = 3
					}

					add_corps_commander_role = {
  						Character = PRA_char_Shinning_Edge
						traits = { charismatic_trait perceptive_trait pony_race_trait }
  						skill = 3
 						attack_skill = 2
  						defense_skill = 4
  						planning_skill = 2
  						logistics_skill = 3
					}
				}
			}
		} 
    }  
}

country_event={
    immediate = {log = "[GetDateText]: [Root.GetName]: event PonyvilleEvent.11"}
 	id = PonyvilleEvent.11
 	title = PonyvilleEvent.11.t
 	desc = PonyvilleEvent.11.d
	picture = GFX_event_test
	is_triggered_only = yes
 	fire_only_once = no
	option = {
        name = PonyvilleEvent.11.a
		ai_chance = { factor = 10 }

		declare_war_on = {
    		target = PVG
    		type = annex_everything
		} 

		hidden_effect = {
			PVG = {
			load_oob = PRA_1236
			add_state_core = 477
			add_state_core = 65
			}
		}
    }  
}

country_event={
    immediate = {log = "[GetDateText]: [Root.GetName]: event PonyvilleEvent.12"}
 	id = PonyvilleEvent.12
 	title = PonyvilleEvent.12.t
 	desc = PonyvilleEvent.12.d
	picture = GFX_event_test
	is_triggered_only = yes
 	fire_only_once = no
	option = {
        name = PonyvilleEvent.12.a
		ai_chance = { factor = 10 }

		declare_war_on = {
    		target = WOT
    		type = annex_everything
		} 

		hidden_effect = {
			WOT = {
			load_oob = PRA_Cult_War
			add_state_core = 477
			add_state_core = 476
			}
		}
    }  
}

country_event={
    immediate = {log = "[GetDateText]: [Root.GetName]: event PonyvilleEvent.13"}
 	id = PonyvilleEvent.13
 	title = PonyvilleEvent.13.t
 	desc = PonyvilleEvent.13.d
	picture = GFX_event_test
	is_triggered_only = yes
 	fire_only_once = no
	option = {
        name = PonyvilleEvent.13.a
		ai_chance = { factor = 10 }
		complete_national_focus = PRA_FREEDOM
    }  

	option = {
        name = PonyvilleEvent.13.b
		ai_chance = { factor = 10 }
		complete_national_focus = PRA_Prophet_Wot
    }  
	
	option = {
        name = PonyvilleEvent.13.c
		ai_chance = { factor = 10 }
		complete_national_focus = PRA_Royal_Guard
    }  
}

country_event={
    immediate = {log = "[GetDateText]: [Root.GetName]: event PonyvilleEvent.14"}
 	id = PonyvilleEvent.14
 	title = PonyvilleEvent.14.t
 	desc = PonyvilleEvent.14.d
	picture = GFX_event_test
	is_triggered_only = yes
 	fire_only_once = no
	option = {
        name = PonyvilleEvent.14.a
		ai_chance = { factor = 10 }
		add_timed_idea = {
			idea = PRA_NEW_LEADERSHIP
			days = 60
		}
    } 
}

country_event={
    immediate = {log = "[GetDateText]: [Root.GetName]: event PonyvilleEvent.14"}
 	id = PonyvilleEvent.15
 	title = PonyvilleEvent.15.t
 	desc = PonyvilleEvent.15.d
	picture = GFX_event_test
	is_triggered_only = yes
 	fire_only_once = no
	option = {
        name = PonyvilleEvent.15.a
		ai_chance = { factor = 10 }
		add_manpower = -15
    } 
}

country_event={
    immediate = {log = "[GetDateText]: [Root.GetName]: event PonyvilleEvent.16"}
 	id = PonyvilleEvent.16
 	title = PonyvilleEvent.16.t
 	desc = PonyvilleEvent.16.d
	picture = GFX_event_test
	is_triggered_only = yes
 	fire_only_once = no
	option = {
        name = PonyvilleEvent.16.a
		ai_chance = { factor = 10 }

		add_manpower = -250

		hidden_effect = {
			WOT = {
				add_manpower = 250
			}
		}
    }

	option = {
        name = PonyvilleEvent.16.b
		ai_chance = { factor = 10 }
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = -500
		}
		hidden_effect = {
			WOT = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 500
				}
			}
		}
    }  
}

country_event={
    immediate = {log = "[GetDateText]: [Root.GetName]: event PonyvilleEvent.17"}
 	id = PonyvilleEvent.17
 	title = PonyvilleEvent.17.t
 	desc = PonyvilleEvent.17.d
	picture = GFX_event_test
	is_triggered_only = yes
 	fire_only_once = no
	option = {
        name = PonyvilleEvent.17.a
		ai_chance = { factor = 10 }
		PVG = {
			add_ideas = PVG_Shinning_Field_Comander
		}
    } 

	option = {
        name = PonyvilleEvent.17.b
		ai_chance = { factor = 10 }
		PVG = {
			add_ideas = PVG_Rusty_Field_Comander
		}
    } 
}