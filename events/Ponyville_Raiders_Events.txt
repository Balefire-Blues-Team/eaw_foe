###Ponyville Raider Events
###By Krano

add_namespace = PonyvilleEvent

country_event={
    immediate = {log = "[GetDateText]: [Root.GetName]: event PonyvilleEvent.0"}
 	id = PonyvilleEvent.0
 	title = PonyvilleEvent.0.t
 	desc = PonyvilleEvent.0.d
	picture = GFX_event_test
	is_triggered_only = yes
 	fire_only_once = no
	option = {
        name = PonyvilleEvent.0.a
		ai_chance = { factor = 10}
		
        PRA = {
            load_focus_tree = PRA_Civilwar_Raider_Path
        }  

	}
    option = {
        name = PonyvilleEvent.0.b
		ai_chance = { factor = 90 }

        PRA = {
            load_focus_tree = PRA_Generic_Path
        }
	}
}

country_event={
    immediate = {log = "[GetDateText]: [Root.GetName]: event PonyvilleEvent.1"}
 	id = PonyvilleEvent.1
 	title = PonyvilleEvent.1.t
 	desc = PonyvilleEvent.1.d
	picture = GFX_event_test
	is_triggered_only = yes
 	fire_only_once = no
	option = {
        name = PonyvilleEvent.1.a
		ai_chance = { factor = 10}
		
        PRA = {
            set_country_flag = Ponyville_Raider_Empire
        }  

	}
    option = {
        name = PonyvilleEvent.1.b
		ai_chance = { factor = 90 }

        PRA = {
            set_country_flag = Ponyville_Raider_Faction
        }
	}
}

country_event={
    immediate = {log = "[GetDateText]: [Root.GetName]: event PonyvilleEvent.0"}
 	id = PonyvilleEvent.2
 	title = PonyvilleEvent.2.t
 	desc = PonyvilleEvent.2.d
	picture = GFX_event_test
	is_triggered_only = yes
 	fire_only_once = no
	option = {
        name = PonyvilleEvent.2.a
		ai_chance = { factor = 10}
		
        PRA = {
            set_cosmetic_tag = PRA_Empire
        }  

	}
    option = {
        name = PonyvilleEvent.2.b
		ai_chance = { factor = 90 }

        PRA = {
           set_cosmetic_tag = PRA_Bloodletter_Clan
        }
	}
}

country_event={
    immediate = {log = "[GetDateText]: [Root.GetName]: event PonyvilleEvent.0"}
 	id = PonyvilleEvent.3
 	title = PonyvilleEvent.3.t
 	desc = PonyvilleEvent.3.d
	picture = GFX_event_test
	is_triggered_only = yes
 	fire_only_once = no
	option = {
        name = PonyvilleEvent.3.a
		ai_chance = { factor = 10}
		
        PRA = {
            set_cosmetic_tag = PRA_Raidertown
        }  

	}
    option = {
        name = PonyvilleEvent.3.b
		ai_chance = { factor = 90 }

        PRA = {
           set_cosmetic_tag = PRA_Bloodletter_Clan
        }
	}
}


country_event={
    immediate = {log = "[GetDateText]: [Root.GetName]: event PonyvilleEvent.0"}
 	id = PonyvilleEvent.4
 	title = PonyvilleEvent.4.t
 	desc = PonyvilleEvent.4.d
	picture = GFX_event_test
	is_triggered_only = yes
 	fire_only_once = no
	option = {
        name = PonyvilleEvent.4.a
		ai_chance = { factor = 10}

		PRA = {
            set_country_flag = Ponyville_Outsiders
        }

	}

    option = {
        name = PonyvilleEvent.4.b
		ai_chance = { factor = 90 }

        PRA = {
            set_country_flag = Ponyville_Strength_Bonds
        }
	}

	option = {
        name = PonyvilleEvent.4.c
		ai_chance = { factor = 90 }

        PRA = {
            set_country_flag = Ponyville_Slave_Army
        }
	}
}

country_event={
    immediate = {log = "[GetDateText]: [Root.GetName]: event PonyvilleEvent.0"}
 	id = PonyvilleEvent.5
 	title = PonyvilleEvent.5.t
 	desc = PonyvilleEvent.5.d
	picture = GFX_event_test
	is_triggered_only = yes
 	fire_only_once = no
	option = {
        name = PonyvilleEvent.5.a
		ai_chance = { factor = 10}

		PRA = {
            add_ideas = Slavers_deal_Shining
			add_popularity = {
				ideology = destruction
				popularity = -0.15
			}
			add_popularity = {
				ideology = visionary
				popularity = 0.075
			}
			add_popularity = {
				ideology = continuation
				popularity = 0.075
			}
        }

	}

    option = {
        name = PonyvilleEvent.5.b
		ai_chance = { factor = 90 }

        PRA = {
            add_ideas = Slavers_deal_Mayor
			add_popularity {
				ideology = destruction
				popularity = .10
			}
        }
	}
}

country_event={
    immediate = {log = "[GetDateText]: [Root.GetName]: event PonyvilleEvent.0"}
 	id = PonyvilleEvent.6
 	title = PonyvilleEvent.6.t
 	desc = PonyvilleEvent.6.d
	picture = GFX_event_test
	is_triggered_only = yes
 	fire_only_once = no
	option = {
        name = PonyvilleEvent.6.a
		ai_chance = { factor = 10}

		PRA = {
            add_ideas = Church_Velvet_PRA
			add_popularity = {
				ideology = survivalism
				popularity = 0.10
			}
			add_popularity = {
				ideology = destruction
				popularity = -0.10
			}
            add_manpower = -5
        }

	}

    option = {
        name = PonyvilleEvent.6.b
		ai_chance = { factor = 90 }

        PRA = {
            add_ideas = Raider_Velvet_PRA
            add_manpower = -5
            add_stability = -0.05
			add_popularity = {
				ideology = survivalism
				popularity = -0.05
			}
			add_popularity = {
				ideology = destruction
				popularity = 0.05
			}
        }
	}
}

country_event={
    immediate = {log = "[GetDateText]: [Root.GetName]: event PonyvilleEvent.0"}
 	id = PonyvilleEvent.7
 	title = PonyvilleEvent.7.t
 	desc = PonyvilleEvent.7.d
	picture = GFX_event_test
	is_triggered_only = yes
 	fire_only_once = no
	option = {
        name = PonyvilleEvent.7.a
		ai_chance = { factor = 10}

		PRA = {
            add_ideas = More_Slave_Sacrifices
            add_manpower = -25
        }

	}

    option = {
        name = PonyvilleEvent.7.b
		ai_chance = { factor = 90 }

        PRA = {
            add_ideas = Less_Slave_Sacrifices
            add_manpower = 10
        }
	}
}

country_event={
    immediate = {log = "[GetDateText]: [Root.GetName]: event PonyvilleEvent.0"}
 	id = PonyvilleEvent.8
 	title = PonyvilleEvent.8.t
 	desc = PonyvilleEvent.8.d
	picture = GFX_event_test
	is_triggered_only = yes
 	fire_only_once = no
	option = {
        name = PonyvilleEvent.8.a
		ai_chance = { factor = 10}

		PRA = {
            add_ideas = Littlepip_Raider
            add_manpower = -10
			add_stability = -0.15
        }

	}

    option = {
        name = PonyvilleEvent.8.b
		ai_chance = { factor = 90 }

        PRA = {
            add_ideas = Littlepip_Cult
            add_manpower = -20
			add_stability = -0.15
        }
	}

	option = {
        name = PonyvilleEvent.8.c
		ai_chance = { factor = 90 }

        PRA = {
            add_ideas = Shining_Littlepip
            add_manpower = -10
			add_stability = -0.15
        }
	}
	
	option = {
        name = PonyvilleEvent.8.d
		ai_chance = { factor = 90 }

        PRA = {
            add_ideas = Rusty_Littlepip
            add_manpower = -10
			add_stability = -0.15
        }
	}
}

country_event={
    immediate = {log = "[GetDateText]: [Root.GetName]: event PonyvilleEvent.9"}
 	id = PonyvilleEvent.9
 	title = PonyvilleEvent.9.t
 	desc = PonyvilleEvent.9.d
	picture = GFX_event_test
	is_triggered_only = yes
 	fire_only_once = no
	option = {
        name = PonyvilleEvent.9.a
		ai_chance = { factor = 10}
		
        PRA = {
			start_civil_war = {
				ruling_party = survivalism
				ideology = destruction
				size = 0.3
				capital = 65
				states = { 477 65 }
				keep_political_leader = yes
			}
			hidden_effect = {
				random_other_country = {
					limit = { 
			    		original_tag = PRA
						has_government = survivalism
					}
					retire_country_leader = yes
					recruit_character = PRA_char_Prophet_Owt
				}

				set_party_name = {
					ideology = destruction
					long_name = PRA_Raider_party_name_long
					name = PRA_Raider_party_name
				}

				retire_character = PRA_char_The_Mayor

				add_country_leader_role = {
  					character = PRA_char_Chainfire
  					promote_leader = yes
  					country_leader = {
    					ideology = raider
    					expire = “1965.1.1.1”
    					traits = { war_industrialist }
					}
  				}
			}
        }  
	}
}

country_event={
    immediate = {log = "[GetDateText]: [Root.GetName]: event PonyvilleEvent.10"}
 	id = PonyvilleEvent.10
 	title = PonyvilleEvent.10.t
 	desc = PonyvilleEvent.10.d
	picture = GFX_event_test
	is_triggered_only = yes
 	fire_only_once = no
	option = {
        name = PonyvilleEvent.10.a
		ai_chance = { factor = 10 }
		
        PRA = {
			start_civil_war = {
				ruling_party = continuation
				ideology = destruction
				size = 0.3
				capital = 65
				states = { 477 65 }
				keep_political_leader = yes
			}
			hidden_effect = {
				random_other_country = {
					limit = { 
			    		original_tag = PRA
						has_government = continuation
					}
					retire_country_leader = yes
					recruit_character = PRA_char_Shinning_Edge
					recruit_character = PRA_char_Rusty_Chains
				}

				set_party_name = {
					ideology = destruction
					long_name = PRA_Raider_party_name_long
					name = PRA_Raider_party_name
				}

				retire_character = PRA_char_The_Mayor

				add_country_leader_role = {
  					character = PRA_char_Chainfire
  					promote_leader = yes
  					country_leader = {
    					ideology = raider
    					expire = “1965.1.1.1”
    					traits = { war_industrialist }
					}
  				}
			}	
		}		   
    }  
}