add_namespace = rustwreck


#Ask LGH to trade
country_event = {
 	id = rustwreck.1
 	title = rustwreck.1.t
 	desc = rustwreck.1.d
	picture = GFX_event_test

	is_triggered_only = yes
 	fire_only_once = yes
 	
	option = { #accept
		name = rustwreck.1.a 
		ai_chance = { factor = 90}
		add_autonomy_score = {
			value = 150
		}
		503 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
			}
		}
		add_opinion_modifier = {
			target = RWK
			modifier = long_term_trade_partner
		}
		RWK = {
			country_event = rustwreck.2
		}
	}
	option = { #deny
		name = rustwreck.1.b 
		ai_chance = { factor = 10}
		add_stability = 0.05
		RWK = {
			country_event = rustwreck.3
		}
	}
}

#LGH accepts trade
country_event = {
	id = rustwreck.2
	title = rustwreck.2.t
	desc = rustwreck.2.d
   	picture = GFX_event_test

   	is_triggered_only = yes
	fire_only_once = yes
	
  	option = { #happy
	   	name = rustwreck.2.a 
	   	ai_chance = { factor = 90}
	   	164 = {
		   add_extra_state_shared_building_slots = 1
		   add_building_construction = {
			   type = industrial_complex
			   level = 1
		   }
	   	}
		add_opinion_modifier = {
			target = LGH
			modifier = long_term_trade_partner
		}
		build_railway = {
			start_province = 8985
			target_province = 503
			level = 2
			build_only_on_allied = no
		}
   	}
}

#LGH rejects trade
country_event = {
	id = rustwreck.3
	title = rustwreck.3.t
	desc = rustwreck.3.d
   	picture = GFX_event_test

   	is_triggered_only = yes
	fire_only_once = yes
	
  	option = { #sad
	   	name = rustwreck.3.a 
	   	ai_chance = { factor = 90}
	   	164 = {
		   	add_extra_state_shared_building_slots = 1
		   	add_manpower = 400
	   	}
   	}
}

#Negotiate with Razorsharks
country_event = {
	id = rustwreck.4
	title = rustwreck.4.t
	desc = rustwreck.4.d
   	picture = GFX_event_test

   	is_triggered_only = yes
	fire_only_once = yes
	
   	option = { #wipe out
	   name = rustwreck.4.a 
	   ai_chance = { factor = 50}
	   	add_timed_idea = {
			idea = RWK_razorshark_campaign_idea
			days = 160
	   	}
	   	set_country_flag = RWK_razorshark_war_flag
   	}
   	option = { #pay off
	   	name = rustwreck.4.b 
	   	ai_chance = { factor = 50}
	   	add_timed_idea = {
			idea = RWK_razorshark_tribute_idea
			days = 160
	   	}
		set_country_flag = RWK_razorshark_caps_flag
   	}
	option = { #recruit
	   	name = rustwreck.4.c
	   	trigger = {
			has_completed_focus = RWK_enemies_to_allies
	   	}
	   	ai_chance = { factor = 5000}
		add_stability = -0.08
		custom_effect_tooltip = RWK_razorshark_recruit_tt
		hidden_effect = {
			add_corps_commander_role = {
				character = RWK_char_stranglevine
					traits = {
						pony_race_trait
						enduring_trait
						agile_trait
					}
					skill = 2
					attack_skill = 3
					defense_skill = 1
					planning_skill = 1
					logistics_skill = 1
					legacy_id = 66666
			}
			division_template = {
				name = "Razorsharks"
				priority = 1
				regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
				infantry = { x = 0 y = 2 }
				militia = { x = 1 y = 0 }
				militia = { x = 1 y = 1 }
				}
			}
			534 = {
				create_unit = {
					division = "name = \"Steel Depths\" division_template = \"Razorsharks\" start_experience_factor = 0.3 equip" 
					owner = RWK
				}
				create_unit = {
					division = "name = \"Bleeding Coral\" division_template = \"Razorsharks\" start_experience_factor = 0.3 equip" 
					owner = RWK
				}
				create_unit = {
					division = "name = \"The Chum\" division_template = \"Razorsharks\" start_experience_factor = 0.3 equip" 
					owner = RWK
				}
			}
		}
		set_country_flag = RWK_razorshark_join_flag
   }
}

#Razorshark followup campaign
country_event = {
	id = rustwreck.5
	title = rustwreck.5.t
	desc = rustwreck.5.d
   	picture = GFX_event_test

   	trigger = {
		tag = RWK
		has_country_flag = RWK_razorshark_war_flag
		NOT = { has_idea = RWK_razorshark_campaign_idea }
	}
	fire_only_once = yes
	
  	option = { #noice
	   	name = rustwreck.5.a 
	   	ai_chance = { factor = 90}
		   add_popularity = {
			ideology = visionary
			popularity = 0.08
		}
		capital_scope = {
			add_resource = {
				type = crystals
				amount = 4
			}
			add_resource = {
				type = circuitry
				amount = 8
			}
			add_resource = {
				type = metal
				amount = 10
			}
		}
   	}
}

#Razorshark followup tribute
country_event = {
	id = rustwreck.6
	title = rustwreck.6.t
	desc = rustwreck.6.d
   	picture = GFX_event_test

	trigger = {
		tag = RWK
		has_country_flag = RWK_razorshark_caps_flag
		NOT = { has_idea = RWK_razorshark_tribute_idea }
	}
	fire_only_once = yes
	
  	option = { #noice
	   	name = rustwreck.6.a 
	   	ai_chance = { factor = 90}
	   	capital_scope = {
			add_resource = {
				type = crystals
				amount = 4
			}
			add_resource = {
				type = circuitry
				amount = 8
			}
			add_resource = {
				type = metal
				amount = 10
			}
		}
		custom_effect_tooltip = RWK_razorshark_RAR_tt
		hidden_effect = {
			RAR = {
				division_template = {
					name = "Razorsharks"
					priority = 1
					regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					militia = { x = 1 y = 0 }
					militia = { x = 1 y = 1 }
					}
				}
				add_popularity = {
					ideology = survivalism
					popularity = 0.08
				}
				534 = {
					create_unit = {
						division = "name = \"Steel Depths\" division_template = \"Razorsharks\" start_experience_factor = 0.3 equip" 
						owner = RAR
					}
					create_unit = {
						division = "name = \"Bleeding Coral\" division_template = \"Razorsharks\" start_experience_factor = 0.3 equip" 
						owner = RAR
					}
					create_unit = {
						division = "name = \"The Chum\" division_template = \"Razorsharks\" start_experience_factor = 0.3 equip" 
						owner = RAR
					}
				}
			}
		}
   	}
}

#Razorshark followup conversion
country_event = {
	id = rustwreck.7
	title = rustwreck.7.t
	desc = rustwreck.7.d
   	picture = GFX_event_test

   	trigger = {
		tag = RWK
		has_country_flag = RWK_razorshark_join_flag
	}
	mean_time_to_happen = {
		days = 80
	}
	fire_only_once = yes
	
  	option = { #noice
	   	name = rustwreck.7.a 
	   	ai_chance = { factor = 90}
		add_popularity = {
			ideology = destruction
			popularity = 0.08
		}
	   	capital_scope = {
			add_resource = {
				type = crystals
				amount = 4
			}
			add_resource = {
				type = circuitry
				amount = 8
			}
			add_resource = {
				type = metal
				amount = 10
			}
		}
   	}
}

#RWK establishes trade-ties
country_event = {
	id = rustwreck.8
	title = rustwreck.8.t
	desc = rustwreck.8.d
   	picture = GFX_event_test

   	is_triggered_only = yes
	fire_only_once = no
	
  	option = { #noice
	   	name = rustwreck.8.a 
	   	ai_chance = { factor = 90}
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
		RWK = { country_event = { id = rustwreck.9 random_days = 33 } }
   	}
	option = { #nope
		name = rustwreck.8.b
		ai_chance = { factor = 10}
		add_stability = 0.05
   	}
}

#FROM strengthens Trade ties
country_event = {
	id = rustwreck.9
	title = rustwreck.9.t
	desc = rustwreck.9.d
   	picture = GFX_event_test

   	is_triggered_only = yes
	fire_only_once = no
	
  	option = { #noice
	   	name = rustwreck.9.a 
	   	ai_chance = { factor = 90}
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
   	}
}

#Opening 1 - All Hooves Battlestations!
country_event = {
	id = rustwreck.10
	title = rustwreck.10.t
	desc = rustwreck.10.d
   	picture = GFX_event_test

   	is_triggered_only = yes
	fire_only_once = no
	
  	option = { #hunted the flagship
	   	name = rustwreck.10.a 
	   	ai_chance = { factor = 90}
		add_war_support = 0.08
   	}
	option = { #inflicted maximum casualties
	   name = rustwreck.10.b
	   ai_chance = { factor = 90}
		add_stability = 0.08
    }
	option = { #protected our own fleet
	   name = rustwreck.10.c
	   ai_chance = { factor = 90}
		add_manpower = 350
    }
}

#The long Retreat
country_event = {
	id = rustwreck.11
	title = rustwreck.11.t
	desc = rustwreck.11.d
   	picture = GFX_event_foe_balefire_bomb

   	is_triggered_only = yes
	fire_only_once = no
	
  	option = { #picked up civilians
	   	name = rustwreck.11.a 
	   	ai_chance = { factor = 90}
		save_current_manpower = yes
		every_owned_state = {
			add_manpower = 800
		}
		restore_previous_manpower = yes
   	}
	option = { #saved high-tech facilities
	   name = rustwreck.11.b
	   ai_chance = { factor = 90}
		capital_scope = {
			add_resource = {
				type = advanced
				amount = 8
			}
			add_resource = {
				type = composites
				amount = 10
			}
		}
    }
	option = { #looted weapons caches
	   name = rustwreck.11.c
	   ai_chance = { factor = 90}
		add_manpower = 200
		add_equipment_to_stockpile = {
			type = support_equipment
			amount = 200
			producer = OWE
		}
		add_equipment_to_stockpile = {
			type = ballistic_equipment_1
			amount = 300
			producer = OWE
		}
		add_equipment_to_stockpile = {
			type = courier_equipment_1
			amount = 150
			producer = OWE
		}
    }
}

#Carrying the legacy
country_event = {
	id = rustwreck.12
	title = rustwreck.12.t
	desc = rustwreck.12.d
   	picture = GFX_event_lost_radar

   	is_triggered_only = yes
	fire_only_once = no
	
  	option = { #fortified the City
	   	name = rustwreck.12.a 
	   	ai_chance = { factor = 90}
		add_equipment_to_stockpile = {
			type = convoy_1
			amount = 50
		}
   	}
	option = { #converted ships to Workshops
	   name = rustwreck.12.b
	   ai_chance = { factor = 90}
		capital_scope = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
			}
		}
    }
	option = { #kept maximum readiness
	   name = rustwreck.12.c
	   ai_chance = { factor = 90}
		army_experience = 25
		swap_ideas = {
			remove_idea = training_law_none
			add_idea = training_law_veterans
		}
    }
}

#Visiting HMS Iron Shield
country_event = {
	id = rustwreck.13
	title = rustwreck.13.t
	desc = rustwreck.13.d
   	picture = GFX_report_event_merchant_ship_01

   	is_triggered_only = yes
	fire_only_once = no
	
  	option = { #Take Crimson Deal
	   	name = rustwreck.13.a 
	   	ai_chance = { factor = 80 }
		add_popularity = {
			ideology = destruction
			popularity = 0.05
		}
		add_stability = 0.05
		set_country_flag = RWK_crimson_alliance_flag
   	}
	option = { #Use the names, no deal
	   name = rustwreck.13.b
	   ai_chance = { factor = 50 modifier = { factor = 0 has_country_flag = RWK_destruction_flag }}
	   	add_popularity = {
			ideology = destruction
			popularity = -0.10
		}
		add_stability = -0.05
    }
}

#Shooting Turkeys
country_event = {
	id = rustwreck.14
	title = rustwreck.14.t
	desc = rustwreck.14.d
   	picture = GFX_report_event_merchant_ship_01

   	is_triggered_only = yes
	fire_only_once = yes
	
  	option = { #for the Admirality!
	   	name = rustwreck.14.a 
	   	ai_chance = { factor = 80 }
		add_popularity = {
			ideology = destruction
			popularity = -0.05
		}
		army_experience = 20
   	}
}

#Dismantling the Warcamp
country_event = {
	id = rustwreck.15
	title = rustwreck.15.t
	desc = rustwreck.15.d
   	picture = GFX_report_event_merchant_ship_01

   	is_triggered_only = yes
	fire_only_once = yes
	
  	option = { #Wavebreaker for planning the assault
	   	name = rustwreck.15.a 
	   	ai_chance = { factor = 50 }
		add_popularity = {
			ideology = visionary
			popularity = 0.05
		}
		add_doctrine_cost_reduction = {
			name = land_doc_bonus
			cost_reduction = 0.25
			uses = 1
			category = land_doctrine
		}
		set_province_name = {
			id = 5310
			name = "Riggerton"
		}
   	}
	   option = { #Kelp, for organizing reconstruction
	   name = rustwreck.15.b 
	   ai_chance = { factor = 50 }
	   	add_popularity = {
			ideology = survivalism
			popularity = 0.05
		}
		add_stability = 0.05
		set_province_name = {
			id = 5310
			name = "Lushley"
		}
    }
}

#Crimson's Fate
country_event = {
	id = rustwreck.16
	title = rustwreck.16.t
	desc = rustwreck.16.d
   	picture = GFX_report_event_merchant_ship_01

   	is_triggered_only = yes
	fire_only_once = yes
	
  	option = { #Spare Her
	   	name = rustwreck.16.a 
	   	ai_chance = { factor = 50 }
		add_popularity = {
			ideology = survivalism
			popularity = 0.05
		}
		add_political_power = 50
   	}
	option = { #Make an example
	   name = rustwreck.16.b 
	   ai_chance = { factor = 50 }
	   	retire_character = RWK_char_Crimson_Waters
		add_stability = 0.05
    }
}

#Preaching in the Outskirts
country_event = {
	id = rustwreck.17
	title = rustwreck.17.t
	desc = rustwreck.17.d
   	picture = GFX_report_event_merchant_ship_01

   	is_triggered_only = yes
	fire_only_once = yes
	
  	option = { #Let them
	   	name = rustwreck.17.a 
	   	ai_chance = { factor = 50 }
		add_popularity = {
			ideology = destruction
			popularity = 0.05
		}
		203 = {
			add_dynamic_modifier = {
				modifier = RWK_endtide_influence
			}
		}
   	}
	option = { #Drive them away
	   	name = rustwreck.17.b 
	   	ai_chance = { factor = 0 }
	   	add_popularity = {
			ideology = destruction
			popularity = -0.05
		}
    }
}

#Census results
country_event = {
	id = rustwreck.18
	title = rustwreck.18.t
	desc = rustwreck.18.d
   	picture = GFX_report_event_merchant_ship_01

   	is_triggered_only = yes
	fire_only_once = yes
	
  	option = { #fascinating
	   	name = rustwreck.18.a 
	   	ai_chance = { factor = 50 }
		save_current_manpower = yes
		203 = { add_manpower = 217 }
		164 = { add_manpower = 2309
			add_building_construction = {
				type = industrial_complex
				level = 1
			}
		}
		534 = { add_manpower = 336 }
		508 = { add_manpower = -1233 }
		235 = { add_manpower = 840 }
		restore_previous_manpower = yes
   	}
}
