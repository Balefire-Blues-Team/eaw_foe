###By Argeddion

add_namespace = cloudsdale
add_namespace = cloudsdale_emp
add_namespace = cloudsdale_sta
add_namespace = cloudsdale_sun
add_namespace = cloudsdale_purge

##The Conspiracy
country_event = {
	immediate = {log = "[GetDateText]: [Root.GetName]: event cloudsdale.1"}
 	id = cloudsdale.1
 	title = cloudsdale.1.t
 	desc = cloudsdale.1.d
	picture = GFX_event_test

	is_triggered_only = yes
 	fire_only_once = yes

	option = {
		name = cloudsdale.1.a
		ai_chance = { factor = 50}
		add_war_support = 0.15
		
	}
	option = {
		name = cloudsdale.1.b
		ai_chance = { factor = 30
		modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		add_stability = 0.15

		
	}
}

##The Fateful Day
country_event = {
	immediate = {log = "[GetDateText]: [Root.GetName]: event cloudsdale.2"}
 	id = cloudsdale.2
 	title = cloudsdale.2.t
 	desc = cloudsdale.2.d
	picture = GFX_event_test

	is_triggered_only = yes
 	fire_only_once = yes

	option = {
		name = cloudsdale.2.a
		ai_chance = { factor = 50}
		696 = { add_manpower = 1500 }
		
	}
	option = {
		name = cloudsdale.2.b
		ai_chance = { factor = 30
		modifier = {
				factor = 9
				is_historical_focus_on = yes
			}
		}
		add_equipment_to_stockpile = { type = energy_equipment_2 amount = 200 producer = NEV }
		add_equipment_to_stockpile = { type = power_armor_equipment_2 amount = 100 producer = NEV }
		add_equipment_to_stockpile = { type = raptor_equipment amount = 20 producer = NEV }

		
	}
}

##The City of New Cloudsdale
country_event = {
	immediate = {log = "[GetDateText]: [Root.GetName]: event cloudsdale.3"}
 	id = cloudsdale.3
 	title = cloudsdale.3.t
 	desc = cloudsdale.3.d
	picture = GFX_event_test

	is_triggered_only = yes
 	fire_only_once = yes

	option = {
		name = cloudsdale.3.a
		ai_chance = { factor = 50}
		add_offsite_building = { type = arms_factory level = 2 }
		
	}
	option = {
		name = cloudsdale.3.b
		ai_chance = { factor = 70
		modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		696 = { remove_building = { type = arms_factory level = 3 } }
		add_offsite_building = { type = industrial_complex level = 4 }
		
	}
}

##The Featherfall affair
country_event = {
	immediate = {log = "[GetDateText]: [Root.GetName]: event cloudsdale.4"}
 	id = cloudsdale.4
 	title = cloudsdale.4.t
 	desc = cloudsdale.4.d
	picture = GFX_event_test

	is_triggered_only = yes
 	fire_only_once = yes

	option = {
		name = cloudsdale.4.a
		ai_chance = { factor = 50}
		add_stability = -0.1
		add_popularity = {
				ideology = continuation
				popularity = -0.1
			}

		if = {
			limit = {
				has_idea = NEV_council_defunct
			}
			add_political_power = -100
		}
		else_if = {
			limit = {
				has_idea = NEV_council_weak
			}
			swap_ideas = { remove_idea = NEV_council_weak add_idea = NEV_council_defunct}
		}
		else_if = {
			limit = {
				has_idea = NEV_council_functional
			}
			swap_ideas = { remove_idea = NEV_council_functional add_idea = NEV_council_weak}
		}
		else_if = {
			limit = {
				has_idea = NEV_council_strong
			}
			swap_ideas = { remove_idea = NEV_council_strong add_idea = NEV_council_functional}
		}
		else_if = {
			limit = {
				has_idea = NEV_council_dominant
			}
			swap_ideas = { remove_idea = NEV_council_dominant add_idea = NEV_council_strong}
		}
		
	}
	
}

##Investigate the Council
country_event = {
	immediate = {log = "[GetDateText]: [Root.GetName]: event cloudsdale.5"}
 	id = cloudsdale.5
 	title = cloudsdale.5.t
 	desc = cloudsdale.5.d
	picture = GFX_event_test

	is_triggered_only = yes
 	fire_only_once = yes

	option = {
		name = cloudsdale.5.a
		ai_chance = { factor = 50 
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		if = {
			limit = {
				has_idea = NEV_council_defunct
			}
			add_political_power = -100
		}
		else_if = {
			limit = {
				has_idea = NEV_council_weak
			}
			swap_ideas = { remove_idea = NEV_council_weak add_idea = NEV_council_defunct}
		}
		else_if = {
			limit = {
				has_idea = NEV_council_functional
			}
			swap_ideas = { remove_idea = NEV_council_functional add_idea = NEV_council_weak}
		}
		else_if = {
			limit = {
				has_idea = NEV_council_strong
			}
			swap_ideas = { remove_idea = NEV_council_strong add_idea = NEV_council_functional}
		}
		else_if = {
			limit = {
				has_idea = NEV_council_dominant
			}
			swap_ideas = { remove_idea = NEV_council_dominant add_idea = NEV_council_strong}
		}
		
		if = {
			limit = {
				has_idea = NEV_senate_defunct
			}
			swap_ideas = { remove_idea = NEV_senate_defunct add_idea = NEV_senate_weak}
		}
		else_if = {
			limit = {
				has_idea = NEV_senate_weak
			}
			swap_ideas = { remove_idea = NEV_senate_weak add_idea = NEV_senate_functional}
		}
		else_if = {
			limit = {
				has_idea = NEV_senate_functional
			}
			swap_ideas = { remove_idea = NEV_senate_functional add_idea = NEV_senate_strong}
		}
		else_if = {
			limit = {
				has_idea = NEV_senate_strong
			}
			swap_ideas = { remove_idea = NEV_senate_strong add_idea = NEV_senate_dominant}
		}
		else_if = {
			limit = {
				has_idea = NEV_senate_dominant
			}
			add_political_power = 100
		}
		
		
	}
	option = {
		name = cloudsdale.5.b
		ai_chance = { factor = 50 }
		
		add_popularity = {
				ideology = visionary
				popularity = -0.1
			}
		
	}
}

##The Case against Featherfall
country_event = {
	immediate = {log = "[GetDateText]: [Root.GetName]: event cloudsdale.6"}
 	id = cloudsdale.6
 	title = cloudsdale.6.t
 	desc = cloudsdale.6.d
	picture = GFX_event_test

	is_triggered_only = yes
 	fire_only_once = yes

	option = {
		name = cloudsdale.6.a
		ai_chance = { factor = 50}
		
		if = {
			limit = {
				has_idea = NEV_senate_defunct
			}
			swap_ideas = { remove_idea = NEV_senate_defunct add_idea = NEV_senate_weak}
		}
		else_if = {
			limit = {
				has_idea = NEV_senate_weak
			}
			swap_ideas = { remove_idea = NEV_senate_weak add_idea = NEV_senate_functional}
		}
		else_if = {
			limit = {
				has_idea = NEV_senate_functional
			}
			swap_ideas = { remove_idea = NEV_senate_functional add_idea = NEV_senate_strong}
		}
		else_if = {
			limit = {
				has_idea = NEV_senate_strong
			}
			swap_ideas = { remove_idea = NEV_senate_strong add_idea = NEV_senate_dominant}
		}
		else_if = {
			limit = {
				has_idea = NEV_senate_dominant
			}
			add_political_power = 100
		}
		
	}
	option = {
		name = cloudsdale.6.b
		ai_chance = { factor = 50
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		
		if = {
			limit = {
				has_idea = NEV_council_defunct
			}
			add_political_power = -100
		}
		else_if = {
			limit = {
				has_idea = NEV_council_weak
			}
			swap_ideas = { remove_idea = NEV_council_weak add_idea = NEV_council_defunct}
		}
		else_if = {
			limit = {
				has_idea = NEV_council_functional
			}
			swap_ideas = { remove_idea = NEV_council_functional add_idea = NEV_council_weak}
		}
		else_if = {
			limit = {
				has_idea = NEV_council_strong
			}
			swap_ideas = { remove_idea = NEV_council_strong add_idea = NEV_council_functional}
		}
		else_if = {
			limit = {
				has_idea = NEV_council_dominant
			}
			swap_ideas = { remove_idea = NEV_council_dominant add_idea = NEV_council_strong}
		}
		
	}
}

##Meeting with Autumn Leaf
country_event = {
	immediate = {log = "[GetDateText]: [Root.GetName]: event cloudsdale.7"}
 	id = cloudsdale.7
 	title = cloudsdale.7.t
 	desc = cloudsdale.7.d
	picture = GFX_event_test

	is_triggered_only = yes
 	fire_only_once = yes

	option = {
		name = cloudsdale.7.a
		ai_chance = { factor = 50}
		add_popularity = {
				ideology = destruction
				popularity = 0.1
		}
		if = {
			limit = {
				has_idea = NEV_council_defunct
			}
			swap_ideas = { remove_idea = NEV_council_defunct add_idea = NEV_council_weak}
		}
		else_if = {
			limit = {
				has_idea = NEV_council_weak
			}
			swap_ideas = { remove_idea = NEV_council_weak add_idea = NEV_council_functional}
		}
		
		
	}
	option = {
		name = cloudsdale.7.b
		ai_chance = { factor = 50
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		add_popularity = {
				ideology = destruction
				popularity = -0.1
			}
		
	}
}

##Fate of the General
country_event = {
	immediate = {log = "[GetDateText]: [Root.GetName]: event cloudsdale.8"}
 	id = cloudsdale.8
 	title = cloudsdale.8.t
 	desc = cloudsdale.8.d
	picture = GFX_event_test

	is_triggered_only = yes
 	fire_only_once = yes

	option = {
	trigger = {
		destruction > 0.3	
	}
		name = cloudsdale.8.a
		ai_chance = { factor = 50}
		add_popularity = {
				ideology = continuation
				popularity = -0.15
			}
		add_popularity = {
				ideology = destruction
				popularity = 0.1
			}
		retire_country_leader = yes
		create_country_leader = {
			name = "Autumn Leaf"
			picture = "Regency.tga"
			expire = "1965.1.1"
			ideology = enclave_cont
			traits = { provisional }
		}
		
		
	}
	option = {
	trigger = {
		destruction < 0.3
		has_completed_focus = NEV_seafire_accusation
	}
		name = cloudsdale.8.b
		ai_chance = { factor = 50
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		add_popularity = {
				ideology = continuation
				popularity = -0.15
			}
		add_popularity = {
				ideology = visionary
				popularity = 0.1
			}
		retire_country_leader = yes
		create_country_leader = {
			name = "Emergency Council"
			picture = "Regency.tga"
			expire = "1965.1.1"
			ideology = enclave_cont
			traits = { provisional }
		}
	}
	
	option = {
	trigger = {
		destruction < 0.3
		has_completed_focus = NEV_tornado_deal
	}
		name = cloudsdale.8.c
		ai_chance = { factor = 50
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		add_popularity = {
				ideology = continuation
				popularity = 0.05
			}
		add_popularity = {
				ideology = visionary
				popularity = 0.05
			}
		retire_country_leader = yes
		create_country_leader = {
			name = "Tornado"
			picture = "Tornado.tga"
			expire = "1965.1.1"
			ideology = enclave_cont
			traits = {  }
		}
	}
	
	option = {
	trigger = {
		has_completed_focus = NEV_tornado_deal
	}
		name = cloudsdale.8.e
		ai_chance = { factor = 50
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		add_popularity = {
				ideology = continuation
				popularity = 0.15
			}
		
	}
}






















#Deploying the army groups
country_event = { 
	immediate = {log = "[GetDateText]: [Root.GetName]: event cloudsdale_purge.1"}
	id = cloudsdale_purge.1
	title = cloudsdale_purge.1.t
	desc = cloudsdale_purge.1.d

	picture = GFX_event_griffon_back
	
	
	is_triggered_only = yes
	fire_only_once = yes

	
	option ={
	name = cloudsdale_purge.1.a
	ai_chance = { factor = 90} 
		NEC = {
				
				transfer_state = 5
			}
		puppet = NEC
		NEN = {
				
				transfer_state = 57
			}
		puppet = NEN
	}
}