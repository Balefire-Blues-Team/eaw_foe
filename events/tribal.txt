
add_namespace = tribal
country_event = {
	id = tribal.1
	title = tribal.1.t
	desc = tribal.1.d
	picture = GFX_event_generic_desert_1
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	option = {
		name = tribal.1.a
		add_ideas = pony_ancestors
	}
	option = {
		name = tribal.1.b
		add_ideas = zebra_ancestors
	}
	option = {
		name = tribal.1.c
		add_ideas = griffon_ancestors
	}
}
country_event = {
	id = tribal.2
	title = tribal.2.t
	desc = tribal.2.d
	picture = GFX_event_generic_desert_2
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	option = {
		name = tribal.2.a
		swap_ideas = {
    		remove_idea = pony_ancestors
    		add_idea = pony_farmers
		}						
	}
	option = {
		name = tribal.2.b
		swap_ideas = {
    		remove_idea = pony_ancestors
    		add_idea = pony_traders
		}	
	}
	option = {
		name = tribal.2.c
		swap_ideas = {
    		remove_idea = pony_ancestors
    		add_idea = pony_scavengers
		}
	}
}
country_event = {
	id = tribal.21
	title = tribal.21.t
	desc = tribal.21.d
	picture = GFX_event_generic_desert_2
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	option = {
		name = tribal.21.a
		swap_ideas = {
    		remove_idea = zebra_ancestors
    		add_idea = zebra_warriors
		}						
	}
	option = {
		name = tribal.21.b
		swap_ideas = {
    		remove_idea = zebra_ancestors
    		add_idea = zebra_slavers
		}	
		custom_effect_tooltip = slave_trade_tt
	}
	option = {
		name = tribal.21.c
		swap_ideas = {
    		remove_idea = zebra_ancestors
    		add_idea = zebra_shamans
		}
	}
}
country_event = {
	id = tribal.22
	title = tribal.22.t
	desc = tribal.22.d
	picture = GFX_event_generic_desert_2
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	option = {
		name = tribal.22.a
		swap_ideas = {
    		remove_idea = griffon_ancestors
    		add_idea = griffon_mercs
		}						
	}
	option = {
		name = tribal.22.b
		swap_ideas = {
    		remove_idea = griffon_ancestors
    		add_idea = griffon_traders
		}	
	}
	option = {
		name = tribal.22.c
		swap_ideas = {
    		remove_idea = griffon_ancestors
    		add_idea = griffon_slavers
		}
		custom_effect_tooltip = slave_trade_tt
	}
}
country_event = {
	id = tribal.3
	title = tribal.3.t
	desc = tribal.3.d
	picture = GFX_event_generic_settlement_1
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	option = {
		name = tribal.3.a
		swap_ideas = {
    		remove_idea = pony_farmers
    		add_idea = pony_village
		}
		hidden_effect = { county_event = { id = tribal.5 days = 30 } }
	}
	option = {
		name = tribal.3.b
		swap_ideas = {
    		remove_idea = pony_farmers
    		add_idea = pony_new_civilization
		}
		hidden_effect = { county_event = { id = tribal.5 days = 30 } }
	}
	option = {
		name = tribal.3.c
		swap_ideas = {
    		remove_idea = pony_farmers
    		add_idea = pony_saviors
		}
		hidden_effect = { county_event = { id = tribal.5 days = 30 } }
	}
}
country_event = {
	id = tribal.31
	title = tribal.31.t
	desc = tribal.31.d
	picture = GFX_event_generic_settlement_1
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	option = {
		name = tribal.31.a
		swap_ideas = {
    		remove_idea = pony_traders
    		add_idea = pony_honest_riches
		}
		hidden_effect = { county_event = { id = tribal.5 days = 30 } }
	}
	option = {
		name = tribal.31.b
		swap_ideas = {
    		remove_idea = pony_traders
    		add_idea = pony_business
		}
		hidden_effect = { county_event = { id = tribal.5 days = 30 } }
	}
	option = {
		name = tribal.31.c
		swap_ideas = {
    		remove_idea = pony_traders
    		add_idea = pony_riches_no_matter_how
		}
		hidden_effect = { county_event = { id = tribal.5 days = 30 } }
		set_country_flag = slavery_allowed
		custom_effect_tooltip = slave_trade_tt
	}
}
country_event = {
	id = tribal.32
	title = tribal.32.t
	desc = tribal.32.d
	picture = GFX_event_generic_settlement_1
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	option = {
		name = tribal.32.a
		swap_ideas = {
    		remove_idea = pony_scavengers
    		add_idea = pony_surviviors
		}
		hidden_effect = { county_event = { id = tribal.5 days = 30 } }
	}
	option = {
		name = tribal.32.b
		swap_ideas = {
    		remove_idea = pony_scavengers
    		add_idea = pony_search_for_riches
		}
		hidden_effect = { county_event = { id = tribal.5 days = 30 } }
	}
	option = {
		name = tribal.32.c
		swap_ideas = {
    		remove_idea = pony_scavengers
    		add_idea = pony_search_for_history
		}
		hidden_effect = { county_event = { id = tribal.5 days = 30 } }
	}
}
country_event = {
	id = tribal.321
	title = tribal.321.t
	desc = tribal.321.d
	picture = GFX_event_generic_settlement_1
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	option = {
		name = tribal.321.a
		swap_ideas = {
    		remove_idea = zebra_warriors
    		add_idea = zebra_conquerors
		}
		hidden_effect = { county_event = { id = tribal.5 days = 30 } }
	}
	option = {
		name = tribal.321.b
		swap_ideas = {
    		remove_idea = zebra_warriors
    		add_idea = zebra_on_our_own
		}
		hidden_effect = { county_event = { id = tribal.5 days = 30 } }
	}
	# I'll just leave it commented for a time. - I.V.
#	option = {
#		name = tribal.321.c
#		swap_ideas = {
#    		remove_idea = zebra_warriors ################ join the old
#    		add_idea = zebra_legionaries
#		}
#		custom_effect_tooltip = we_will_join_legion_tt
#	}
#	option = {
#		name = tribal.321.e					###### create a new Legion
#		swap_ideas = {
#      		remove_idea = zebra_warriors
#    		add_idea = zebra_legionaries
#		}
#		custom_effect_tooltip = new_legion_tt
#	}
}
country_event = {
	id = tribal.322
	title = tribal.322.t
	desc = tribal.322.d
	picture = GFX_event_generic_settlement_1
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	option = {
		name = tribal.322.a
		swap_ideas = {
    		remove_idea = zebra_slavers
    		add_idea = zebra_more_slaves
		}
		hidden_effect = { county_event = { id = tribal.5 days = 30 } }
		set_country_flag = slavery_allowed
	}
	option = {
		name = tribal.322.b
		swap_ideas = {
    		remove_idea = zebra_slavers
    		add_idea = zebra_more_money
		}
		hidden_effect = { county_event = { id = tribal.5 days = 30 } }
		set_country_flag = slavery_allowed
	}
	option = {
		name = tribal.322.c
		swap_ideas = {
    		remove_idea = zebra_slavers
    		add_idea = zebra_more_power
		}
		hidden_effect = { county_event = { id = tribal.5 days = 30 } }
		set_country_flag = slavery_allowed
	}
}
country_event = {
	id = tribal.323
	title = tribal.323.t
	desc = tribal.323.d
	picture = GFX_event_generic_settlement_1
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	option = {
		name = tribal.323.a
		swap_ideas = {
    		remove_idea = zebra_shamans
    		add_idea = zebra_drugs
		}
		hidden_effect = { county_event = { id = tribal.5 days = 30 } }
	}
	option = {
		name = tribal.323.b
		swap_ideas = {
    		remove_idea = zebra_shamans
    		add_idea = zebra_healers
		}
		hidden_effect = { county_event = { id = tribal.5 days = 30 } }
	}
	option = {
		name = tribal.323.c
		swap_ideas = {
    		remove_idea = zebra_shamans
    		add_idea = zebra_experimentators
		}
		hidden_effect = { county_event = { id = tribal.5 days = 30 } }
		custom_effect_tooltip = slave_trade_tt
		set_country_flag = slavery_allowed
	}
}
country_event = {
	id = tribal.331
	title = tribal.331.t
	desc = tribal.331.d
	picture = GFX_event_generic_settlement_1
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	option = {
		name = tribal.331.a
		swap_ideas = {
    		remove_idea = griffon_mercs
    		add_idea = griffon_mercs_more_money
		}
		hidden_effect = { county_event = { id = tribal.5 days = 30 } }
	}
	option = {
		name = tribal.331.b
		swap_ideas = {
    		remove_idea = griffon_mercs
    		add_idea = griffon_mercs_more_power
		}
		hidden_effect = { county_event = { id = tribal.5 days = 30 } }
	}
	option = {
		name = tribal.331.c
		swap_ideas = {
    		remove_idea = griffon_mercs
    		add_idea = griffon_mercs_more_organization
		}
		hidden_effect = { county_event = { id = tribal.5 days = 30 } }
	}
}
country_event = {
	id = tribal.332
	title = tribal.332.t
	desc = tribal.332.d
	picture = GFX_event_generic_settlement_1
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	option = {
		name = tribal.332.a
		swap_ideas = {
    		remove_idea = griffon_traders
    		add_idea = griffon_honest_riches
		}
		hidden_effect = { county_event = { id = tribal.5 days = 30 } }
	}
	option = {
		name = tribal.332.b
		swap_ideas = {
    		remove_idea = griffon_traders
    		add_idea = griffon_business
		}
		hidden_effect = { county_event = { id = tribal.5 days = 30 } }
	}
	option = {
		name = tribal.332.c
		swap_ideas = {
    		remove_idea = griffon_traders
    		add_idea = griffon_riches_no_matter_how
		}
		set_country_flag = slavery_allowed
		hidden_effect = { county_event = { id = tribal.5 days = 30 } }
		custom_effect_tooltip = slave_trade_tt
	}
}
country_event = {
	id = tribal.333
	title = tribal.333.t
	desc = tribal.333.d
	picture = GFX_event_generic_settlement_1
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	option = {
		name = tribal.333.a
		swap_ideas = {
    		remove_idea = griffon_slavers
    		add_idea = griffon_more_slaves
		}
		set_country_flag = slavery_allowed
		hidden_effect = { county_event = { id = tribal.5 days = 30 } }
	}
	option = {
		name = tribal.333.b
		swap_ideas = {
    		remove_idea = griffon_slavers
    		add_idea = griffon_more_money
		}
		set_country_flag = slavery_allowed
		hidden_effect = { county_event = { id = tribal.5 days = 30 } }
	}
	option = {
		name = tribal.333.c
		swap_ideas = {
    		remove_idea = griffon_slavers
    		add_idea = griffon_more_power
		}
		set_country_flag = slavery_allowed
		hidden_effect = { county_event = { id = tribal.5 days = 30 } }
	}
}
country_event = { #That looks fine for me.
	id = tribal.4
	title = tribal.4.t
	desc = tribal.4.d
	picture = GFX_event_generic_settlement_1
	is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	option = {
		name = tribal.4.a
		increase_society_development_with_tt = yes
		set_country_flag = industrial_tribe
	}
	option = {
		name = tribal.4.b
		increase_society_development_with_tt = yes
		set_country_flag = scientific_tribe
	}
}
#ELECTIONS, ELECTIONS, ELECTIONS.
country_event = {
	id = tribal.6
	title = tribal.6.t
	desc = tribal.6.d
	picture = GFX_event_generic_settlement_1
	is_triggered_only = yes
	option = { #Visionary
		name = tribal.6.a
        set_politics = { ruling_party = visionary elections_allowed = no }
        trigger = {
            OR = {
                has_idea = pony_honest_riches
                has_idea = pony_new_civilisation
                has_idea = pony_saviors
                has_idea = griffon_honest_riches
                has_idea = zebra_conquerors
                has_idea = zebra_on_our_own
                has_idea = zebra_healers
                has_idea = zebra_experimentators
            }
        }
        custom_effect_tooltip = visionary_tt
        set_country_flag = elections_ended
	}
	option = { #Continuation.
		name = tribal.6.b
		set_politics = { ruling_party = continuation elections_allowed = no }
        trigger = {
            OR = {
                has_idea = pony_village
                has_idea = pony_new_civilisation
                has_idea = pony_saviors
                has_idea = pony_honest_riches
                has_idea = griffon_honest_riches
                has_idea = pony_business
                has_idea = griffon_business
                has_idea = pony_riches_no_matter_how
                has_idea = griffon_riches_no_matter_how
                has_idea = zebra_more_money
                has_idea = griffon_more_money
                has_idea = zebra_drugs
                has_idea = griffon_mercs_more_money
                has_idea = griffon_mercs_more_power
                has_idea = griffon_mercs_more_organization
            }
        }
        custom_effect_tooltip = continuation_tt
        set_country_flag = elections_ended
	}
	option = { #Survivalism.
		name = tribal.6.c
		set_politics = { ruling_party = survivalism elections_allowed = no }
        trigger = {
            OR = {
                has_idea = griffon_mercs_more_power
                has_idea = griffon_mercs_more_organization
                has_idea = zebra_conquerors
                has_idea = zebra_on_our_own
                has_idea = pony_village
                has_idea = pony_surviviors
                has_idea = pony_search_for_riches
                has_idea = pony_search_for_history
            }
        }
        custom_effect_tooltip = survivalism_tt
        set_country_flag = elections_ended
	}
	option = { #Destruction.
		name = tribal.6.e
		set_politics = { ruling_party = destruction elections_allowed = no }
        trigger = {
            OR = {
                has_idea = griffon_mercs_more_power
                has_idea = zebra_experimentators
                has_idea = zebra_drugs
                has_idea = zebra_more_slaves
                has_idea = zebra_more_power
                has_idea = zebra_more_money
                has_idea = griffon_more_slaves
                has_idea = griffon_more_power
                has_idea = griffon_more_money
                has_idea = pony_riches_no_matter_how
                has_idea = griffon_riches_no_matter_how
            }
        }
        custom_effect_tooltip = destruction_tt
        set_country_flag = elections_ended
	}
}
################
### FUN PART ###
################
#Events so you will not die from boredom.
country_event = {
	id = tribal.5
	title = tribal.5.t #You are not supposed to see this event.
	desc = tribal.5.d
	picture = GFX_event_generic_settlement_1
	is_triggered_only = yes
	hidden = yes
	option = { #Story never ends.
		name = tribal.5.a
		random_list = {
            5 = {
                country_event = { id = tribal.51 days = 30 } #Peaceful traders.
                modifier = {
                    factor = 0
                    has_country_flag = infamous_shithole
                }
            }
            5 = {
                country_event = { id = tribal.52 days = 30 } #Renowned travellers - more money, but risky.
                modifier = {
                    factor = 4
                    has_country_flag = infamous_shithole
                }
                modifier = {
                    factor = 3
                    has_country_flag = raiding_actions_2
                }
                modifier = {
                    factor = 2
                    has_country_flag = raiding_actions_1
                }
                modifier = {
                    factor = 1
                    has_country_flag = raiding_actions_0
                }
            }
            5 = {
                country_event = { id = tribal.53 days = 30 } #Heavily armed traders - high risk&high reward.
            }
            5 = {
                country_event = { id = tribal.54 days = 30 } #Delegations.
                modifier = {
                    factor = 0
                    has_country_flag = office_established
                }
            }
#            5 = {
#                country_event = { id = tribal.55 days = 30 } #Recovery&Punishment brigades - oh crap oh fuck.
#                modifier = {
#                    factor = 0
#                    OR = {
#                        NOT = { has_country_flag = infamous_shithole }
#                        NOT = { has_country_flag = raiding_actions_0 }
#                        NOT = { has_country_flag = raiding_actions_1 }
#                        NOT = { has_country_flag = raiding_actions_2 }
#                    }
#                }
#                modifier = {
#                    factor = 4
#                    has_country_flag = infamous_shithole
#                }
#                modifier = {
#                    factor = 3
#                    has_country_flag = raiding_actions_2
#                }
#                modifier = {
#                    factor = 2
#                    has_country_flag = raiding_actions_1
#                }
#                modifier = {
#                    factor = 1
#                    has_country_flag = raiding_actions_0
#                }
#            }
            5 = {
                country_event = { id = tribal.50 days = 30 } #Nothing...
            }
		}
	}
}
country_event = { #Nothing happens.
    id = tribal.50
    hidden = yes
    is_triggered_only = yes
    title = tribal.50.t #You are not supposed to see this event.
	desc = tribal.50.d
	picture = GFX_event_generic_settlement_1
	option  = {
	    name = tribal.50.a
	    country_event = { id = tribal.5 }
	}
}
country_event = { #Traders pass by.
	id = tribal.51
	title = tribal.51.t
	desc = tribal.51.d
	picture = GFX_event_generic_settlement_1
	hidden = yes
	is_triggered_only = yes
	option = {
	    name = tribal.51.a
	    random_list = {
	        5 = {
	            set_country_flag = gun_traders #They carry guns.
                modifier = {
                    factor = 2
                    has_war_support > 0.6
                    NOT = { has_country_flag = infamous_shithole }
                    NOT = { has_country_flag = raiding_actions_0 }
                    NOT = { has_country_flag = raiding_actions_1 }
                    NOT = { has_country_flag = raiding_actions_2 }
                }
	        }
            5 = {
                set_country_flag = food_traders #They carry food.
                modifier = {
                    factor = 2
                    has_stability < 0.6
                    NOT = { has_country_flag = infamous_shithole }
                    NOT = { has_country_flag = raiding_actions_0 }
                    NOT = { has_country_flag = raiding_actions_1 }
                    NOT = { has_country_flag = raiding_actions_2 }
                }
            }
            5 = {
                set_country_flag = tools_traders #They carry tools.
                modifier = {
                    factor = 2
                    has_stability < 0.5
                    NOT = { has_country_flag = infamous_shithole }
                    NOT = { has_country_flag = raiding_actions_0 }
                    NOT = { has_country_flag = raiding_actions_1 }
                    NOT = { has_country_flag = raiding_actions_2 }
                }
            }
            5 = {
                set_country_flag = scrap_traders #They carry various junk.
                modifier = {
                    factor = 2
                    has_stability < 0.4
                    NOT = { has_country_flag = infamous_shithole }
                    NOT = { has_country_flag = raiding_actions_0 }
                    NOT = { has_country_flag = raiding_actions_1 }
                    NOT = { has_country_flag = raiding_actions_2 }
                }
            }
            5 = {
                set_country_flag = empty_traders #They are willing to buy something.
            }
            5 = {
                set_country_flag = empty_poor_traders #Next time you will be more lucky.
            }
	    }
	    country_event = { id = tribal.511 days = 2 }
	    country_event = { id = tribal.5 }
	}
}
country_event = {
	id = tribal.511
	title = tribal.511.t
	desc = {
        text = tribal.511.d0
        trigger = { has_country_flag = gun_traders }
	}
	desc = {
        text = tribal.511.d1
        trigger = { has_country_flag = food_traders }
	}
	desc = {
        text = tribal.511.d2
        trigger = { has_country_flag = tools_traders }
	}
	desc = {
        text = tribal.511.d3
        trigger = { has_country_flag = scrap_traders }
	}
	desc = {
        text = tribal.511.d4
        trigger = { has_country_flag = empty_traders }
	}
	desc = {
        text = tribal.511.d5
        trigger = { has_country_flag = empty_poor_traders }
	}
	picture = GFX_event_generic_settlement_1
	is_triggered_only = yes
	option = { #Trade with them.
		name = tribal.511.a
		if = {
		    limit = {
		        has_government = destruction
		    }
		    add_stability = -0.1
		    add_war_support = -0.1
		}
        if = {
            limit = {
                has_country_flag = gun_traders
            }
            random_list = {
                5 = {
                    add_equipment_to_stockpile = {
               	        type = infantry_equipment
               	        amount = 50
                    }
                }
                5 = {
                    add_equipment_to_stockpile = {
               	        type = explosive_equipment
               	        amount = 50
                    }
                }
                5 = {
                    add_equipment_to_stockpile = {
               	        type = support_equipment
               	        amount = 50
                    }
                }
            }
            set_temp_variable = {
    			caps_to_add = -200
    		}
    		add_caps = yes
            clr_country_flag = gun_traders
        }
        if = {
            limit = {
                has_country_flag = food_traders
            }
            add_stability = 0.02
            add_timed_idea = {
                idea = food_surplus
                days = 20
            }
            set_temp_variable = {
    			caps_to_add = -200
    		}
    		add_caps = yes
            clr_country_flag = food_traders
        }
        if = {
            limit = {
                has_country_flag = tools_traders
            }
            add_stability = 0.02
            add_timed_idea = {
                idea = tools_surplus
                days = 20
            }
            set_temp_variable = {
    			caps_to_add = -200
    		}
    		add_caps = yes
            clr_country_flag = tools_traders
        }
        if = {
            limit = {
                has_country_flag = scrap_traders
            }
            add_stability = 0.02
            clr_country_flag = scrap_traders
            add_timed_idea = {
                idea = scrap_surplus
                days = 20
            }
            set_temp_variable = {
    			caps_to_add = -200
    		}
    		add_caps = yes
        }
        if = {
            limit = {
                has_country_flag = empty_traders
            }
            add_stability = 0.02
            set_temp_variable = {
    			caps_to_add = 200
    		}
    		add_caps = yes
            clr_country_flag = empty_traders
        }
        #country_event = { id = tribal.5 }
        if = {
            limit = {
                has_country_flag = empty_poor_traders
            }
            clr_country_flag = empty_poor_traders
        }
        trigger = {
            NOT = { has_country_flag = empty_poor_traders }
        }
	}
	option = { #Offer them to settle down.
		name = tribal.511.b
		add_timed_idea = {
		    idea = tribal_outsiders
		    days = 20
		}
		#TODO think about debuffs.
		random_list = {
		    20 = {
		        random_owned_state = {
		            add_population = 20
		        }
		    }
		    20 = {
		        random_owned_state = {
		            add_population = 5
		        }
		    }
		    20 = {
		        random_owned_state = {
		            add_population = 10
		        }
		    }
		    20 = {
		        random_owned_state = {
		            add_population = 30
		        }
		    }
		    20 = {
		        random_owned_state = {
		            add_population = 15
		        }
		    }
		}
        if = {
            limit = {
                has_country_flag = gun_traders
            }
            clr_country_flag = gun_traders
        }
        if = {
            limit = {
                has_country_flag = food_traders
            }
            clr_country_flag = food_traders
        }
        if = {
            limit = {
                has_country_flag = tools_traders
            }
            clr_country_flag = tools_traders
        }
        if = {
            limit = {
                has_country_flag = scrap_traders
            }
            clr_country_flag = scrap_traders
        }
        if = {
            limit = {
                has_country_flag = empty_traders
            }
            clr_country_flag = empty_traders
        }
        if = {
            limit = {
                has_country_flag = empty_poor_traders
            }
            clr_country_flag = empty_poor_traders
        }
		#country_event = { id = tribal.5 }
	}
	option = { #Raid them.
		name = tribal.511.c
		if = {
		    limit = {
		        NOT = { has_government = destruction }
		    }
		    add_stability = -0.1
		}
        if = {
            limit = {
                has_country_flag = gun_traders
            }
            random_list = {
                5 = {
                    add_equipment_to_stockpile = {
               	        type = infantry_equipment
               	        amount = 25
                    }
                }
                5 = {
                    add_equipment_to_stockpile = {
               	        type = explosive_equipment
               	        amount = 25
               	    }
                }
                5 = {
                    add_equipment_to_stockpile = {
               	        type = support_equipment
               	        amount = 25
                    }
                }
            }
            add_stability = -0.04
            add_war_support = 0.02
            set_temp_variable = {
    			caps_to_add = 100
    		}
    		add_caps = yes
        }
        if = {
            limit = {
                has_country_flag = food_traders
            }
            add_stability = -0.02
            add_timed_idea = {
                idea = food_surplus
                days = 10
            }
            set_temp_variable = {
    			caps_to_add = 100
    		}
    		add_caps = yes
        }
        if = {
            limit = {
                has_country_flag = tools_traders
            }
            add_stability = -0.02
            add_timed_idea = {
                idea = tools_surplus
                days = 10
            }
            set_temp_variable = {
    			caps_to_add = 100
    		}
    		add_caps = yes
        }
        if = {
            limit = {
                has_country_flag = scrap_traders
            }
            add_stability = -0.02
            add_timed_idea = {
                idea = scrap_surplus
                days = 10
            }
            set_temp_variable = {
    			caps_to_add = 100
    		}
    		add_caps = yes
        }
        if = {
            limit = {
                has_country_flag = empty_traders
            }
            add_stability = -0.02
            set_temp_variable = {
    			caps_to_add = 100
    		}
    		add_caps = yes
        }
        if = {
            limit = {
                has_country_flag = empty_poor_traders
            }
            add_stability = -0.04
        }
        if = {
            limit = {
                has_country_flag = raiding_actions_2
            }
            set_country_flag = infamous_shithole
        }
        if = {
            limit = {
                has_country_flag = raiding_actions_1
            }
            set_country_flag = raiding_actions_2
        }
        if = {
            limit = {
                has_country_flag = raiding_actions_0
            }
            set_country_flag = raiding_actions_1
        }
        if = {
            limit = {
                OR = {
                   NOT = { has_country_flag = raiding_actions_0 }
                   NOT = { has_country_flag = raiding_actions_1 }
                   NOT = { has_country_flag = raiding_actions_2 }
                   NOT = { has_country_flag = infamous_shithole }
                }
            }
            set_country_flag = raiding_actions_0
        }
            if = {
                limit = {
                    OR = {
                        has_country_flag = slavery_allowed
                    }
                }
                random_list = { # Losses.
                    25 = {
                        add_manpower = -5
                    }
                    25 = {
                        add_manpower = -15
                    }
                    25 = {
                        add_manpower = -10
                    }
                    25 = {
                        #No losses.
                    }
                }
                random_list = { # Captured.
                    25 = {
                        add_manpower = 10
                    }
                    25 = {
                        add_manpower = 20
                    }
                    25 = {
                        add_manpower = 5
                    }
                    25 = {
                        #No captives.
                    }
                }
            }
            if = {
                limit = {
                    NOT = { has_country_flag = slavery_allowed }
                }
                random_list = { # Losses.
                    25 = {
                        add_manpower = -5
                    }
                    25 = {
                        add_manpower = -15
                    }
                    25 = {
                        add_manpower = -10
                    }
                    25 = {
                        #No losses.
                    }
                }
            }
            #country_event = { id = tribal.5 }
        if = {
            limit = {
                has_country_flag = gun_traders
            }
            clr_country_flag = gun_traders
        }
        if = {
            limit = {
                has_country_flag = food_traders
            }
            clr_country_flag = food_traders
        }
        if = {
            limit = {
                has_country_flag = tools_traders
            }
            clr_country_flag = tools_traders
        }
        if = {
            limit = {
                has_country_flag = scrap_traders
            }
            clr_country_flag = scrap_traders
        }
        if = {
            limit = {
                has_country_flag = empty_traders
            }
            clr_country_flag = empty_traders
        }
        if = {
            limit = {
                has_country_flag = empty_poor_traders
            }
            clr_country_flag = empty_poor_traders
        }
	}
	option = { #Throw them away.
		name = tribal.511.e
		if = {
		    limit = {
		        NOT = { has_government = destruction }
		    }
		    add_stability = 0.05
		    add_war_support = 0.02
	    }
	    #country_event = { id = tribal.5 }
        if = {
            limit = {
                has_country_flag = gun_traders
            }
            clr_country_flag = gun_traders
        }
        if = {
            limit = {
                has_country_flag = food_traders
            }
            clr_country_flag = food_traders
        }
        if = {
            limit = {
                has_country_flag = tools_traders
            }
            clr_country_flag = tools_traders
        }
        if = {
            limit = {
                has_country_flag = scrap_traders
            }
            clr_country_flag = scrap_traders
        }
        if = {
            limit = {
                has_country_flag = empty_traders
            }
            clr_country_flag = empty_traders
        }
        if = {
            limit = {
                has_country_flag = empty_poor_traders
            }
            clr_country_flag = empty_poor_traders
        }
	}
}
#Compressing events to make it look as generic as possible.
country_event = { #Renowned travellers.
	id = tribal.52
	title = tribal.52.t
	desc = tribal.52.d
	picture = GFX_event_generic_desert_1
	is_triggered_only = yes
	option = { #Offer them a stay.
		name = tribal.52.a
		country_event = { id = tribal.521 days = 3 }
        trigger = {
            NOT = {
                OR = {
                    has_country_flag = infamous_shithole
                    has_country_flag = raiding_actions_2
                    has_country_flag = raiding_actions_1
                    has_country_flag = raiding_actions_0
                }
            }
        }
	}
	option = { #They are not welcome here.
		name = tribal.52.b
		country_event = { id = tribal.522 days = 3 }
	}
	option = { #Attack them.
		name = tribal.52.c
		random_list = {
            1 = { #They will run away. Less captives&Less losses.
                modifier = { #First try always gives a fight.
                    factor = 0
                    NOT = {
                        has_country_flag = infamous_shithole
                        has_country_flag = raiding_actions_0
                        has_country_flag = raiding_actions_1
                        has_country_flag = raiding_actions_2
                    }
                }
                modifier = {
                    factor = 100
                    has_country_flag = infamous_shithole
                }
                modifier = {
                    factor = 75
                    has_country_flag = raiding_actions_2
                }
                modifier = {
                    factor = 50
                    has_country_flag = raiding_actions_1
                }
                modifier = {
                    factor = 25
                    has_country_flag = raiding_actions_0
                }
        		country_event = { id = tribal.523 days = 1 }
            }
            1 = { #They will give a fight. Less captives&More losses.
                modifier = {
                    factor = 0
                    has_country_flag = infamous_shithole
                }
                modifier = {
                    factor = 25
                    has_country_flag = raiding_actions_2
                }
                modifier = {
                    factor = 50
                    has_country_flag = raiding_actions_1
                }
                modifier = {
                    factor = 75
                    has_country_flag = raiding_actions_0
                }
         		country_event = { id = tribal.524 days = 1 }
            }
		}
	}
}
country_event = { #Renowned travellers - guests are welcome.
	id = tribal.521
	title = tribal.521.t
	desc = tribal.521.d
	picture = GFX_event_generic_desert_1
	is_triggered_only = yes
	option = { #Nice.
		name = tribal.521.a
		country_event = { id = tribal.5 }
        set_temp_variable = {
    		caps_to_add = 500
    	}
    	add_caps = yes
        #TODO Randomise outcomes?
        #No, that's enough story for now. That is a generic tree after all. Maybe in future.
        #TODO lower threat level?
	}
}
country_event = { #Renowned travellers - guests are not welcome.
	id = tribal.522
	title = tribal.522.t
	desc = tribal.522.d
	picture = GFX_event_generic_desert_1
	is_triggered_only = yes
	option = { #They just go away.
		name = tribal.522.a
		country_event = { id = tribal.5 }
        #TODO Randomise outcomes?
        #No, that's enough story for now. That is a generic tree after all. Maybe in future.
        #TODO lower threat level? Probably not.
	}
}
country_event = { #Renowned travellers - attack, chase.
	id = tribal.523
	title = tribal.523.t
	desc = tribal.523.d
	picture = GFX_event_generic_desert_1
	is_triggered_only = yes
	option = { #Try to pincer them.
		name = tribal.523.a
		country_event = { id = tribal.5 }
        random_list = {
            1 = { #Success!
                modifier = {
                    factor = 50
                    has_country_flag = infamous_shithole
                }
                modifier = {
                    factor = 25
                    has_country_flag = raiding_actions_1
                }
                set_country_flag = invaders_pincered
                country_event = { id = tribal.5231 }
            }
            1 = { #Failure!
                modifier = {
                    factor = 0
                    has_country_flag = infamous_shithole
                }
                modifier = {
                    factor = 50
                    has_country_flag = raiding_actions_1
                }
                set_country_flag = invaders_got_away
                country_event = { id = tribal.5231 }
            }
            1 = { #Surrender!
                modifier = {
                    factor = 50
                    has_country_flag = infamous_shithole
                }
                modifier = {
                    factor = 25
                    has_country_flag = raiding_actions_1
                }
                set_country_flag = invaders_surrendered
                country_event = { id = tribal.5231 }
            }
        }
        trigger = {
            OR = {
                has_country_flag = raiding_actions_1
                has_country_flag = raiding_actions_2
                has_country_flag = infamous_shithole
            }
        }
        #TODO rise threat level?
	}
	option = { #Chase them.
        name = tribal.523.b
        random_list = { #Always the same.
            1 = { #Success!
                set_country_flag = invaders_chase_success
                country_event = { id = tribal.5231 }
            }
            1 = { #Failure!
                set_country_flag = invaders_chase_fail
                country_event = { id = tribal.5231 }
            }
        }
        country_event = { id = tribal.5 }
        #TODO rise threat level?
	}
	option = { #Let them go.
	    name = tribal.523.c
		country_event = { id = tribal.5 }
	    #TODO rise threat level?
	}
}
country_event = { #Renowned travellers - guests are not welcome.
	id = tribal.5231
	title = tribal.5231.t
	desc = {
	    text = tribal.5231.d0
	    trigger = { has_country_flag = invaders_pincered }
	}
	desc = {
	    text = tribal.5231.d1
	    trigger = { has_country_flag = invaders_got_away }
	}
	desc = {
	    text = tribal.5231.d2
	    trigger = { has_country_flag = invaders_surrendered }
	}
	desc = {
	    text = tribal.5231.d3
	    trigger = { has_country_flag = invaders_chase_success }
	}
	desc = {
	    text = tribal.5231.d4
	    trigger = { has_country_flag = invaders_chase_fail }
	}
	picture = GFX_event_generic_desert_1
	is_triggered_only = yes
	option = { #For fails.
		name = tribal.5231.a
		#country_event = { id = tribal.5 }
        random_list = { #Losses.
            1 = {
                add_manpower = -7
            }
            1 = {
                add_manpower = -4
            }
            1 = {
                add_manpower = -1
            }
            1 = {
                #No losses.
            }
        }
        random_list = { #Captives.
            5 = {
                #No captives.
            }
            1 = {
                add_manpower = 1
                set_temp_variable = {
    			    caps_to_add = 200
    		    }
    		    add_caps = yes
            }
        }
        trigger = {
            OR = {
                has_country_flag = invaders_got_away
                has_country_flag = invaders_chase_fail
            }
        }
        if = {
            limit = {
                has_country_flag = invaders_pincered
            }
            clr_country_flag = invaders_pincered
        }
        if = {
            limit = {
                has_country_flag = invaders_got_away
            }
            clr_country_flag = invaders_got_away
        }
        if = {
            limit = {
                has_country_flag = invaders_surrendered
            }
            clr_country_flag = invaders_surrendered
        }
        if = {
            limit = {
                has_country_flag = invaders_chase_success
            }
            clr_country_flag = invaders_chase_success
        }
        if = {
            limit = {
                has_country_flag = invaders_chase_fail
            }
            clr_country_flag = invaders_chase_fail
        }
	}
	option = { #Nice.
	    name = tribal.5231.b
	    trigger = {
	        OR = {
	            has_country_flag = invaders_pincered
	            has_country_flag = invaders_surrendered
	            has_country_flag = invaders_success
	        }
	    }
        random_list = { #Losses.
            1 = {
                add_manpower = -20
                modifier = {
                    factor = 0
                    has_country_flag = invaders_surrendered
                }
            }
            1 = {
                add_manpower = -10
                modifier = {
                    factor = 0
                    has_country_flag = invaders_surrendered
                }
            }
            1 = {
                add_manpower = -30
                modifier = {
                    factor = 0
                    has_country_flag = invaders_surrendered
                }
            }
            1 = {
                #No losses.
            }
        }
        random_list = { #Captives.
            1 = {
                #No captives.
                set_temp_variable = {
    			    caps_to_add = 1000
    		    }
    		    add_caps = yes
                modifier = {
                    factor = 0
                    has_country_flag = invaders_surrendered
                }
            }
            1 = {
                add_manpower = 4
                set_temp_variable = {
    			    caps_to_add = 600 #200 + 100 x 4
    		    }
    		    add_caps = yes
            }
            1 = {
                add_manpower = 3
                set_temp_variable = {
                    caps_to_add = 700 #200 + 200 + 100 x 3
                }
                add_caps = yes
            }
            1 = {
                add_manpower = 2
                set_temp_variable = {
                    caps_to_add = 800 # 200 + 200 + 200 + 100 x 2
                }
                add_caps = yes
            }
            1 = {
                add_manpower = 1
                set_temp_variable = {
                    caps_to_add = 900 # 200 + 200 + 200 + 200 + 100
                }
                add_caps = yes
            }
        }
        if = {
            limit = {
                has_country_flag = invaders_pincered
            }
            clr_country_flag = invaders_pincered
        }
        if = {
            limit = {
                has_country_flag = invaders_got_away
            }
            clr_country_flag = invaders_got_away
        }
        if = {
            limit = {
                has_country_flag = invaders_surrendered
            }
            clr_country_flag = invaders_surrendered
        }
        if = {
            limit = {
                has_country_flag = invaders_chase_success
            }
            clr_country_flag = invaders_chase_success
        }
        if = {
            limit = {
                has_country_flag = invaders_chase_fail
            }
            clr_country_flag = invaders_chase_fail
        }
	}
}
country_event = { #Heavily armed traders.
	id = tribal.53
	title = tribal.53.t
	desc = tribal.53.d
	picture = GFX_event_generic_settlement_1
	is_triggered_only = yes
	option = { #Attack them in front.
		name = tribal.53.a
		country_event = { id = tribal.5 }
        random_list = {
            1 = { #Success.
                modifier = { #Complete surprise achieved.
                    factor = 100
                    NOT = {
                        OR = {
                            has_country_flag = raiding_action_0
                            has_country_flag = raiding_action_1
                            has_country_flag = raiding_action_2
                            has_country_flag = infamous_shithole
                        }
                    }
                }
            }
            1 = { #Failure.
                modifier = {
                    factor = 0
                    NOT = {
                        OR = {
                            has_country_flag = raiding_action_0
                            has_country_flag = raiding_action_1
                            has_country_flag = raiding_action_2
                            has_country_flag = infamous_shithole
                        }
                    }
                }
                modifier = {
                    factor = 99
                    OR = {
                        has_country_flag = raiding_action_2
                        has_country_flag = infamous_shithole
                    }
                }
            }
        }
	}
	option = { #Prepare an ambush.
	    name = tribal.53.b
	    country_event = { id = tribal.5 }
	    random_list = {
	        1 = { #Success.
	            set_country_flag = ambush_success
                country_event = tribal.531
	        }
	        4 = { #Ambush discovered.
                add_manpower = -20
	        }
	    }
	    }
	}
	option = { #Let them be.
		name = tribal.53.c
		country_event = { id = tribal.5 }
        random_list = {
            1 = { #They will stop by.
                modifier = {
                    factor = 0
                    OR = {
                        has_country_flag = raiding_action_1
                        has_country_flag = raiding_action_2
                        has_country_flag = infamous_shithole
                    }
                }
                set_temp_variable = {
    			    caps_to_add = 500
    		    }
    		    add_caps = yes
            }
            1 = { #They will just pass.

            }
        }
	}
}
country_event = {
	id = tribal.531
	title = tribal.531.t
	desc = tribal.531.d
	picture = GFX_event_generic_desert_1
	is_triggered_only = yes
	option = {
		name = tribal.531.a
        random_list = { #Losses.
            1 = {
                add_manpower = -7
            }
            1 = {
                add_manpower = -4
            }
            1 = {
                add_manpower = -1
            }
            1 = {
                #No losses.
            }
        }
        random_list = {
            5 = {
                add_equipment_to_stockpile = {
           	        type = infantry_equipment
           	        amount = 50
                }
            }
            5 = {
                add_equipment_to_stockpile = {
          	        type = explosive_equipment
           	        amount = 50
                }
            }
            5 = {
                add_equipment_to_stockpile = {
           	        type = support_equipment
           	        amount = 50
                }
            }
        }
	}
}
country_event = {
	id = tribal.54
	title = tribal.54.t
	desc = tribal.54.d
	picture = GFX_event_generic_desert_1
	is_triggered_only = yes
	hidden = yes
	option = {
		name = tribal.54.a
		random_list = {
		    1 = { #Talons.
		        country_event = { id = tribal.541 }
		    }
		    1 = { #Trade company.
		        country_event = { id = tribal.542 }
		    }
		    #1 = { #Follovers of the Apocalypse?
		    #    country_event = { id = tribal.543 }
		    #}
		    #Cut for now.
		}
		set_country_flag = office_established
		country_event = { id = tribal.5 }
	}
}
country_event = {
	id = tribal.541
	title = tribal.541.t
	desc = tribal.541.d
	picture = GFX_event_generic_desert_1
	is_triggered_only = yes
	hidden = yes
	option = {
		name = tribal.541.a
        #TODO state modifier on capital "Leased land to Talons". -25% slots, -10% construction speed, recruitable pop factor +?%, can buy talon divisions, +defence?.
	}
	option = { #Be gone.
	    name = tribal.541.b
	    clr_country_flag = office_established
	}
}
country_event = {
	id = tribal.542
	title = tribal.542.t
	desc = tribal.542.d
	picture = GFX_event_generic_desert_1
	is_triggered_only = yes
	hidden = yes
	option = {
		name = tribal.542.a
        #TODO state modifier on capital "Leased land to Traders". -15% slots, +10% construction speed, decisions to invest in trade, can't raid traders, monthly cap income(by events).
	}
	option = { #Be gone.
	    name = tribal.542.b
	    clr_country_flag = office_established
	}
}